(function(P){if(typeof exports=="object"&&typeof module<"u")module.exports=P();else if(typeof define=="function"&&define.amd)define([],P);else{var X;typeof window<"u"?X=window:typeof global<"u"?X=global:typeof self<"u"?X=self:X=this,X.rdfstore=P()}})(function(){var define,module,exports;return function(){function P(X,J,D){function O(c,e){if(!J[c]){if(!X[c]){var f=typeof require=="function"&&require;if(!e&&f)return f(c,!0);if(A)return A(c,!0);var o=new Error("Cannot find module '"+c+"'");throw o.code="MODULE_NOT_FOUND",o}var h=J[c]={exports:{}};X[c][0].call(h.exports,function(d){var b=X[c][1][d];return O(b||d)},h,h.exports,P,X,J,D)}return J[c].exports}for(var A=typeof require=="function"&&require,s=0;s<D.length;s++)O(D[s]);return O}return P}()({1:[function(P,X,J){(function(D){(function(){"use strict";var O=P("possible-typed-array-names"),A=typeof globalThis>"u"?D:globalThis;X.exports=function(){for(var c=[],e=0;e<O.length;e++)typeof A[O[e]]=="function"&&(c[c.length]=O[e]);return c}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"possible-typed-array-names":74}],2:[function(P,X,J){"use strict";J.byteLength=o,J.toByteArray=d,J.fromByteArray=v;for(var D=[],O=[],A=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,e=s.length;c<e;++c)D[c]=s[c],O[s.charCodeAt(c)]=c;O[45]=62,O[95]=63;function f(l){var x=l.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=l.indexOf("=");T===-1&&(T=x);var I=T===x?0:4-T%4;return[T,I]}function o(l){var x=f(l),T=x[0],I=x[1];return(T+I)*3/4-I}function h(l,x,T){return(x+T)*3/4-T}function d(l){var x,T=f(l),I=T[0],F=T[1],L=new A(h(l,I,F)),C=0,_=F>0?I-4:I,E;for(E=0;E<_;E+=4)x=O[l.charCodeAt(E)]<<18|O[l.charCodeAt(E+1)]<<12|O[l.charCodeAt(E+2)]<<6|O[l.charCodeAt(E+3)],L[C++]=x>>16&255,L[C++]=x>>8&255,L[C++]=x&255;return F===2&&(x=O[l.charCodeAt(E)]<<2|O[l.charCodeAt(E+1)]>>4,L[C++]=x&255),F===1&&(x=O[l.charCodeAt(E)]<<10|O[l.charCodeAt(E+1)]<<4|O[l.charCodeAt(E+2)]>>2,L[C++]=x>>8&255,L[C++]=x&255),L}function b(l){return D[l>>18&63]+D[l>>12&63]+D[l>>6&63]+D[l&63]}function w(l,x,T){for(var I,F=[],L=x;L<T;L+=3)I=(l[L]<<16&16711680)+(l[L+1]<<8&65280)+(l[L+2]&255),F.push(b(I));return F.join("")}function v(l){for(var x,T=l.length,I=T%3,F=[],L=16383,C=0,_=T-I;C<_;C+=L)F.push(w(l,C,C+L>_?_:C+L));return I===1?(x=l[T-1],F.push(D[x>>2]+D[x<<4&63]+"==")):I===2&&(x=(l[T-2]<<8)+l[T-1],F.push(D[x>>10]+D[x>>4&63]+D[x<<2&63]+"=")),F.join("")}},{}],3:[function(P,X,J){},{}],4:[function(P,X,J){arguments[4][3][0].apply(J,arguments)},{dup:3}],5:[function(P,X,J){X.exports=function(O){return O&&typeof O=="object"&&typeof O.copy=="function"&&typeof O.fill=="function"&&typeof O.readUInt8=="function"}},{}],6:[function(P,X,J){"use strict";var D=P("is-arguments"),O=P("is-generator-function"),A=P("which-typed-array"),s=P("is-typed-array");function c(z){return z.call.bind(z)}var e=typeof BigInt<"u",f=typeof Symbol<"u",o=c(Object.prototype.toString),h=c(Number.prototype.valueOf),d=c(String.prototype.valueOf),b=c(Boolean.prototype.valueOf);if(e)var w=c(BigInt.prototype.valueOf);if(f)var v=c(Symbol.prototype.valueOf);function l(z,ye){if(typeof z!="object")return!1;try{return ye(z),!0}catch{return!1}}J.isArgumentsObject=D,J.isGeneratorFunction=O,J.isTypedArray=s;function x(z){return typeof Promise<"u"&&z instanceof Promise||z!==null&&typeof z=="object"&&typeof z.then=="function"&&typeof z.catch=="function"}J.isPromise=x;function T(z){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(z):s(z)||re(z)}J.isArrayBufferView=T;function I(z){return A(z)==="Uint8Array"}J.isUint8Array=I;function F(z){return A(z)==="Uint8ClampedArray"}J.isUint8ClampedArray=F;function L(z){return A(z)==="Uint16Array"}J.isUint16Array=L;function C(z){return A(z)==="Uint32Array"}J.isUint32Array=C;function _(z){return A(z)==="Int8Array"}J.isInt8Array=_;function E(z){return A(z)==="Int16Array"}J.isInt16Array=E;function Q(z){return A(z)==="Int32Array"}J.isInt32Array=Q;function B(z){return A(z)==="Float32Array"}J.isFloat32Array=B;function q(z){return A(z)==="Float64Array"}J.isFloat64Array=q;function K(z){return A(z)==="BigInt64Array"}J.isBigInt64Array=K;function W(z){return A(z)==="BigUint64Array"}J.isBigUint64Array=W;function pe(z){return o(z)==="[object Map]"}pe.working=typeof Map<"u"&&pe(new Map);function te(z){return typeof Map>"u"?!1:pe.working?pe(z):z instanceof Map}J.isMap=te;function ue(z){return o(z)==="[object Set]"}ue.working=typeof Set<"u"&&ue(new Set);function se(z){return typeof Set>"u"?!1:ue.working?ue(z):z instanceof Set}J.isSet=se;function be(z){return o(z)==="[object WeakMap]"}be.working=typeof WeakMap<"u"&&be(new WeakMap);function Y(z){return typeof WeakMap>"u"?!1:be.working?be(z):z instanceof WeakMap}J.isWeakMap=Y;function de(z){return o(z)==="[object WeakSet]"}de.working=typeof WeakSet<"u"&&de(new WeakSet);function le(z){return de(z)}J.isWeakSet=le;function ce(z){return o(z)==="[object ArrayBuffer]"}ce.working=typeof ArrayBuffer<"u"&&ce(new ArrayBuffer);function $(z){return typeof ArrayBuffer>"u"?!1:ce.working?ce(z):z instanceof ArrayBuffer}J.isArrayBuffer=$;function ve(z){return o(z)==="[object DataView]"}ve.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ve(new DataView(new ArrayBuffer(1),0,1));function re(z){return typeof DataView>"u"?!1:ve.working?ve(z):z instanceof DataView}J.isDataView=re;var ae=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function he(z){return o(z)==="[object SharedArrayBuffer]"}function fe(z){return typeof ae>"u"?!1:(typeof he.working>"u"&&(he.working=he(new ae)),he.working?he(z):z instanceof ae)}J.isSharedArrayBuffer=fe;function ie(z){return o(z)==="[object AsyncFunction]"}J.isAsyncFunction=ie;function oe(z){return o(z)==="[object Map Iterator]"}J.isMapIterator=oe;function ke(z){return o(z)==="[object Set Iterator]"}J.isSetIterator=ke;function ne(z){return o(z)==="[object Generator]"}J.isGeneratorObject=ne;function ee(z){return o(z)==="[object WebAssembly.Module]"}J.isWebAssemblyCompiledModule=ee;function me(z){return l(z,h)}J.isNumberObject=me;function Ae(z){return l(z,d)}J.isStringObject=Ae;function xe(z){return l(z,b)}J.isBooleanObject=xe;function Z(z){return e&&l(z,w)}J.isBigIntObject=Z;function U(z){return f&&l(z,v)}J.isSymbolObject=U;function M(z){return me(z)||Ae(z)||xe(z)||Z(z)||U(z)}J.isBoxedPrimitive=M;function G(z){return typeof Uint8Array<"u"&&($(z)||fe(z))}J.isAnyArrayBuffer=G,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(z){Object.defineProperty(J,z,{enumerable:!1,value:function(){throw new Error(z+" is not supported in userland")}})})},{"is-arguments":37,"is-generator-function":39,"is-typed-array":40,"which-typed-array":134}],7:[function(P,X,J){(function(D){(function(){var O=Object.getOwnPropertyDescriptors||function(ae){for(var he=Object.keys(ae),fe={},ie=0;ie<he.length;ie++)fe[he[ie]]=Object.getOwnPropertyDescriptor(ae,he[ie]);return fe},A=/%[sdj%]/g;J.format=function(re){if(!E(re)){for(var ae=[],he=0;he<arguments.length;he++)ae.push(f(arguments[he]));return ae.join(" ")}for(var he=1,fe=arguments,ie=fe.length,oe=String(re).replace(A,function(ne){if(ne==="%%")return"%";if(he>=ie)return ne;switch(ne){case"%s":return String(fe[he++]);case"%d":return Number(fe[he++]);case"%j":try{return JSON.stringify(fe[he++])}catch{return"[Circular]"}default:return ne}}),ke=fe[he];he<ie;ke=fe[++he])L(ke)||!K(ke)?oe+=" "+ke:oe+=" "+f(ke);return oe},J.deprecate=function(re,ae){if(typeof D<"u"&&D.noDeprecation===!0)return re;if(typeof D>"u")return function(){return J.deprecate(re,ae).apply(this,arguments)};var he=!1;function fe(){if(!he){if(D.throwDeprecation)throw new Error(ae);D.traceDeprecation?console.trace(ae):console.error(ae),he=!0}return re.apply(this,arguments)}return fe};var s={},c=/^$/;if(D.env.NODE_DEBUG){var e=D.env.NODE_DEBUG;e=e.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),c=new RegExp("^"+e+"$","i")}J.debuglog=function(re){if(re=re.toUpperCase(),!s[re])if(c.test(re)){var ae=D.pid;s[re]=function(){var he=J.format.apply(J,arguments);console.error("%s %d: %s",re,ae,he)}}else s[re]=function(){};return s[re]};function f(re,ae){var he={seen:[],stylize:h};return arguments.length>=3&&(he.depth=arguments[2]),arguments.length>=4&&(he.colors=arguments[3]),F(ae)?he.showHidden=ae:ae&&J._extend(he,ae),B(he.showHidden)&&(he.showHidden=!1),B(he.depth)&&(he.depth=2),B(he.colors)&&(he.colors=!1),B(he.customInspect)&&(he.customInspect=!0),he.colors&&(he.stylize=o),b(he,re,he.depth)}J.inspect=f,f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(re,ae){var he=f.styles[ae];return he?"\x1B["+f.colors[he][0]+"m"+re+"\x1B["+f.colors[he][1]+"m":re}function h(re,ae){return re}function d(re){var ae={};return re.forEach(function(he,fe){ae[he]=!0}),ae}function b(re,ae,he){if(re.customInspect&&ae&&te(ae.inspect)&&ae.inspect!==J.inspect&&!(ae.constructor&&ae.constructor.prototype===ae)){var fe=ae.inspect(he,re);return E(fe)||(fe=b(re,fe,he)),fe}var ie=w(re,ae);if(ie)return ie;var oe=Object.keys(ae),ke=d(oe);if(re.showHidden&&(oe=Object.getOwnPropertyNames(ae)),pe(ae)&&(oe.indexOf("message")>=0||oe.indexOf("description")>=0))return v(ae);if(oe.length===0){if(te(ae)){var ne=ae.name?": "+ae.name:"";return re.stylize("[Function"+ne+"]","special")}if(q(ae))return re.stylize(RegExp.prototype.toString.call(ae),"regexp");if(W(ae))return re.stylize(Date.prototype.toString.call(ae),"date");if(pe(ae))return v(ae)}var ee="",me=!1,Ae=["{","}"];if(I(ae)&&(me=!0,Ae=["[","]"]),te(ae)){var xe=ae.name?": "+ae.name:"";ee=" [Function"+xe+"]"}if(q(ae)&&(ee=" "+RegExp.prototype.toString.call(ae)),W(ae)&&(ee=" "+Date.prototype.toUTCString.call(ae)),pe(ae)&&(ee=" "+v(ae)),oe.length===0&&(!me||ae.length==0))return Ae[0]+ee+Ae[1];if(he<0)return q(ae)?re.stylize(RegExp.prototype.toString.call(ae),"regexp"):re.stylize("[Object]","special");re.seen.push(ae);var Z;return me?Z=l(re,ae,he,ke,oe):Z=oe.map(function(U){return x(re,ae,he,ke,U,me)}),re.seen.pop(),T(Z,ee,Ae)}function w(re,ae){if(B(ae))return re.stylize("undefined","undefined");if(E(ae)){var he="'"+JSON.stringify(ae).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return re.stylize(he,"string")}if(_(ae))return re.stylize(""+ae,"number");if(F(ae))return re.stylize(""+ae,"boolean");if(L(ae))return re.stylize("null","null")}function v(re){return"["+Error.prototype.toString.call(re)+"]"}function l(re,ae,he,fe,ie){for(var oe=[],ke=0,ne=ae.length;ke<ne;++ke)le(ae,String(ke))?oe.push(x(re,ae,he,fe,String(ke),!0)):oe.push("");return ie.forEach(function(ee){ee.match(/^\d+$/)||oe.push(x(re,ae,he,fe,ee,!0))}),oe}function x(re,ae,he,fe,ie,oe){var ke,ne,ee;if(ee=Object.getOwnPropertyDescriptor(ae,ie)||{value:ae[ie]},ee.get?ee.set?ne=re.stylize("[Getter/Setter]","special"):ne=re.stylize("[Getter]","special"):ee.set&&(ne=re.stylize("[Setter]","special")),le(fe,ie)||(ke="["+ie+"]"),ne||(re.seen.indexOf(ee.value)<0?(L(he)?ne=b(re,ee.value,null):ne=b(re,ee.value,he-1),ne.indexOf(`
`)>-1&&(oe?ne=ne.split(`
`).map(function(me){return"  "+me}).join(`
`).slice(2):ne=`
`+ne.split(`
`).map(function(me){return"   "+me}).join(`
`))):ne=re.stylize("[Circular]","special")),B(ke)){if(oe&&ie.match(/^\d+$/))return ne;ke=JSON.stringify(""+ie),ke.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ke=ke.slice(1,-1),ke=re.stylize(ke,"name")):(ke=ke.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ke=re.stylize(ke,"string"))}return ke+": "+ne}function T(re,ae,he){var fe=0,ie=re.reduce(function(oe,ke){return fe++,ke.indexOf(`
`)>=0&&fe++,oe+ke.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ie>60?he[0]+(ae===""?"":ae+`
 `)+" "+re.join(`,
  `)+" "+he[1]:he[0]+ae+" "+re.join(", ")+" "+he[1]}J.types=P("./support/types");function I(re){return Array.isArray(re)}J.isArray=I;function F(re){return typeof re=="boolean"}J.isBoolean=F;function L(re){return re===null}J.isNull=L;function C(re){return re==null}J.isNullOrUndefined=C;function _(re){return typeof re=="number"}J.isNumber=_;function E(re){return typeof re=="string"}J.isString=E;function Q(re){return typeof re=="symbol"}J.isSymbol=Q;function B(re){return re===void 0}J.isUndefined=B;function q(re){return K(re)&&se(re)==="[object RegExp]"}J.isRegExp=q,J.types.isRegExp=q;function K(re){return typeof re=="object"&&re!==null}J.isObject=K;function W(re){return K(re)&&se(re)==="[object Date]"}J.isDate=W,J.types.isDate=W;function pe(re){return K(re)&&(se(re)==="[object Error]"||re instanceof Error)}J.isError=pe,J.types.isNativeError=pe;function te(re){return typeof re=="function"}J.isFunction=te;function ue(re){return re===null||typeof re=="boolean"||typeof re=="number"||typeof re=="string"||typeof re=="symbol"||typeof re>"u"}J.isPrimitive=ue,J.isBuffer=P("./support/isBuffer");function se(re){return Object.prototype.toString.call(re)}function be(re){return re<10?"0"+re.toString(10):re.toString(10)}var Y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function de(){var re=new Date,ae=[be(re.getHours()),be(re.getMinutes()),be(re.getSeconds())].join(":");return[re.getDate(),Y[re.getMonth()],ae].join(" ")}J.log=function(){console.log("%s - %s",de(),J.format.apply(J,arguments))},J.inherits=P("inherits"),J._extend=function(re,ae){if(!ae||!K(ae))return re;for(var he=Object.keys(ae),fe=he.length;fe--;)re[he[fe]]=ae[he[fe]];return re};function le(re,ae){return Object.prototype.hasOwnProperty.call(re,ae)}var ce=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;J.promisify=function(ae){if(typeof ae!="function")throw new TypeError('The "original" argument must be of type Function');if(ce&&ae[ce]){var he=ae[ce];if(typeof he!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(he,ce,{value:he,enumerable:!1,writable:!1,configurable:!0}),he}function he(){for(var fe,ie,oe=new Promise(function(ee,me){fe=ee,ie=me}),ke=[],ne=0;ne<arguments.length;ne++)ke.push(arguments[ne]);ke.push(function(ee,me){ee?ie(ee):fe(me)});try{ae.apply(this,ke)}catch(ee){ie(ee)}return oe}return Object.setPrototypeOf(he,Object.getPrototypeOf(ae)),ce&&Object.defineProperty(he,ce,{value:he,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(he,O(ae))},J.promisify.custom=ce;function $(re,ae){if(!re){var he=new Error("Promise was rejected with a falsy value");he.reason=re,re=he}return ae(re)}function ve(re){if(typeof re!="function")throw new TypeError('The "original" argument must be of type Function');function ae(){for(var he=[],fe=0;fe<arguments.length;fe++)he.push(arguments[fe]);var ie=he.pop();if(typeof ie!="function")throw new TypeError("The last argument must be of type Function");var oe=this,ke=function(){return ie.apply(oe,arguments)};re.apply(this,he).then(function(ne){D.nextTick(ke.bind(null,null,ne))},function(ne){D.nextTick($.bind(null,ne,ke))})}return Object.setPrototypeOf(ae,Object.getPrototypeOf(re)),Object.defineProperties(ae,O(re)),ae}J.callbackify=ve}).call(this)}).call(this,P("_process"))},{"./support/isBuffer":5,"./support/types":6,_process:75,inherits:36}],8:[function(P,X,J){(function(D){(function(){"use strict";var O=P("base64-js"),A=P("ieee754");J.Buffer=f,J.SlowBuffer=I,J.INSPECT_MAX_BYTES=50;var s=2147483647;J.kMaxLength=s,f.TYPED_ARRAY_SUPPORT=c(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{var U=new Uint8Array(1);return U.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},U.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function e(U){if(U>s)throw new RangeError('The value "'+U+'" is invalid for option "size"');var M=new Uint8Array(U);return M.__proto__=f.prototype,M}function f(U,M,G){if(typeof U=="number"){if(typeof M=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(U)}return o(U,M,G)}typeof Symbol<"u"&&Symbol.species!=null&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),f.poolSize=8192;function o(U,M,G){if(typeof U=="string")return w(U,M);if(ArrayBuffer.isView(U))return v(U);if(U==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(xe(U,ArrayBuffer)||U&&xe(U.buffer,ArrayBuffer))return l(U,M,G);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var z=U.valueOf&&U.valueOf();if(z!=null&&z!==U)return f.from(z,M,G);var ye=x(U);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return f.from(U[Symbol.toPrimitive]("string"),M,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}f.from=function(U,M,G){return o(U,M,G)},f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array;function h(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function d(U,M,G){return h(U),U<=0?e(U):M!==void 0?typeof G=="string"?e(U).fill(M,G):e(U).fill(M):e(U)}f.alloc=function(U,M,G){return d(U,M,G)};function b(U){return h(U),e(U<0?0:T(U)|0)}f.allocUnsafe=function(U){return b(U)},f.allocUnsafeSlow=function(U){return b(U)};function w(U,M){if((typeof M!="string"||M==="")&&(M="utf8"),!f.isEncoding(M))throw new TypeError("Unknown encoding: "+M);var G=F(U,M)|0,z=e(G),ye=z.write(U,M);return ye!==G&&(z=z.slice(0,ye)),z}function v(U){for(var M=U.length<0?0:T(U.length)|0,G=e(M),z=0;z<M;z+=1)G[z]=U[z]&255;return G}function l(U,M,G){if(M<0||U.byteLength<M)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<M+(G||0))throw new RangeError('"length" is outside of buffer bounds');var z;return M===void 0&&G===void 0?z=new Uint8Array(U):G===void 0?z=new Uint8Array(U,M):z=new Uint8Array(U,M,G),z.__proto__=f.prototype,z}function x(U){if(f.isBuffer(U)){var M=T(U.length)|0,G=e(M);return G.length===0||U.copy(G,0,0,M),G}if(U.length!==void 0)return typeof U.length!="number"||Z(U.length)?e(0):v(U);if(U.type==="Buffer"&&Array.isArray(U.data))return v(U.data)}function T(U){if(U>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return U|0}function I(U){return+U!=U&&(U=0),f.alloc(+U)}f.isBuffer=function(M){return M!=null&&M._isBuffer===!0&&M!==f.prototype},f.compare=function(M,G){if(xe(M,Uint8Array)&&(M=f.from(M,M.offset,M.byteLength)),xe(G,Uint8Array)&&(G=f.from(G,G.offset,G.byteLength)),!f.isBuffer(M)||!f.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(M===G)return 0;for(var z=M.length,ye=G.length,Fe=0,Ce=Math.min(z,ye);Fe<Ce;++Fe)if(M[Fe]!==G[Fe]){z=M[Fe],ye=G[Fe];break}return z<ye?-1:ye<z?1:0},f.isEncoding=function(M){switch(String(M).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(M,G){if(!Array.isArray(M))throw new TypeError('"list" argument must be an Array of Buffers');if(M.length===0)return f.alloc(0);var z;if(G===void 0)for(G=0,z=0;z<M.length;++z)G+=M[z].length;var ye=f.allocUnsafe(G),Fe=0;for(z=0;z<M.length;++z){var Ce=M[z];if(xe(Ce,Uint8Array)&&(Ce=f.from(Ce)),!f.isBuffer(Ce))throw new TypeError('"list" argument must be an Array of Buffers');Ce.copy(ye,Fe),Fe+=Ce.length}return ye};function F(U,M){if(f.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||xe(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);var G=U.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&G===0)return 0;for(var ye=!1;;)switch(M){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return ke(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G*2;case"hex":return G>>>1;case"base64":return me(U).length;default:if(ye)return z?-1:ke(U).length;M=(""+M).toLowerCase(),ye=!0}}f.byteLength=F;function L(U,M,G){var z=!1;if((M===void 0||M<0)&&(M=0),M>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0,M>>>=0,G<=M))return"";for(U||(U="utf8");;)switch(U){case"hex":return le(this,M,G);case"utf8":case"utf-8":return ue(this,M,G);case"ascii":return Y(this,M,G);case"latin1":case"binary":return de(this,M,G);case"base64":return te(this,M,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,M,G);default:if(z)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),z=!0}}f.prototype._isBuffer=!0;function C(U,M,G){var z=U[M];U[M]=U[G],U[G]=z}f.prototype.swap16=function(){var M=this.length;if(M%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var G=0;G<M;G+=2)C(this,G,G+1);return this},f.prototype.swap32=function(){var M=this.length;if(M%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var G=0;G<M;G+=4)C(this,G,G+3),C(this,G+1,G+2);return this},f.prototype.swap64=function(){var M=this.length;if(M%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var G=0;G<M;G+=8)C(this,G,G+7),C(this,G+1,G+6),C(this,G+2,G+5),C(this,G+3,G+4);return this},f.prototype.toString=function(){var M=this.length;return M===0?"":arguments.length===0?ue(this,0,M):L.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(M){if(!f.isBuffer(M))throw new TypeError("Argument must be a Buffer");return this===M?!0:f.compare(this,M)===0},f.prototype.inspect=function(){var M="",G=J.INSPECT_MAX_BYTES;return M=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(M+=" ... "),"<Buffer "+M+">"},f.prototype.compare=function(M,G,z,ye,Fe){if(xe(M,Uint8Array)&&(M=f.from(M,M.offset,M.byteLength)),!f.isBuffer(M))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof M);if(G===void 0&&(G=0),z===void 0&&(z=M?M.length:0),ye===void 0&&(ye=0),Fe===void 0&&(Fe=this.length),G<0||z>M.length||ye<0||Fe>this.length)throw new RangeError("out of range index");if(ye>=Fe&&G>=z)return 0;if(ye>=Fe)return-1;if(G>=z)return 1;if(G>>>=0,z>>>=0,ye>>>=0,Fe>>>=0,this===M)return 0;for(var Ce=Fe-ye,Ne=z-G,Le=Math.min(Ce,Ne),Ue=this.slice(ye,Fe),qe=M.slice(G,z),Ge=0;Ge<Le;++Ge)if(Ue[Ge]!==qe[Ge]){Ce=Ue[Ge],Ne=qe[Ge];break}return Ce<Ne?-1:Ne<Ce?1:0};function _(U,M,G,z,ye){if(U.length===0)return-1;if(typeof G=="string"?(z=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),G=+G,Z(G)&&(G=ye?0:U.length-1),G<0&&(G=U.length+G),G>=U.length){if(ye)return-1;G=U.length-1}else if(G<0)if(ye)G=0;else return-1;if(typeof M=="string"&&(M=f.from(M,z)),f.isBuffer(M))return M.length===0?-1:E(U,M,G,z,ye);if(typeof M=="number")return M=M&255,typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(U,M,G):Uint8Array.prototype.lastIndexOf.call(U,M,G):E(U,[M],G,z,ye);throw new TypeError("val must be string, number or Buffer")}function E(U,M,G,z,ye){var Fe=1,Ce=U.length,Ne=M.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(U.length<2||M.length<2)return-1;Fe=2,Ce/=2,Ne/=2,G/=2}function Le($e,ze){return Fe===1?$e[ze]:$e.readUInt16BE(ze*Fe)}var Ue;if(ye){var qe=-1;for(Ue=G;Ue<Ce;Ue++)if(Le(U,Ue)===Le(M,qe===-1?0:Ue-qe)){if(qe===-1&&(qe=Ue),Ue-qe+1===Ne)return qe*Fe}else qe!==-1&&(Ue-=Ue-qe),qe=-1}else for(G+Ne>Ce&&(G=Ce-Ne),Ue=G;Ue>=0;Ue--){for(var Ge=!0,Je=0;Je<Ne;Je++)if(Le(U,Ue+Je)!==Le(M,Je)){Ge=!1;break}if(Ge)return Ue}return-1}f.prototype.includes=function(M,G,z){return this.indexOf(M,G,z)!==-1},f.prototype.indexOf=function(M,G,z){return _(this,M,G,z,!0)},f.prototype.lastIndexOf=function(M,G,z){return _(this,M,G,z,!1)};function Q(U,M,G,z){G=Number(G)||0;var ye=U.length-G;z?(z=Number(z),z>ye&&(z=ye)):z=ye;var Fe=M.length;z>Fe/2&&(z=Fe/2);for(var Ce=0;Ce<z;++Ce){var Ne=parseInt(M.substr(Ce*2,2),16);if(Z(Ne))return Ce;U[G+Ce]=Ne}return Ce}function B(U,M,G,z){return Ae(ke(M,U.length-G),U,G,z)}function q(U,M,G,z){return Ae(ne(M),U,G,z)}function K(U,M,G,z){return q(U,M,G,z)}function W(U,M,G,z){return Ae(me(M),U,G,z)}function pe(U,M,G,z){return Ae(ee(M,U.length-G),U,G,z)}f.prototype.write=function(M,G,z,ye){if(G===void 0)ye="utf8",z=this.length,G=0;else if(z===void 0&&typeof G=="string")ye=G,z=this.length,G=0;else if(isFinite(G))G=G>>>0,isFinite(z)?(z=z>>>0,ye===void 0&&(ye="utf8")):(ye=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Fe=this.length-G;if((z===void 0||z>Fe)&&(z=Fe),M.length>0&&(z<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");for(var Ce=!1;;)switch(ye){case"hex":return Q(this,M,G,z);case"utf8":case"utf-8":return B(this,M,G,z);case"ascii":return q(this,M,G,z);case"latin1":case"binary":return K(this,M,G,z);case"base64":return W(this,M,G,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,M,G,z);default:if(Ce)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),Ce=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te(U,M,G){return M===0&&G===U.length?O.fromByteArray(U):O.fromByteArray(U.slice(M,G))}function ue(U,M,G){G=Math.min(U.length,G);for(var z=[],ye=M;ye<G;){var Fe=U[ye],Ce=null,Ne=Fe>239?4:Fe>223?3:Fe>191?2:1;if(ye+Ne<=G){var Le,Ue,qe,Ge;switch(Ne){case 1:Fe<128&&(Ce=Fe);break;case 2:Le=U[ye+1],(Le&192)===128&&(Ge=(Fe&31)<<6|Le&63,Ge>127&&(Ce=Ge));break;case 3:Le=U[ye+1],Ue=U[ye+2],(Le&192)===128&&(Ue&192)===128&&(Ge=(Fe&15)<<12|(Le&63)<<6|Ue&63,Ge>2047&&(Ge<55296||Ge>57343)&&(Ce=Ge));break;case 4:Le=U[ye+1],Ue=U[ye+2],qe=U[ye+3],(Le&192)===128&&(Ue&192)===128&&(qe&192)===128&&(Ge=(Fe&15)<<18|(Le&63)<<12|(Ue&63)<<6|qe&63,Ge>65535&&Ge<1114112&&(Ce=Ge))}}Ce===null?(Ce=65533,Ne=1):Ce>65535&&(Ce-=65536,z.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),z.push(Ce),ye+=Ne}return be(z)}var se=4096;function be(U){var M=U.length;if(M<=se)return String.fromCharCode.apply(String,U);for(var G="",z=0;z<M;)G+=String.fromCharCode.apply(String,U.slice(z,z+=se));return G}function Y(U,M,G){var z="";G=Math.min(U.length,G);for(var ye=M;ye<G;++ye)z+=String.fromCharCode(U[ye]&127);return z}function de(U,M,G){var z="";G=Math.min(U.length,G);for(var ye=M;ye<G;++ye)z+=String.fromCharCode(U[ye]);return z}function le(U,M,G){var z=U.length;(!M||M<0)&&(M=0),(!G||G<0||G>z)&&(G=z);for(var ye="",Fe=M;Fe<G;++Fe)ye+=oe(U[Fe]);return ye}function ce(U,M,G){for(var z=U.slice(M,G),ye="",Fe=0;Fe<z.length;Fe+=2)ye+=String.fromCharCode(z[Fe]+z[Fe+1]*256);return ye}f.prototype.slice=function(M,G){var z=this.length;M=~~M,G=G===void 0?z:~~G,M<0?(M+=z,M<0&&(M=0)):M>z&&(M=z),G<0?(G+=z,G<0&&(G=0)):G>z&&(G=z),G<M&&(G=M);var ye=this.subarray(M,G);return ye.__proto__=f.prototype,ye};function $(U,M,G){if(U%1!==0||U<0)throw new RangeError("offset is not uint");if(U+M>G)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUIntLE=function(M,G,z){M=M>>>0,G=G>>>0,z||$(M,G,this.length);for(var ye=this[M],Fe=1,Ce=0;++Ce<G&&(Fe*=256);)ye+=this[M+Ce]*Fe;return ye},f.prototype.readUIntBE=function(M,G,z){M=M>>>0,G=G>>>0,z||$(M,G,this.length);for(var ye=this[M+--G],Fe=1;G>0&&(Fe*=256);)ye+=this[M+--G]*Fe;return ye},f.prototype.readUInt8=function(M,G){return M=M>>>0,G||$(M,1,this.length),this[M]},f.prototype.readUInt16LE=function(M,G){return M=M>>>0,G||$(M,2,this.length),this[M]|this[M+1]<<8},f.prototype.readUInt16BE=function(M,G){return M=M>>>0,G||$(M,2,this.length),this[M]<<8|this[M+1]},f.prototype.readUInt32LE=function(M,G){return M=M>>>0,G||$(M,4,this.length),(this[M]|this[M+1]<<8|this[M+2]<<16)+this[M+3]*16777216},f.prototype.readUInt32BE=function(M,G){return M=M>>>0,G||$(M,4,this.length),this[M]*16777216+(this[M+1]<<16|this[M+2]<<8|this[M+3])},f.prototype.readIntLE=function(M,G,z){M=M>>>0,G=G>>>0,z||$(M,G,this.length);for(var ye=this[M],Fe=1,Ce=0;++Ce<G&&(Fe*=256);)ye+=this[M+Ce]*Fe;return Fe*=128,ye>=Fe&&(ye-=Math.pow(2,8*G)),ye},f.prototype.readIntBE=function(M,G,z){M=M>>>0,G=G>>>0,z||$(M,G,this.length);for(var ye=G,Fe=1,Ce=this[M+--ye];ye>0&&(Fe*=256);)Ce+=this[M+--ye]*Fe;return Fe*=128,Ce>=Fe&&(Ce-=Math.pow(2,8*G)),Ce},f.prototype.readInt8=function(M,G){return M=M>>>0,G||$(M,1,this.length),this[M]&128?(255-this[M]+1)*-1:this[M]},f.prototype.readInt16LE=function(M,G){M=M>>>0,G||$(M,2,this.length);var z=this[M]|this[M+1]<<8;return z&32768?z|4294901760:z},f.prototype.readInt16BE=function(M,G){M=M>>>0,G||$(M,2,this.length);var z=this[M+1]|this[M]<<8;return z&32768?z|4294901760:z},f.prototype.readInt32LE=function(M,G){return M=M>>>0,G||$(M,4,this.length),this[M]|this[M+1]<<8|this[M+2]<<16|this[M+3]<<24},f.prototype.readInt32BE=function(M,G){return M=M>>>0,G||$(M,4,this.length),this[M]<<24|this[M+1]<<16|this[M+2]<<8|this[M+3]},f.prototype.readFloatLE=function(M,G){return M=M>>>0,G||$(M,4,this.length),A.read(this,M,!0,23,4)},f.prototype.readFloatBE=function(M,G){return M=M>>>0,G||$(M,4,this.length),A.read(this,M,!1,23,4)},f.prototype.readDoubleLE=function(M,G){return M=M>>>0,G||$(M,8,this.length),A.read(this,M,!0,52,8)},f.prototype.readDoubleBE=function(M,G){return M=M>>>0,G||$(M,8,this.length),A.read(this,M,!1,52,8)};function ve(U,M,G,z,ye,Fe){if(!f.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>ye||M<Fe)throw new RangeError('"value" argument is out of bounds');if(G+z>U.length)throw new RangeError("Index out of range")}f.prototype.writeUIntLE=function(M,G,z,ye){if(M=+M,G=G>>>0,z=z>>>0,!ye){var Fe=Math.pow(2,8*z)-1;ve(this,M,G,z,Fe,0)}var Ce=1,Ne=0;for(this[G]=M&255;++Ne<z&&(Ce*=256);)this[G+Ne]=M/Ce&255;return G+z},f.prototype.writeUIntBE=function(M,G,z,ye){if(M=+M,G=G>>>0,z=z>>>0,!ye){var Fe=Math.pow(2,8*z)-1;ve(this,M,G,z,Fe,0)}var Ce=z-1,Ne=1;for(this[G+Ce]=M&255;--Ce>=0&&(Ne*=256);)this[G+Ce]=M/Ne&255;return G+z},f.prototype.writeUInt8=function(M,G,z){return M=+M,G=G>>>0,z||ve(this,M,G,1,255,0),this[G]=M&255,G+1},f.prototype.writeUInt16LE=function(M,G,z){return M=+M,G=G>>>0,z||ve(this,M,G,2,65535,0),this[G]=M&255,this[G+1]=M>>>8,G+2},f.prototype.writeUInt16BE=function(M,G,z){return M=+M,G=G>>>0,z||ve(this,M,G,2,65535,0),this[G]=M>>>8,this[G+1]=M&255,G+2},f.prototype.writeUInt32LE=function(M,G,z){return M=+M,G=G>>>0,z||ve(this,M,G,4,4294967295,0),this[G+3]=M>>>24,this[G+2]=M>>>16,this[G+1]=M>>>8,this[G]=M&255,G+4},f.prototype.writeUInt32BE=function(M,G,z){return M=+M,G=G>>>0,z||ve(this,M,G,4,4294967295,0),this[G]=M>>>24,this[G+1]=M>>>16,this[G+2]=M>>>8,this[G+3]=M&255,G+4},f.prototype.writeIntLE=function(M,G,z,ye){if(M=+M,G=G>>>0,!ye){var Fe=Math.pow(2,8*z-1);ve(this,M,G,z,Fe-1,-Fe)}var Ce=0,Ne=1,Le=0;for(this[G]=M&255;++Ce<z&&(Ne*=256);)M<0&&Le===0&&this[G+Ce-1]!==0&&(Le=1),this[G+Ce]=(M/Ne>>0)-Le&255;return G+z},f.prototype.writeIntBE=function(M,G,z,ye){if(M=+M,G=G>>>0,!ye){var Fe=Math.pow(2,8*z-1);ve(this,M,G,z,Fe-1,-Fe)}var Ce=z-1,Ne=1,Le=0;for(this[G+Ce]=M&255;--Ce>=0&&(Ne*=256);)M<0&&Le===0&&this[G+Ce+1]!==0&&(Le=1),this[G+Ce]=(M/Ne>>0)-Le&255;return G+z},f.prototype.writeInt8=function(M,G,z){return M=+M,G=G>>>0,z||ve(this,M,G,1,127,-128),M<0&&(M=255+M+1),this[G]=M&255,G+1},f.prototype.writeInt16LE=function(M,G,z){return M=+M,G=G>>>0,z||ve(this,M,G,2,32767,-32768),this[G]=M&255,this[G+1]=M>>>8,G+2},f.prototype.writeInt16BE=function(M,G,z){return M=+M,G=G>>>0,z||ve(this,M,G,2,32767,-32768),this[G]=M>>>8,this[G+1]=M&255,G+2},f.prototype.writeInt32LE=function(M,G,z){return M=+M,G=G>>>0,z||ve(this,M,G,4,2147483647,-2147483648),this[G]=M&255,this[G+1]=M>>>8,this[G+2]=M>>>16,this[G+3]=M>>>24,G+4},f.prototype.writeInt32BE=function(M,G,z){return M=+M,G=G>>>0,z||ve(this,M,G,4,2147483647,-2147483648),M<0&&(M=4294967295+M+1),this[G]=M>>>24,this[G+1]=M>>>16,this[G+2]=M>>>8,this[G+3]=M&255,G+4};function re(U,M,G,z,ye,Fe){if(G+z>U.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function ae(U,M,G,z,ye){return M=+M,G=G>>>0,ye||re(U,M,G,4,34028234663852886e22,-34028234663852886e22),A.write(U,M,G,z,23,4),G+4}f.prototype.writeFloatLE=function(M,G,z){return ae(this,M,G,!0,z)},f.prototype.writeFloatBE=function(M,G,z){return ae(this,M,G,!1,z)};function he(U,M,G,z,ye){return M=+M,G=G>>>0,ye||re(U,M,G,8,17976931348623157e292,-17976931348623157e292),A.write(U,M,G,z,52,8),G+8}f.prototype.writeDoubleLE=function(M,G,z){return he(this,M,G,!0,z)},f.prototype.writeDoubleBE=function(M,G,z){return he(this,M,G,!1,z)},f.prototype.copy=function(M,G,z,ye){if(!f.isBuffer(M))throw new TypeError("argument should be a Buffer");if(z||(z=0),!ye&&ye!==0&&(ye=this.length),G>=M.length&&(G=M.length),G||(G=0),ye>0&&ye<z&&(ye=z),ye===z||M.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),M.length-G<ye-z&&(ye=M.length-G+z);var Fe=ye-z;if(this===M&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(G,z,ye);else if(this===M&&z<G&&G<ye)for(var Ce=Fe-1;Ce>=0;--Ce)M[Ce+G]=this[Ce+z];else Uint8Array.prototype.set.call(M,this.subarray(z,ye),G);return Fe},f.prototype.fill=function(M,G,z,ye){if(typeof M=="string"){if(typeof G=="string"?(ye=G,G=0,z=this.length):typeof z=="string"&&(ye=z,z=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!f.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(M.length===1){var Fe=M.charCodeAt(0);(ye==="utf8"&&Fe<128||ye==="latin1")&&(M=Fe)}}else typeof M=="number"&&(M=M&255);if(G<0||this.length<G||this.length<z)throw new RangeError("Out of range index");if(z<=G)return this;G=G>>>0,z=z===void 0?this.length:z>>>0,M||(M=0);var Ce;if(typeof M=="number")for(Ce=G;Ce<z;++Ce)this[Ce]=M;else{var Ne=f.isBuffer(M)?M:f.from(M,ye),Le=Ne.length;if(Le===0)throw new TypeError('The value "'+M+'" is invalid for argument "value"');for(Ce=0;Ce<z-G;++Ce)this[Ce+G]=Ne[Ce%Le]}return this};var fe=/[^+/0-9A-Za-z-_]/g;function ie(U){if(U=U.split("=")[0],U=U.trim().replace(fe,""),U.length<2)return"";for(;U.length%4!==0;)U=U+"=";return U}function oe(U){return U<16?"0"+U.toString(16):U.toString(16)}function ke(U,M){M=M||1/0;for(var G,z=U.length,ye=null,Fe=[],Ce=0;Ce<z;++Ce){if(G=U.charCodeAt(Ce),G>55295&&G<57344){if(!ye){if(G>56319){(M-=3)>-1&&Fe.push(239,191,189);continue}else if(Ce+1===z){(M-=3)>-1&&Fe.push(239,191,189);continue}ye=G;continue}if(G<56320){(M-=3)>-1&&Fe.push(239,191,189),ye=G;continue}G=(ye-55296<<10|G-56320)+65536}else ye&&(M-=3)>-1&&Fe.push(239,191,189);if(ye=null,G<128){if((M-=1)<0)break;Fe.push(G)}else if(G<2048){if((M-=2)<0)break;Fe.push(G>>6|192,G&63|128)}else if(G<65536){if((M-=3)<0)break;Fe.push(G>>12|224,G>>6&63|128,G&63|128)}else if(G<1114112){if((M-=4)<0)break;Fe.push(G>>18|240,G>>12&63|128,G>>6&63|128,G&63|128)}else throw new Error("Invalid code point")}return Fe}function ne(U){for(var M=[],G=0;G<U.length;++G)M.push(U.charCodeAt(G)&255);return M}function ee(U,M){for(var G,z,ye,Fe=[],Ce=0;Ce<U.length&&!((M-=2)<0);++Ce)G=U.charCodeAt(Ce),z=G>>8,ye=G%256,Fe.push(ye),Fe.push(z);return Fe}function me(U){return O.toByteArray(ie(U))}function Ae(U,M,G,z){for(var ye=0;ye<z&&!(ye+G>=M.length||ye>=U.length);++ye)M[ye+G]=U[ye];return ye}function xe(U,M){return U instanceof M||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===M.name}function Z(U){return U!==U}}).call(this)}).call(this,P("buffer").Buffer)},{"base64-js":2,buffer:8,ieee754:35}],9:[function(P,X,J){X.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],10:[function(P,X,J){"use strict";var D=P("get-intrinsic"),O=P("./"),A=O(D("String.prototype.indexOf"));X.exports=function(c,e){var f=D(c,!!e);return typeof f=="function"&&A(c,".prototype.")>-1?O(f):f}},{"./":11,"get-intrinsic":26}],11:[function(P,X,J){"use strict";var D=P("function-bind"),O=P("get-intrinsic"),A=P("set-function-length"),s=P("es-errors/type"),c=O("%Function.prototype.apply%"),e=O("%Function.prototype.call%"),f=O("%Reflect.apply%",!0)||D.call(e,c),o=P("es-define-property"),h=O("%Math.max%");X.exports=function(w){if(typeof w!="function")throw new s("a function is required");var v=f(D,e,arguments);return A(v,1+h(0,w.length-(arguments.length-1)),!0)};var d=function(){return f(D,c,arguments)};o?o(X.exports,"apply",{value:d}):X.exports.apply=d},{"es-define-property":14,"es-errors/type":20,"function-bind":25,"get-intrinsic":26,"set-function-length":93}],12:[function(P,X,J){"use strict";X.exports=function D(O){return O===null||typeof O!="object"||O.toJSON!=null?JSON.stringify(O):Array.isArray(O)?"["+O.reduce((A,s,c)=>{const e=c===0?"":",",f=s===void 0||typeof s=="symbol"?null:s;return A+e+D(f)},"")+"]":"{"+Object.keys(O).sort().reduce((A,s,c)=>{if(O[s]===void 0||typeof O[s]=="symbol")return A;const e=A.length===0?"":",";return A+e+D(s)+":"+D(O[s])},"")+"}"}},{}],13:[function(P,X,J){"use strict";var D=P("es-define-property"),O=P("es-errors/syntax"),A=P("es-errors/type"),s=P("gopd");X.exports=function(e,f,o){if(!e||typeof e!="object"&&typeof e!="function")throw new A("`obj` must be an object or a function`");if(typeof f!="string"&&typeof f!="symbol")throw new A("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new A("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new A("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new A("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new A("`loose`, if provided, must be a boolean");var h=arguments.length>3?arguments[3]:null,d=arguments.length>4?arguments[4]:null,b=arguments.length>5?arguments[5]:null,w=arguments.length>6?arguments[6]:!1,v=!!s&&s(e,f);if(D)D(e,f,{configurable:b===null&&v?v.configurable:!b,enumerable:h===null&&v?v.enumerable:!h,value:o,writable:d===null&&v?v.writable:!d});else if(w||!h&&!d&&!b)e[f]=o;else throw new O("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},{"es-define-property":14,"es-errors/syntax":19,"es-errors/type":20,gopd:27}],14:[function(P,X,J){"use strict";var D=P("get-intrinsic"),O=D("%Object.defineProperty%",!0)||!1;if(O)try{O({},"a",{value:1})}catch{O=!1}X.exports=O},{"get-intrinsic":26}],15:[function(P,X,J){"use strict";X.exports=EvalError},{}],16:[function(P,X,J){"use strict";X.exports=Error},{}],17:[function(P,X,J){"use strict";X.exports=RangeError},{}],18:[function(P,X,J){"use strict";X.exports=ReferenceError},{}],19:[function(P,X,J){"use strict";X.exports=SyntaxError},{}],20:[function(P,X,J){"use strict";X.exports=TypeError},{}],21:[function(P,X,J){"use strict";X.exports=URIError},{}],22:[function(P,X,J){"use strict";var D=typeof Reflect=="object"?Reflect:null,O=D&&typeof D.apply=="function"?D.apply:function(E,Q,B){return Function.prototype.apply.call(E,Q,B)},A;D&&typeof D.ownKeys=="function"?A=D.ownKeys:Object.getOwnPropertySymbols?A=function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:A=function(E){return Object.getOwnPropertyNames(E)};function s(_){console&&console.warn&&console.warn(_)}var c=Number.isNaN||function(E){return E!==E};function e(){e.init.call(this)}X.exports=e,X.exports.once=F,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._eventsCount=0,e.prototype._maxListeners=void 0;var f=10;function o(_){if(typeof _!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _)}Object.defineProperty(e,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(_){if(typeof _!="number"||_<0||c(_))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_+".");f=_}}),e.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},e.prototype.setMaxListeners=function(E){if(typeof E!="number"||E<0||c(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this};function h(_){return _._maxListeners===void 0?e.defaultMaxListeners:_._maxListeners}e.prototype.getMaxListeners=function(){return h(this)},e.prototype.emit=function(E){for(var Q=[],B=1;B<arguments.length;B++)Q.push(arguments[B]);var q=E==="error",K=this._events;if(K!==void 0)q=q&&K.error===void 0;else if(!q)return!1;if(q){var W;if(Q.length>0&&(W=Q[0]),W instanceof Error)throw W;var pe=new Error("Unhandled error."+(W?" ("+W.message+")":""));throw pe.context=W,pe}var te=K[E];if(te===void 0)return!1;if(typeof te=="function")O(te,this,Q);else for(var ue=te.length,se=x(te,ue),B=0;B<ue;++B)O(se[B],this,Q);return!0};function d(_,E,Q,B){var q,K,W;if(o(Q),K=_._events,K===void 0?(K=_._events=Object.create(null),_._eventsCount=0):(K.newListener!==void 0&&(_.emit("newListener",E,Q.listener?Q.listener:Q),K=_._events),W=K[E]),W===void 0)W=K[E]=Q,++_._eventsCount;else if(typeof W=="function"?W=K[E]=B?[Q,W]:[W,Q]:B?W.unshift(Q):W.push(Q),q=h(_),q>0&&W.length>q&&!W.warned){W.warned=!0;var pe=new Error("Possible EventEmitter memory leak detected. "+W.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");pe.name="MaxListenersExceededWarning",pe.emitter=_,pe.type=E,pe.count=W.length,s(pe)}return _}e.prototype.addListener=function(E,Q){return d(this,E,Q,!1)},e.prototype.on=e.prototype.addListener,e.prototype.prependListener=function(E,Q){return d(this,E,Q,!0)};function b(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w(_,E,Q){var B={fired:!1,wrapFn:void 0,target:_,type:E,listener:Q},q=b.bind(B);return q.listener=Q,B.wrapFn=q,q}e.prototype.once=function(E,Q){return o(Q),this.on(E,w(this,E,Q)),this},e.prototype.prependOnceListener=function(E,Q){return o(Q),this.prependListener(E,w(this,E,Q)),this},e.prototype.removeListener=function(E,Q){var B,q,K,W,pe;if(o(Q),q=this._events,q===void 0)return this;if(B=q[E],B===void 0)return this;if(B===Q||B.listener===Q)--this._eventsCount===0?this._events=Object.create(null):(delete q[E],q.removeListener&&this.emit("removeListener",E,B.listener||Q));else if(typeof B!="function"){for(K=-1,W=B.length-1;W>=0;W--)if(B[W]===Q||B[W].listener===Q){pe=B[W].listener,K=W;break}if(K<0)return this;K===0?B.shift():T(B,K),B.length===1&&(q[E]=B[0]),q.removeListener!==void 0&&this.emit("removeListener",E,pe||Q)}return this},e.prototype.off=e.prototype.removeListener,e.prototype.removeAllListeners=function(E){var Q,B,q;if(B=this._events,B===void 0)return this;if(B.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):B[E]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete B[E]),this;if(arguments.length===0){var K=Object.keys(B),W;for(q=0;q<K.length;++q)W=K[q],W!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Q=B[E],typeof Q=="function")this.removeListener(E,Q);else if(Q!==void 0)for(q=Q.length-1;q>=0;q--)this.removeListener(E,Q[q]);return this};function v(_,E,Q){var B=_._events;if(B===void 0)return[];var q=B[E];return q===void 0?[]:typeof q=="function"?Q?[q.listener||q]:[q]:Q?I(q):x(q,q.length)}e.prototype.listeners=function(E){return v(this,E,!0)},e.prototype.rawListeners=function(E){return v(this,E,!1)},e.listenerCount=function(_,E){return typeof _.listenerCount=="function"?_.listenerCount(E):l.call(_,E)},e.prototype.listenerCount=l;function l(_){var E=this._events;if(E!==void 0){var Q=E[_];if(typeof Q=="function")return 1;if(Q!==void 0)return Q.length}return 0}e.prototype.eventNames=function(){return this._eventsCount>0?A(this._events):[]};function x(_,E){for(var Q=new Array(E),B=0;B<E;++B)Q[B]=_[B];return Q}function T(_,E){for(;E+1<_.length;E++)_[E]=_[E+1];_.pop()}function I(_){for(var E=new Array(_.length),Q=0;Q<E.length;++Q)E[Q]=_[Q].listener||_[Q];return E}function F(_,E){return new Promise(function(Q,B){function q(W){_.removeListener(E,K),B(W)}function K(){typeof _.removeListener=="function"&&_.removeListener("error",q),Q([].slice.call(arguments))}C(_,E,K,{once:!0}),E!=="error"&&L(_,q,{once:!0})})}function L(_,E,Q){typeof _.on=="function"&&C(_,"error",E,Q)}function C(_,E,Q,B){if(typeof _.on=="function")B.once?_.once(E,Q):_.on(E,Q);else if(typeof _.addEventListener=="function")_.addEventListener(E,function q(K){B.once&&_.removeEventListener(E,q),Q(K)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof _)}},{}],23:[function(P,X,J){"use strict";var D=P("is-callable"),O=Object.prototype.toString,A=Object.prototype.hasOwnProperty,s=function(h,d,b){for(var w=0,v=h.length;w<v;w++)A.call(h,w)&&(b==null?d(h[w],w,h):d.call(b,h[w],w,h))},c=function(h,d,b){for(var w=0,v=h.length;w<v;w++)b==null?d(h.charAt(w),w,h):d.call(b,h.charAt(w),w,h)},e=function(h,d,b){for(var w in h)A.call(h,w)&&(b==null?d(h[w],w,h):d.call(b,h[w],w,h))},f=function(h,d,b){if(!D(d))throw new TypeError("iterator must be a function");var w;arguments.length>=3&&(w=b),O.call(h)==="[object Array]"?s(h,d,w):typeof h=="string"?c(h,d,w):e(h,d,w)};X.exports=f},{"is-callable":38}],24:[function(P,X,J){"use strict";var D="Function.prototype.bind called on incompatible ",O=Object.prototype.toString,A=Math.max,s="[object Function]",c=function(h,d){for(var b=[],w=0;w<h.length;w+=1)b[w]=h[w];for(var v=0;v<d.length;v+=1)b[v+h.length]=d[v];return b},e=function(h,d){for(var b=[],w=d||0,v=0;w<h.length;w+=1,v+=1)b[v]=h[w];return b},f=function(o,h){for(var d="",b=0;b<o.length;b+=1)d+=o[b],b+1<o.length&&(d+=h);return d};X.exports=function(h){var d=this;if(typeof d!="function"||O.apply(d)!==s)throw new TypeError(D+d);for(var b=e(arguments,1),w,v=function(){if(this instanceof w){var F=d.apply(this,c(b,arguments));return Object(F)===F?F:this}return d.apply(h,c(b,arguments))},l=A(0,d.length-b.length),x=[],T=0;T<l;T++)x[T]="$"+T;if(w=Function("binder","return function ("+f(x,",")+"){ return binder.apply(this,arguments); }")(v),d.prototype){var I=function(){};I.prototype=d.prototype,w.prototype=new I,I.prototype=null}return w}},{}],25:[function(P,X,J){"use strict";var D=P("./implementation");X.exports=Function.prototype.bind||D},{"./implementation":24}],26:[function(P,X,J){"use strict";var D,O=P("es-errors"),A=P("es-errors/eval"),s=P("es-errors/range"),c=P("es-errors/ref"),e=P("es-errors/syntax"),f=P("es-errors/type"),o=P("es-errors/uri"),h=Function,d=function(de){try{return h('"use strict"; return ('+de+").constructor;")()}catch{}},b=Object.getOwnPropertyDescriptor;if(b)try{b({},"")}catch{b=null}var w=function(){throw new f},v=b?function(){try{return arguments.callee,w}catch{try{return b(arguments,"callee").get}catch{return w}}}():w,l=P("has-symbols")(),x=P("has-proto")(),T=Object.getPrototypeOf||(x?function(de){return de.__proto__}:null),I={},F=typeof Uint8Array>"u"||!T?D:T(Uint8Array),L={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?D:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?D:ArrayBuffer,"%ArrayIteratorPrototype%":l&&T?T([][Symbol.iterator]()):D,"%AsyncFromSyncIteratorPrototype%":D,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":typeof Atomics>"u"?D:Atomics,"%BigInt%":typeof BigInt>"u"?D:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?D:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?D:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?D:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":O,"%eval%":eval,"%EvalError%":A,"%Float32Array%":typeof Float32Array>"u"?D:Float32Array,"%Float64Array%":typeof Float64Array>"u"?D:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?D:FinalizationRegistry,"%Function%":h,"%GeneratorFunction%":I,"%Int8Array%":typeof Int8Array>"u"?D:Int8Array,"%Int16Array%":typeof Int16Array>"u"?D:Int16Array,"%Int32Array%":typeof Int32Array>"u"?D:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l&&T?T(T([][Symbol.iterator]())):D,"%JSON%":typeof JSON=="object"?JSON:D,"%Map%":typeof Map>"u"?D:Map,"%MapIteratorPrototype%":typeof Map>"u"||!l||!T?D:T(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?D:Promise,"%Proxy%":typeof Proxy>"u"?D:Proxy,"%RangeError%":s,"%ReferenceError%":c,"%Reflect%":typeof Reflect>"u"?D:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?D:Set,"%SetIteratorPrototype%":typeof Set>"u"||!l||!T?D:T(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?D:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l&&T?T(""[Symbol.iterator]()):D,"%Symbol%":l?Symbol:D,"%SyntaxError%":e,"%ThrowTypeError%":v,"%TypedArray%":F,"%TypeError%":f,"%Uint8Array%":typeof Uint8Array>"u"?D:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?D:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?D:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?D:Uint32Array,"%URIError%":o,"%WeakMap%":typeof WeakMap>"u"?D:WeakMap,"%WeakRef%":typeof WeakRef>"u"?D:WeakRef,"%WeakSet%":typeof WeakSet>"u"?D:WeakSet};if(T)try{null.error}catch(de){var C=T(T(de));L["%Error.prototype%"]=C}var _=function de(le){var ce;if(le==="%AsyncFunction%")ce=d("async function () {}");else if(le==="%GeneratorFunction%")ce=d("function* () {}");else if(le==="%AsyncGeneratorFunction%")ce=d("async function* () {}");else if(le==="%AsyncGenerator%"){var $=de("%AsyncGeneratorFunction%");$&&(ce=$.prototype)}else if(le==="%AsyncIteratorPrototype%"){var ve=de("%AsyncGenerator%");ve&&T&&(ce=T(ve.prototype))}return L[le]=ce,ce},E={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Q=P("function-bind"),B=P("hasown"),q=Q.call(Function.call,Array.prototype.concat),K=Q.call(Function.apply,Array.prototype.splice),W=Q.call(Function.call,String.prototype.replace),pe=Q.call(Function.call,String.prototype.slice),te=Q.call(Function.call,RegExp.prototype.exec),ue=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,se=/\\(\\)?/g,be=function(le){var ce=pe(le,0,1),$=pe(le,-1);if(ce==="%"&&$!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if($==="%"&&ce!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var ve=[];return W(le,ue,function(re,ae,he,fe){ve[ve.length]=he?W(fe,se,"$1"):ae||re}),ve},Y=function(le,ce){var $=le,ve;if(B(E,$)&&(ve=E[$],$="%"+ve[0]+"%"),B(L,$)){var re=L[$];if(re===I&&(re=_($)),typeof re>"u"&&!ce)throw new f("intrinsic "+le+" exists, but is not available. Please file an issue!");return{alias:ve,name:$,value:re}}throw new e("intrinsic "+le+" does not exist!")};X.exports=function(le,ce){if(typeof le!="string"||le.length===0)throw new f("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ce!="boolean")throw new f('"allowMissing" argument must be a boolean');if(te(/^%?[^%]*%?$/,le)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var $=be(le),ve=$.length>0?$[0]:"",re=Y("%"+ve+"%",ce),ae=re.name,he=re.value,fe=!1,ie=re.alias;ie&&(ve=ie[0],K($,q([0,1],ie)));for(var oe=1,ke=!0;oe<$.length;oe+=1){var ne=$[oe],ee=pe(ne,0,1),me=pe(ne,-1);if((ee==='"'||ee==="'"||ee==="`"||me==='"'||me==="'"||me==="`")&&ee!==me)throw new e("property names with quotes must have matching quotes");if((ne==="constructor"||!ke)&&(fe=!0),ve+="."+ne,ae="%"+ve+"%",B(L,ae))he=L[ae];else if(he!=null){if(!(ne in he)){if(!ce)throw new f("base intrinsic for "+le+" exists, but the property is not available.");return}if(b&&oe+1>=$.length){var Ae=b(he,ne);ke=!!Ae,ke&&"get"in Ae&&!("originalValue"in Ae.get)?he=Ae.get:he=he[ne]}else ke=B(he,ne),he=he[ne];ke&&!fe&&(L[ae]=he)}}return he}},{"es-errors":16,"es-errors/eval":15,"es-errors/range":17,"es-errors/ref":18,"es-errors/syntax":19,"es-errors/type":20,"es-errors/uri":21,"function-bind":25,"has-proto":29,"has-symbols":30,hasown:33}],27:[function(P,X,J){"use strict";var D=P("get-intrinsic"),O=D("%Object.getOwnPropertyDescriptor%",!0);if(O)try{O([],"length")}catch{O=null}X.exports=O},{"get-intrinsic":26}],28:[function(P,X,J){"use strict";var D=P("es-define-property"),O=function(){return!!D};O.hasArrayLengthDefineBug=function(){if(!D)return null;try{return D([],"length",{value:1}).length!==1}catch{return!0}},X.exports=O},{"es-define-property":14}],29:[function(P,X,J){"use strict";var D={__proto__:null,foo:{}},O=Object;X.exports=function(){return{__proto__:D}.foo===D.foo&&!(D instanceof O)}},{}],30:[function(P,X,J){"use strict";var D=typeof Symbol<"u"&&Symbol,O=P("./shams");X.exports=function(){return typeof D!="function"||typeof Symbol!="function"||typeof D("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:O()}},{"./shams":31}],31:[function(P,X,J){"use strict";X.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var O={},A=Symbol("test"),s=Object(A);if(typeof A=="string"||Object.prototype.toString.call(A)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var c=42;O[A]=c;for(A in O)return!1;if(typeof Object.keys=="function"&&Object.keys(O).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(O).length!==0)return!1;var e=Object.getOwnPropertySymbols(O);if(e.length!==1||e[0]!==A||!Object.prototype.propertyIsEnumerable.call(O,A))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var f=Object.getOwnPropertyDescriptor(O,A);if(f.value!==c||f.enumerable!==!0)return!1}return!0}},{}],32:[function(P,X,J){"use strict";var D=P("has-symbols/shams");X.exports=function(){return D()&&!!Symbol.toStringTag}},{"has-symbols/shams":31}],33:[function(P,X,J){"use strict";var D=Function.prototype.call,O=Object.prototype.hasOwnProperty,A=P("function-bind");X.exports=A.call(D,O)},{"function-bind":25}],34:[function(P,X,J){var D=P("http"),O=P("url"),A=X.exports;for(var s in D)D.hasOwnProperty(s)&&(A[s]=D[s]);A.request=function(e,f){return e=c(e),D.request.call(this,e,f)},A.get=function(e,f){return e=c(e),D.get.call(this,e,f)};function c(e){if(typeof e=="string"&&(e=O.parse(e)),e.protocol||(e.protocol="https:"),e.protocol!=="https:")throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}},{http:111,url:132}],35:[function(P,X,J){J.read=function(D,O,A,s,c){var e,f,o=c*8-s-1,h=(1<<o)-1,d=h>>1,b=-7,w=A?c-1:0,v=A?-1:1,l=D[O+w];for(w+=v,e=l&(1<<-b)-1,l>>=-b,b+=o;b>0;e=e*256+D[O+w],w+=v,b-=8);for(f=e&(1<<-b)-1,e>>=-b,b+=s;b>0;f=f*256+D[O+w],w+=v,b-=8);if(e===0)e=1-d;else{if(e===h)return f?NaN:(l?-1:1)*(1/0);f=f+Math.pow(2,s),e=e-d}return(l?-1:1)*f*Math.pow(2,e-s)},J.write=function(D,O,A,s,c,e){var f,o,h,d=e*8-c-1,b=(1<<d)-1,w=b>>1,v=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=s?0:e-1,x=s?1:-1,T=O<0||O===0&&1/O<0?1:0;for(O=Math.abs(O),isNaN(O)||O===1/0?(o=isNaN(O)?1:0,f=b):(f=Math.floor(Math.log(O)/Math.LN2),O*(h=Math.pow(2,-f))<1&&(f--,h*=2),f+w>=1?O+=v/h:O+=v*Math.pow(2,1-w),O*h>=2&&(f++,h/=2),f+w>=b?(o=0,f=b):f+w>=1?(o=(O*h-1)*Math.pow(2,c),f=f+w):(o=O*Math.pow(2,w-1)*Math.pow(2,c),f=0));c>=8;D[A+l]=o&255,l+=x,o/=256,c-=8);for(f=f<<c|o,d+=c;d>0;D[A+l]=f&255,l+=x,f/=256,d-=8);D[A+l-x]|=T*128}},{}],36:[function(P,X,J){typeof Object.create=="function"?X.exports=function(O,A){A&&(O.super_=A,O.prototype=Object.create(A.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}))}:X.exports=function(O,A){if(A){O.super_=A;var s=function(){};s.prototype=A.prototype,O.prototype=new s,O.prototype.constructor=O}}},{}],37:[function(P,X,J){"use strict";var D=P("has-tostringtag/shams")(),O=P("call-bind/callBound"),A=O("Object.prototype.toString"),s=function(o){return D&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:A(o)==="[object Arguments]"},c=function(o){return s(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&A(o)!=="[object Array]"&&A(o.callee)==="[object Function]"},e=function(){return s(arguments)}();s.isLegacyArguments=c,X.exports=e?s:c},{"call-bind/callBound":10,"has-tostringtag/shams":32}],38:[function(P,X,J){"use strict";var D=Function.prototype.toString,O=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,A,s;if(typeof O=="function"&&typeof Object.defineProperty=="function")try{A=Object.defineProperty({},"length",{get:function(){throw s}}),s={},O(function(){throw 42},null,A)}catch(L){L!==s&&(O=null)}else O=null;var c=/^\s*class\b/,e=function(C){try{var _=D.call(C);return c.test(_)}catch{return!1}},f=function(C){try{return e(C)?!1:(D.call(C),!0)}catch{return!1}},o=Object.prototype.toString,h="[object Object]",d="[object Function]",b="[object GeneratorFunction]",w="[object HTMLAllCollection]",v="[object HTML document.all class]",l="[object HTMLCollection]",x=typeof Symbol=="function"&&!!Symbol.toStringTag,T=!(0 in[,]),I=function(){return!1};if(typeof document=="object"){var F=document.all;o.call(F)===o.call(document.all)&&(I=function(C){if((T||!C)&&(typeof C>"u"||typeof C=="object"))try{var _=o.call(C);return(_===w||_===v||_===l||_===h)&&C("")==null}catch{}return!1})}X.exports=O?function(C){if(I(C))return!0;if(!C||typeof C!="function"&&typeof C!="object")return!1;try{O(C,null,A)}catch(_){if(_!==s)return!1}return!e(C)&&f(C)}:function(C){if(I(C))return!0;if(!C||typeof C!="function"&&typeof C!="object")return!1;if(x)return f(C);if(e(C))return!1;var _=o.call(C);return _!==d&&_!==b&&!/^\[object HTML/.test(_)?!1:f(C)}},{}],39:[function(P,X,J){"use strict";var D=Object.prototype.toString,O=Function.prototype.toString,A=/^\s*(?:function)?\*/,s=P("has-tostringtag/shams")(),c=Object.getPrototypeOf,e=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch{}},f;X.exports=function(h){if(typeof h!="function")return!1;if(A.test(O.call(h)))return!0;if(!s){var d=D.call(h);return d==="[object GeneratorFunction]"}if(!c)return!1;if(typeof f>"u"){var b=e();f=b?c(b):!1}return c(h)===f}},{"has-tostringtag/shams":32}],40:[function(P,X,J){"use strict";var D=P("which-typed-array");X.exports=function(A){return!!D(A)}},{"which-typed-array":134}],41:[function(P,X,J){"use strict";const{isArray:D,isObject:O,isString:A}=P("./types"),{asArray:s}=P("./util"),{prependBase:c}=P("./url"),e=P("./JsonLdError"),f=P("./ResolvedContext"),o=10;X.exports=class{constructor({sharedCache:w}){this.perOpCache=new Map,this.sharedCache=w}async resolve({activeCtx:w,context:v,documentLoader:l,base:x,cycles:T=new Set}){v&&O(v)&&v["@context"]&&(v=v["@context"]),v=s(v);const I=[];for(const F of v){if(A(F)){let _=this._get(F);_||(_=await this._resolveRemoteContext({activeCtx:w,url:F,documentLoader:l,base:x,cycles:T})),D(_)?I.push(..._):I.push(_);continue}if(F===null){I.push(new f({document:null}));continue}O(F)||h(v);const L=JSON.stringify(F);let C=this._get(L);C||(C=new f({document:F}),this._cacheResolvedContext({key:L,resolved:C,tag:"static"})),I.push(C)}return I}_get(w){let v=this.perOpCache.get(w);if(!v){const l=this.sharedCache.get(w);l&&(v=l.get("static"),v&&this.perOpCache.set(w,v))}return v}_cacheResolvedContext({key:w,resolved:v,tag:l}){if(this.perOpCache.set(w,v),l!==void 0){let x=this.sharedCache.get(w);x||(x=new Map,this.sharedCache.set(w,x)),x.set(l,v)}return v}async _resolveRemoteContext({activeCtx:w,url:v,documentLoader:l,base:x,cycles:T}){v=c(x,v);const{context:I,remoteDoc:F}=await this._fetchContext({activeCtx:w,url:v,documentLoader:l,cycles:T});x=F.documentUrl||v,d({context:I,base:x});const L=await this.resolve({activeCtx:w,context:I,documentLoader:l,base:x,cycles:T});return this._cacheResolvedContext({key:v,resolved:L,tag:F.tag}),L}async _fetchContext({activeCtx:w,url:v,documentLoader:l,cycles:x}){if(x.size>o)throw new e("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:w.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:o});if(x.has(v))throw new e("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:w.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:v});x.add(v);let T,I;try{I=await l(v),T=I.document||null,A(T)&&(T=JSON.parse(T))}catch(F){throw new e("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:v,cause:F})}if(!O(T))throw new e("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:v});return"@context"in T?T={"@context":T["@context"]}:T={"@context":{}},I.contextUrl&&(D(T["@context"])||(T["@context"]=[T["@context"]]),T["@context"].push(I.contextUrl)),{context:T,remoteDoc:I}}};function h(b){throw new e("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:b})}function d({context:b,base:w}){if(!b)return;const v=b["@context"];if(A(v)){b["@context"]=c(w,v);return}if(D(v)){for(let l=0;l<v.length;++l){const x=v[l];if(A(x)){v[l]=c(w,x);continue}O(x)&&d({context:{"@context":x},base:w})}return}if(O(v))for(const l in v)d({context:v[l],base:w})}},{"./JsonLdError":42,"./ResolvedContext":46,"./types":61,"./url":62,"./util":63}],42:[function(P,X,J){"use strict";X.exports=class extends Error{constructor(O="An unspecified JSON-LD error occurred.",A="jsonld.Error",s={}){super(O),this.name=A,this.message=O,this.details=s}}},{}],43:[function(P,X,J){"use strict";X.exports=D=>{class O{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(O,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(O.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:O}),O.compact=function(A,s){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):D.compact(A,s)},O.expand=function(A){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):D.expand(A)},O.flatten=function(A){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):D.flatten(A)},O}},{}],44:[function(P,X,J){"use strict";X.exports=P("rdf-canonize").NQuads},{"rdf-canonize":82}],45:[function(P,X,J){"use strict";X.exports=class{constructor(){this._requests={}}wrapLoader(O){const A=this;return A._loader=O,function(){return A.add.apply(A,arguments)}}async add(O){let A=this._requests[O];if(A)return Promise.resolve(A);A=this._requests[O]=this._loader(O);try{return await A}finally{delete this._requests[O]}}}},{}],46:[function(P,X,J){"use strict";const D=P("lru-cache"),O=10;X.exports=class{constructor({document:s}){this.document=s,this.cache=new D({max:O})}getProcessed(s){return this.cache.get(s)}setProcessed(s,c){this.cache.set(s,c)}}},{"lru-cache":64}],47:[function(P,X,J){"use strict";const D=P("./JsonLdError"),{isArray:O,isObject:A,isString:s,isUndefined:c}=P("./types"),{isList:e,isValue:f,isGraph:o,isSimpleGraph:h,isSubjectReference:d}=P("./graphTypes"),{expandIri:b,getContextValue:w,isKeyword:v,process:l,processingMode:x}=P("./context"),{removeBase:T,prependBase:I}=P("./url"),{REGEX_KEYWORD:F,addValue:L,asArray:C,compareShortestLeast:_}=P("./util"),E={};X.exports=E,E.compact=async({activeCtx:q,activeProperty:K=null,element:W,options:pe={}})=>{if(O(W)){let ue=[];for(let se=0;se<W.length;++se){const be=await E.compact({activeCtx:q,activeProperty:K,element:W[se],options:pe});be!==null&&ue.push(be)}return pe.compactArrays&&ue.length===1&&(w(q,K,"@container")||[]).length===0&&(ue=ue[0]),ue}const te=w(q,K,"@context");if(c(te)||(q=await l({activeCtx:q,localCtx:te,propagate:!0,overrideProtected:!0,options:pe})),A(W)){if(pe.link&&"@id"in W&&pe.link.hasOwnProperty(W["@id"])){const $=pe.link[W["@id"]];for(let ve=0;ve<$.length;++ve)if($[ve].expanded===W)return $[ve].compacted}if(f(W)||d(W)){const $=E.compactValue({activeCtx:q,activeProperty:K,value:W,options:pe});return pe.link&&d(W)&&(pe.link.hasOwnProperty(W["@id"])||(pe.link[W["@id"]]=[]),pe.link[W["@id"]].push({expanded:W,compacted:$})),$}if(e(W)&&(w(q,K,"@container")||[]).includes("@list"))return E.compact({activeCtx:q,activeProperty:K,element:W["@list"],options:pe});const ue=K==="@reverse",se={},be=q;!f(W)&&!d(W)&&(q=q.revertToPreviousContext());const Y=w(be,K,"@context");c(Y)||(q=await l({activeCtx:q,localCtx:Y,propagate:!0,overrideProtected:!0,options:pe})),pe.link&&"@id"in W&&(pe.link.hasOwnProperty(W["@id"])||(pe.link[W["@id"]]=[]),pe.link[W["@id"]].push({expanded:W,compacted:se}));let de=W["@type"]||[];de.length>1&&(de=Array.from(de).sort());const le=q;for(const $ of de){const ve=E.compactIri({activeCtx:le,iri:$,relativeTo:{vocab:!0}}),re=w(be,ve,"@context");c(re)||(q=await l({activeCtx:q,localCtx:re,options:pe,propagate:!1}))}const ce=Object.keys(W).sort();for(const $ of ce){const ve=W[$];if($==="@id"){let re=C(ve).map(he=>E.compactIri({activeCtx:q,iri:he,relativeTo:{vocab:!1},base:pe.base}));re.length===1&&(re=re[0]);const ae=E.compactIri({activeCtx:q,iri:"@id",relativeTo:{vocab:!0}});se[ae]=re;continue}if($==="@type"){let re=C(ve).map(oe=>E.compactIri({activeCtx:be,iri:oe,relativeTo:{vocab:!0}}));re.length===1&&(re=re[0]);const ae=E.compactIri({activeCtx:q,iri:"@type",relativeTo:{vocab:!0}}),ie=(w(q,ae,"@container")||[]).includes("@set")&&x(q,1.1)||O(re)&&ve.length===0;L(se,ae,re,{propertyIsArray:ie});continue}if($==="@reverse"){const re=await E.compact({activeCtx:q,activeProperty:"@reverse",element:ve,options:pe});for(const ae in re)if(q.mappings.has(ae)&&q.mappings.get(ae).reverse){const he=re[ae],ie=(w(q,ae,"@container")||[]).includes("@set")||!pe.compactArrays;L(se,ae,he,{propertyIsArray:ie}),delete re[ae]}if(Object.keys(re).length>0){const ae=E.compactIri({activeCtx:q,iri:$,relativeTo:{vocab:!0}});L(se,ae,re)}continue}if($==="@preserve"){const re=await E.compact({activeCtx:q,activeProperty:K,element:ve,options:pe});O(re)&&re.length===0||L(se,$,re);continue}if($==="@index"){if((w(q,K,"@container")||[]).includes("@index"))continue;const ae=E.compactIri({activeCtx:q,iri:$,relativeTo:{vocab:!0}});L(se,ae,ve);continue}if($!=="@graph"&&$!=="@list"&&$!=="@included"&&v($)){const re=E.compactIri({activeCtx:q,iri:$,relativeTo:{vocab:!0}});L(se,re,ve);continue}if(!O(ve))throw new D("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(ve.length===0){const re=E.compactIri({activeCtx:q,iri:$,value:ve,relativeTo:{vocab:!0},reverse:ue}),ae=q.mappings.has(re)?q.mappings.get(re)["@nest"]:null;let he=se;ae&&(B(q,ae,pe),A(se[ae])||(se[ae]={}),he=se[ae]),L(he,re,ve,{propertyIsArray:!0})}for(const re of ve){const ae=E.compactIri({activeCtx:q,iri:$,value:re,relativeTo:{vocab:!0},reverse:ue}),he=q.mappings.has(ae)?q.mappings.get(ae)["@nest"]:null;let fe=se;he&&(B(q,he,pe),A(se[he])||(se[he]={}),fe=se[he]);const ie=w(q,ae,"@container")||[],oe=o(re),ke=e(re);let ne;ke?ne=re["@list"]:oe&&(ne=re["@graph"]);let ee=await E.compact({activeCtx:q,activeProperty:ae,element:ke||oe?ne:re,options:pe});if(ke)if(O(ee)||(ee=[ee]),!ie.includes("@list"))ee={[E.compactIri({activeCtx:q,iri:"@list",relativeTo:{vocab:!0}})]:ee},"@index"in re&&(ee[E.compactIri({activeCtx:q,iri:"@index",relativeTo:{vocab:!0}})]=re["@index"]);else{L(fe,ae,ee,{valueIsArray:!0,allowDuplicate:!0});continue}if(oe)if(ie.includes("@graph")&&(ie.includes("@id")||ie.includes("@index")&&h(re))){let me;fe.hasOwnProperty(ae)?me=fe[ae]:fe[ae]=me={};const Ae=(ie.includes("@id")?re["@id"]:re["@index"])||E.compactIri({activeCtx:q,iri:"@none",relativeTo:{vocab:!0}});L(me,Ae,ee,{propertyIsArray:!pe.compactArrays||ie.includes("@set")})}else ie.includes("@graph")&&h(re)?(O(ee)&&ee.length>1&&(ee={"@included":ee}),L(fe,ae,ee,{propertyIsArray:!pe.compactArrays||ie.includes("@set")})):(O(ee)&&ee.length===1&&pe.compactArrays&&(ee=ee[0]),ee={[E.compactIri({activeCtx:q,iri:"@graph",relativeTo:{vocab:!0}})]:ee},"@id"in re&&(ee[E.compactIri({activeCtx:q,iri:"@id",relativeTo:{vocab:!0}})]=re["@id"]),"@index"in re&&(ee[E.compactIri({activeCtx:q,iri:"@index",relativeTo:{vocab:!0}})]=re["@index"]),L(fe,ae,ee,{propertyIsArray:!pe.compactArrays||ie.includes("@set")}));else if(ie.includes("@language")||ie.includes("@index")||ie.includes("@id")||ie.includes("@type")){let me;fe.hasOwnProperty(ae)?me=fe[ae]:fe[ae]=me={};let Ae;if(ie.includes("@language"))f(ee)&&(ee=ee["@value"]),Ae=re["@language"];else if(ie.includes("@index")){const xe=w(q,ae,"@index")||"@index",Z=E.compactIri({activeCtx:q,iri:xe,relativeTo:{vocab:!0}});if(xe==="@index")Ae=re["@index"],delete ee[Z];else{let U;if([Ae,...U]=C(ee[xe]||[]),!s(Ae))Ae=null;else switch(U.length){case 0:delete ee[xe];break;case 1:ee[xe]=U[0];break;default:ee[xe]=U;break}}}else if(ie.includes("@id")){const xe=E.compactIri({activeCtx:q,iri:"@id",relativeTo:{vocab:!0}});Ae=ee[xe],delete ee[xe]}else if(ie.includes("@type")){const xe=E.compactIri({activeCtx:q,iri:"@type",relativeTo:{vocab:!0}});let Z;switch([Ae,...Z]=C(ee[xe]||[]),Z.length){case 0:delete ee[xe];break;case 1:ee[xe]=Z[0];break;default:ee[xe]=Z;break}Object.keys(ee).length===1&&"@id"in re&&(ee=await E.compact({activeCtx:q,activeProperty:ae,element:{"@id":re["@id"]},options:pe}))}Ae||(Ae=E.compactIri({activeCtx:q,iri:"@none",relativeTo:{vocab:!0}})),L(me,Ae,ee,{propertyIsArray:ie.includes("@set")})}else{const me=!pe.compactArrays||ie.includes("@set")||ie.includes("@list")||O(ee)&&ee.length===0||$==="@list"||$==="@graph";L(fe,ae,ee,{propertyIsArray:me})}}}return se}return W},E.compactIri=({activeCtx:q,iri:K,value:W=null,relativeTo:pe={vocab:!1},reverse:te=!1,base:ue=null})=>{if(K===null)return K;q.isPropertyTermScoped&&q.previousContext&&(q=q.previousContext);const se=q.getInverse();if(v(K)&&K in se&&"@none"in se[K]&&"@type"in se[K]["@none"]&&"@none"in se[K]["@none"]["@type"])return se[K]["@none"]["@type"]["@none"];if(pe.vocab&&K in se){const ce=q["@language"]||"@none",$=[];A(W)&&"@index"in W&&!("@graph"in W)&&$.push("@index","@index@set"),A(W)&&"@preserve"in W&&(W=W["@preserve"][0]),o(W)?("@index"in W&&$.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in W&&$.push("@graph@id","@graph@id@set"),$.push("@graph","@graph@set","@set"),"@index"in W||$.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in W||$.push("@graph@id","@graph@id@set")):A(W)&&!f(W)&&$.push("@id","@id@set","@type","@set@type");let ve="@language",re="@null";if(te)ve="@type",re="@reverse",$.push("@set");else if(e(W)){"@index"in W||$.push("@list");const he=W["@list"];if(he.length===0)ve="@any",re="@none";else{let fe=he.length===0?ce:null,ie=null;for(let oe=0;oe<he.length;++oe){const ke=he[oe];let ne="@none",ee="@none";if(f(ke))if("@direction"in ke){const me=(ke["@language"]||"").toLowerCase(),Ae=ke["@direction"];ne=`${me}_${Ae}`}else"@language"in ke?ne=ke["@language"].toLowerCase():"@type"in ke?ee=ke["@type"]:ne="@null";else ee="@id";if(fe===null?fe=ne:ne!==fe&&f(ke)&&(fe="@none"),ie===null?ie=ee:ee!==ie&&(ie="@none"),fe==="@none"&&ie==="@none")break}fe=fe||"@none",ie=ie||"@none",ie!=="@none"?(ve="@type",re=ie):re=fe}}else{if(f(W))if("@language"in W&&!("@index"in W)){$.push("@language","@language@set"),re=W["@language"];const he=W["@direction"];he&&(re=`${re}_${he}`)}else"@direction"in W&&!("@index"in W)?re=`_${W["@direction"]}`:"@type"in W&&(ve="@type",re=W["@type"]);else ve="@type",re="@id";$.push("@set")}$.push("@none"),A(W)&&!("@index"in W)&&$.push("@index","@index@set"),f(W)&&Object.keys(W).length===1&&$.push("@language","@language@set");const ae=Q(q,K,W,$,ve,re);if(ae!==null)return ae}if(pe.vocab&&"@vocab"in q){const ce=q["@vocab"];if(K.indexOf(ce)===0&&K!==ce){const $=K.substr(ce.length);if(!q.mappings.has($))return $}}let be=null;const Y=[];let de=q.fastCurieMap;const le=K.length-1;for(let ce=0;ce<le&&K[ce]in de;++ce)de=de[K[ce]],""in de&&Y.push(de[""][0]);for(let ce=Y.length-1;ce>=0;--ce){const $=Y[ce],ve=$.terms;for(const re of ve){const ae=re+":"+K.substr($.iri.length);q.mappings.get(re)._prefix&&(!q.mappings.has(ae)||W===null&&q.mappings.get(ae)["@id"]===K)&&(be===null||_(ae,be)<0)&&(be=ae)}}if(be!==null)return be;for(const[ce,$]of q.mappings)if($&&$._prefix&&K.startsWith(ce+":"))throw new D(`Absolute IRI "${K}" confused with prefix "${ce}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:q});if(!pe.vocab)if("@base"in q)if(q["@base"]){const ce=T(I(ue,q["@base"]),K);return F.test(ce)?`./${ce}`:ce}else return K;else return T(ue,K);return K},E.compactValue=({activeCtx:q,activeProperty:K,value:W,options:pe})=>{if(f(W)){const be=w(q,K,"@type"),Y=w(q,K,"@language"),de=w(q,K,"@direction"),le=w(q,K,"@container")||[],ce="@index"in W&&!le.includes("@index");if(!ce&&be!=="@none"&&(W["@type"]===be||"@language"in W&&W["@language"]===Y&&"@direction"in W&&W["@direction"]===de||"@language"in W&&W["@language"]===Y||"@direction"in W&&W["@direction"]===de))return W["@value"];const $=Object.keys(W).length,ve=$===1||$===2&&"@index"in W&&!ce,re="@language"in q,ae=s(W["@value"]),he=q.mappings.has(K)&&q.mappings.get(K)["@language"]===null;if(ve&&be!=="@none"&&(!re||!ae||he))return W["@value"];const fe={};return ce&&(fe[E.compactIri({activeCtx:q,iri:"@index",relativeTo:{vocab:!0}})]=W["@index"]),"@type"in W?fe[E.compactIri({activeCtx:q,iri:"@type",relativeTo:{vocab:!0}})]=E.compactIri({activeCtx:q,iri:W["@type"],relativeTo:{vocab:!0}}):"@language"in W&&(fe[E.compactIri({activeCtx:q,iri:"@language",relativeTo:{vocab:!0}})]=W["@language"]),"@direction"in W&&(fe[E.compactIri({activeCtx:q,iri:"@direction",relativeTo:{vocab:!0}})]=W["@direction"]),fe[E.compactIri({activeCtx:q,iri:"@value",relativeTo:{vocab:!0}})]=W["@value"],fe}const te=b(q,K,{vocab:!0},pe),ue=w(q,K,"@type"),se=E.compactIri({activeCtx:q,iri:W["@id"],relativeTo:{vocab:ue==="@vocab"},base:pe.base});return ue==="@id"||ue==="@vocab"||te==="@graph"?se:{[E.compactIri({activeCtx:q,iri:"@id",relativeTo:{vocab:!0}})]:se}};function Q(q,K,W,pe,te,ue){ue===null&&(ue="@null");const se=[];if((ue==="@id"||ue==="@reverse")&&A(W)&&"@id"in W){ue==="@reverse"&&se.push("@reverse");const Y=E.compactIri({activeCtx:q,iri:W["@id"],relativeTo:{vocab:!0}});q.mappings.has(Y)&&q.mappings.get(Y)&&q.mappings.get(Y)["@id"]===W["@id"]?se.push.apply(se,["@vocab","@id"]):se.push.apply(se,["@id","@vocab"])}else{se.push(ue);const Y=se.find(de=>de.includes("_"));Y&&se.push(Y.replace(/^[^_]+_/,"_"))}se.push("@none");const be=q.inverse[K];for(const Y of pe){if(!(Y in be))continue;const de=be[Y][te];for(const le of se)if(le in de)return de[le]}return null}function B(q,K,W){if(b(q,K,{vocab:!0},W)!=="@nest")throw new D("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}},{"./JsonLdError":42,"./context":49,"./graphTypes":56,"./types":61,"./url":62,"./util":63}],48:[function(P,X,J){"use strict";const D="http://www.w3.org/1999/02/22-rdf-syntax-ns#",O="http://www.w3.org/2001/XMLSchema#";X.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:D,RDF_LIST:D+"List",RDF_FIRST:D+"first",RDF_REST:D+"rest",RDF_NIL:D+"nil",RDF_TYPE:D+"type",RDF_PLAIN_LITERAL:D+"PlainLiteral",RDF_XML_LITERAL:D+"XMLLiteral",RDF_JSON_LITERAL:D+"JSON",RDF_OBJECT:D+"object",RDF_LANGSTRING:D+"langString",XSD:O,XSD_BOOLEAN:O+"boolean",XSD_DOUBLE:O+"double",XSD_INTEGER:O+"integer",XSD_STRING:O+"string"}},{}],49:[function(P,X,J){"use strict";const D=P("./util"),O=P("./JsonLdError"),{isArray:A,isObject:s,isString:c,isUndefined:e}=P("./types"),{isAbsolute:f,isRelative:o,prependBase:h}=P("./url"),{handleEvent:d}=P("./events"),{REGEX_BCP47:b,REGEX_KEYWORD:w,asArray:v,compareShortestLeast:l}=P("./util"),x=new Map,T=1e4,I={};X.exports=I,I.process=async({activeCtx:C,localCtx:_,options:E,propagate:Q=!0,overrideProtected:B=!1,cycles:q=new Set})=>{if(s(_)&&"@context"in _&&A(_["@context"])&&(_=_["@context"]),v(_).length===0)return C;const W=[],pe=[({event:be,next:Y})=>{W.push(be),Y()}];E.eventHandler&&pe.push(E.eventHandler);const te=E;E={...E,eventHandler:pe};const ue=await E.contextResolver.resolve({activeCtx:C,context:_,documentLoader:E.documentLoader,base:E.base});s(ue[0].document)&&typeof ue[0].document["@propagate"]=="boolean"&&(Q=ue[0].document["@propagate"]);let se=C;!Q&&!se.previousContext&&(se=se.clone(),se.previousContext=C);for(const be of ue){let{document:Y}=be;if(C=se,Y===null){if(!B&&Object.keys(C.protected).length!==0)throw new O("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});se=C=I.getInitialContext(E).clone();continue}const de=be.getProcessed(C);if(de){if(te.eventHandler)for(const ce of de.events)d({event:ce,options:te});se=C=de.context;continue}if(s(Y)&&"@context"in Y&&(Y=Y["@context"]),!s(Y))throw new O("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:Y});se=se.clone();const le=new Map;if("@version"in Y){if(Y["@version"]!==1.1)throw new O("Unsupported JSON-LD version: "+Y["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:Y});if(C.processingMode&&C.processingMode==="json-ld-1.0")throw new O("@version: "+Y["@version"]+" not compatible with "+C.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:Y});se.processingMode="json-ld-1.1",se["@version"]=Y["@version"],le.set("@version",!0)}if(se.processingMode=se.processingMode||C.processingMode,"@base"in Y){let ce=Y["@base"];if(!(ce===null||f(ce)))if(o(ce))ce=h(se["@base"],ce);else throw new O('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:Y});se["@base"]=ce,le.set("@base",!0)}if("@vocab"in Y){const ce=Y["@vocab"];if(ce===null)delete se["@vocab"];else if(c(ce)){if(!f(ce)&&I.processingMode(se,1))throw new O('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:Y});{const $=F(se,ce,{vocab:!0,base:!0},void 0,void 0,E);f($)||E.eventHandler&&d({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:$}},options:E}),se["@vocab"]=$}}else throw new O('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:Y});le.set("@vocab",!0)}if("@language"in Y){const ce=Y["@language"];if(ce===null)delete se["@language"];else if(c(ce))ce.match(b)||E.eventHandler&&d({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:ce}},options:E}),se["@language"]=ce.toLowerCase();else throw new O('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:Y});le.set("@language",!0)}if("@direction"in Y){const ce=Y["@direction"];if(C.processingMode==="json-ld-1.0")throw new O("Invalid JSON-LD syntax; @direction not compatible with "+C.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:Y});if(ce===null)delete se["@direction"];else{if(ce!=="ltr"&&ce!=="rtl")throw new O('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:Y});se["@direction"]=ce}le.set("@direction",!0)}if("@propagate"in Y){const ce=Y["@propagate"];if(C.processingMode==="json-ld-1.0")throw new O("Invalid JSON-LD syntax; @propagate not compatible with "+C.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:Y});if(typeof ce!="boolean")throw new O("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:_});le.set("@propagate",!0)}if("@import"in Y){const ce=Y["@import"];if(C.processingMode==="json-ld-1.0")throw new O("Invalid JSON-LD syntax; @import not compatible with "+C.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:Y});if(!c(ce))throw new O("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:_});const $=await E.contextResolver.resolve({activeCtx:C,context:ce,documentLoader:E.documentLoader,base:E.base});if($.length!==1)throw new O("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:_});const ve=$[0].getProcessed(C);if(ve)Y=ve;else{const re=$[0].document;if("@import"in re)throw new O("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:_});for(const ae in re)Y.hasOwnProperty(ae)||(Y[ae]=re[ae]);$[0].setProcessed(C,Y)}le.set("@import",!0)}le.set("@protected",Y["@protected"]||!1);for(const ce in Y)if(I.createTermDefinition({activeCtx:se,localCtx:Y,term:ce,defined:le,options:E,overrideProtected:B}),s(Y[ce])&&"@context"in Y[ce]){const $=Y[ce]["@context"];let ve=!0;if(c($)){const re=h(E.base,$);q.has(re)?ve=!1:q.add(re)}if(ve)try{await I.process({activeCtx:se.clone(),localCtx:Y[ce]["@context"],overrideProtected:!0,options:E,cycles:q})}catch{throw new O("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:Y[ce]["@context"],term:ce})}}be.setProcessed(C,{context:se,events:W})}return se},I.createTermDefinition=({activeCtx:C,localCtx:_,term:E,defined:Q,options:B,overrideProtected:q=!1})=>{if(Q.has(E)){if(Q.get(E))return;throw new O("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:_,term:E})}Q.set(E,!1);let K;if(_.hasOwnProperty(E)&&(K=_[E]),E==="@type"&&s(K)&&(K["@container"]||"@set")==="@set"&&I.processingMode(C,1.1)){const Y=["@container","@id","@protected"],de=Object.keys(K);if(de.length===0||de.some(le=>!Y.includes(le)))throw new O("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:_,term:E})}else{if(I.isKeyword(E))throw new O("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:_,term:E});if(E.match(w)){B.eventHandler&&d({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:E}},options:B});return}else if(E==="")throw new O("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:_})}const W=C.mappings.get(E);C.mappings.has(E)&&C.mappings.delete(E);let pe=!1;if((c(K)||K===null)&&(pe=!0,K={"@id":K}),!s(K))throw new O("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:_});const te={};C.mappings.set(E,te),te.reverse=!1;const ue=["@container","@id","@language","@reverse","@type"];I.processingMode(C,1.1)&&ue.push("@context","@direction","@index","@nest","@prefix","@protected");for(const Y in K)if(!ue.includes(Y))throw new O("Invalid JSON-LD syntax; a term definition must not contain "+Y,"jsonld.SyntaxError",{code:"invalid term definition",context:_});const se=E.indexOf(":");if(te._termHasColon=se>0,"@reverse"in K){if("@id"in K)throw new O("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:_});if("@nest"in K)throw new O("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:_});const Y=K["@reverse"];if(!c(Y))throw new O("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:_});if(Y.match(w)){B.eventHandler&&d({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:Y}},options:B}),W?C.mappings.set(E,W):C.mappings.delete(E);return}const de=F(C,Y,{vocab:!0,base:!1},_,Q,B);if(!f(de))throw new O("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:_});te["@id"]=de,te.reverse=!0}else if("@id"in K){let Y=K["@id"];if(Y&&!c(Y))throw new O("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:_});if(Y===null)te["@id"]=null;else if(!I.isKeyword(Y)&&Y.match(w)){B.eventHandler&&d({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:Y}},options:B}),W?C.mappings.set(E,W):C.mappings.delete(E);return}else if(Y!==E){if(Y=F(C,Y,{vocab:!0,base:!1},_,Q,B),!f(Y)&&!I.isKeyword(Y))throw new O("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:_});if(E.match(/(?::[^:])|\//)){const de=new Map(Q).set(E,!0);if(F(C,E,{vocab:!0,base:!1},_,de,B)!==Y)throw new O("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:_})}te["@id"]=Y,te._prefix=pe&&!te._termHasColon&&Y.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in te))if(te._termHasColon){const Y=E.substr(0,se);if(_.hasOwnProperty(Y)&&I.createTermDefinition({activeCtx:C,localCtx:_,term:Y,defined:Q,options:B}),C.mappings.has(Y)){const de=E.substr(se+1);te["@id"]=C.mappings.get(Y)["@id"]+de}else te["@id"]=E}else if(E==="@type")te["@id"]=E;else{if(!("@vocab"in C))throw new O("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:_,term:E});te["@id"]=C["@vocab"]+E}if((K["@protected"]===!0||Q.get("@protected")===!0&&K["@protected"]!==!1)&&(C.protected[E]=!0,te.protected=!0),Q.set(E,!0),"@type"in K){let Y=K["@type"];if(!c(Y))throw new O("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:_});if(Y==="@json"||Y==="@none"){if(I.processingMode(C,1))throw new O(`Invalid JSON-LD syntax; an @context @type value must not be "${Y}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:_})}else if(Y!=="@id"&&Y!=="@vocab"){if(Y=F(C,Y,{vocab:!0,base:!1},_,Q,B),!f(Y))throw new O("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:_});if(Y.indexOf("_:")===0)throw new O("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:_})}te["@type"]=Y}if("@container"in K){const Y=c(K["@container"])?[K["@container"]]:K["@container"]||[],de=["@list","@set","@index","@language"];let le=!0;const ce=Y.includes("@set");if(I.processingMode(C,1.1)){if(de.push("@graph","@id","@type"),Y.includes("@list")){if(Y.length!==1)throw new O("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:_})}else if(Y.includes("@graph")){if(Y.some($=>$!=="@graph"&&$!=="@id"&&$!=="@index"&&$!=="@set"))throw new O("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:_})}else le&=Y.length<=(ce?2:1);if(Y.includes("@type")&&(te["@type"]=te["@type"]||"@id",!["@id","@vocab"].includes(te["@type"])))throw new O("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:_})}else le&=!A(K["@container"]),le&=Y.length<=1;if(le&=Y.every($=>de.includes($)),le&=!(ce&&Y.includes("@list")),!le)throw new O("Invalid JSON-LD syntax; @context @container value must be one of the following: "+de.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:_});if(te.reverse&&!Y.every($=>["@index","@set"].includes($)))throw new O("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:_});te["@container"]=Y}if("@index"in K){if(!("@container"in K)||!te["@container"].includes("@index"))throw new O(`Invalid JSON-LD syntax; @index without @index in @container: "${K["@index"]}" on term "${E}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:_});if(!c(K["@index"])||K["@index"].indexOf("@")===0)throw new O(`Invalid JSON-LD syntax; @index must expand to an IRI: "${K["@index"]}" on term "${E}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:_});te["@index"]=K["@index"]}if("@context"in K&&(te["@context"]=K["@context"]),"@language"in K&&!("@type"in K)){let Y=K["@language"];if(Y!==null&&!c(Y))throw new O("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:_});Y!==null&&(Y=Y.toLowerCase()),te["@language"]=Y}if("@prefix"in K){if(E.match(/:|\//))throw new O("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:_});if(I.isKeyword(te["@id"]))throw new O("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:_});if(typeof K["@prefix"]=="boolean")te._prefix=K["@prefix"]===!0;else throw new O("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:_})}if("@direction"in K){const Y=K["@direction"];if(Y!==null&&Y!=="ltr"&&Y!=="rtl")throw new O('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:_});te["@direction"]=Y}if("@nest"in K){const Y=K["@nest"];if(!c(Y)||Y!=="@nest"&&Y.indexOf("@")===0)throw new O("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:_});te["@nest"]=Y}const be=te["@id"];if(be==="@context"||be==="@preserve")throw new O("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:_});if(W&&W.protected&&!q&&(C.protected[E]=!0,te.protected=!0,!L(W,te)))throw new O("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:_,term:E})},I.expandIri=(C,_,E,Q)=>F(C,_,E,void 0,void 0,Q);function F(C,_,E,Q,B,q){if(_===null||!c(_)||I.isKeyword(_))return _;if(_.match(w))return null;if(Q&&Q.hasOwnProperty(_)&&B.get(_)!==!0&&I.createTermDefinition({activeCtx:C,localCtx:Q,term:_,defined:B,options:q}),E=E||{},E.vocab){const W=C.mappings.get(_);if(W===null)return null;if(s(W)&&"@id"in W)return W["@id"]}const K=_.indexOf(":");if(K>0){const W=_.substr(0,K),pe=_.substr(K+1);if(W==="_"||pe.indexOf("//")===0)return _;Q&&Q.hasOwnProperty(W)&&I.createTermDefinition({activeCtx:C,localCtx:Q,term:W,defined:B,options:q});const te=C.mappings.get(W);if(te&&te._prefix)return te["@id"]+pe;if(f(_))return _}if(E.vocab&&"@vocab"in C)_=C["@vocab"]+_;else if(E.base){let W,pe;"@base"in C?C["@base"]?(pe=h(q.base,C["@base"]),W=h(pe,_)):(pe=C["@base"],W=_):(pe=q.base,W=h(q.base,_)),_=W}return _}I.getInitialContext=C=>{const _=JSON.stringify({processingMode:C.processingMode}),E=x.get(_);if(E)return E;const Q={processingMode:C.processingMode,mappings:new Map,inverse:null,getInverse:B,clone:W,revertToPreviousContext:pe,protected:{}};return x.size===T&&x.clear(),x.set(_,Q),Q;function B(){const te=this;if(te.inverse)return te.inverse;const ue=te.inverse={},se=te.fastCurieMap={},be={},Y=(te["@language"]||"@none").toLowerCase(),de=te["@direction"],le=te.mappings,ce=[...le.keys()].sort(l);for(const $ of ce){const ve=le.get($);if(ve===null)continue;let re=ve["@container"]||"@none";if(re=[].concat(re).sort().join(""),ve["@id"]===null)continue;const ae=v(ve["@id"]);for(const he of ae){let fe=ue[he];const ie=I.isKeyword(he);if(fe)!ie&&!ve._termHasColon&&be[he].push($);else if(ue[he]=fe={},!ie&&!ve._termHasColon){be[he]=[$];const oe={iri:he,terms:be[he]};he[0]in se?se[he[0]].push(oe):se[he[0]]=[oe]}if(fe[re]||(fe[re]={"@language":{},"@type":{},"@any":{}}),fe=fe[re],K($,fe["@any"],"@none"),ve.reverse)K($,fe["@type"],"@reverse");else if(ve["@type"]==="@none")K($,fe["@any"],"@none"),K($,fe["@language"],"@none"),K($,fe["@type"],"@none");else if("@type"in ve)K($,fe["@type"],ve["@type"]);else if("@language"in ve&&"@direction"in ve){const oe=ve["@language"],ke=ve["@direction"];oe&&ke?K($,fe["@language"],`${oe}_${ke}`.toLowerCase()):oe?K($,fe["@language"],oe.toLowerCase()):ke?K($,fe["@language"],`_${ke}`):K($,fe["@language"],"@null")}else"@language"in ve?K($,fe["@language"],(ve["@language"]||"@null").toLowerCase()):"@direction"in ve?ve["@direction"]?K($,fe["@language"],`_${ve["@direction"]}`):K($,fe["@language"],"@none"):de?(K($,fe["@language"],`_${de}`),K($,fe["@language"],"@none"),K($,fe["@type"],"@none")):(K($,fe["@language"],Y),K($,fe["@language"],"@none"),K($,fe["@type"],"@none"))}}for(const $ in se)q(se,$,1);return ue}function q(te,ue,se){const be=te[ue],Y=te[ue]={};let de,le;for(const ce of be)de=ce.iri,se>=de.length?le="":le=de[se],le in Y?Y[le].push(ce):Y[le]=[ce];for(const ce in Y)ce!==""&&q(Y,ce,se+1)}function K(te,ue,se){ue.hasOwnProperty(se)||(ue[se]=te)}function W(){const te={};return te.mappings=D.clone(this.mappings),te.clone=this.clone,te.inverse=null,te.getInverse=this.getInverse,te.protected=D.clone(this.protected),this.previousContext&&(te.previousContext=this.previousContext.clone()),te.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(te["@base"]=this["@base"]),"@language"in this&&(te["@language"]=this["@language"]),"@vocab"in this&&(te["@vocab"]=this["@vocab"]),te}function pe(){return this.previousContext?this.previousContext.clone():this}},I.getContextValue=(C,_,E)=>{if(_===null)return E==="@context"?void 0:null;if(C.mappings.has(_)){const Q=C.mappings.get(_);if(e(E))return Q;if(Q.hasOwnProperty(E))return Q[E]}if(E==="@language"&&E in C||E==="@direction"&&E in C)return C[E];if(E!=="@context")return null},I.processingMode=(C,_)=>_.toString()>="1.1"?!C.processingMode||C.processingMode>="json-ld-"+_.toString():C.processingMode==="json-ld-1.0",I.isKeyword=C=>{if(!c(C)||C[0]!=="@")return!1;switch(C){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function L(C,_){if(!(C&&typeof C=="object")||!(_&&typeof _=="object"))return C===_;const E=Array.isArray(C);if(E!==Array.isArray(_))return!1;if(E){if(C.length!==_.length)return!1;for(let q=0;q<C.length;++q)if(!L(C[q],_[q]))return!1;return!0}const Q=Object.keys(C),B=Object.keys(_);if(Q.length!==B.length)return!1;for(const q in C){let K=C[q],W=_[q];if(q==="@container"&&Array.isArray(K)&&Array.isArray(W)&&(K=K.slice().sort(),W=W.slice().sort()),!L(K,W))return!1}return!0}},{"./JsonLdError":42,"./events":51,"./types":61,"./url":62,"./util":63}],50:[function(P,X,J){"use strict";const{parseLinkHeader:D,buildHeaders:O}=P("../util"),{LINK_HEADER_CONTEXT:A}=P("../constants"),s=P("../JsonLdError"),c=P("../RequestQueue"),{prependBase:e}=P("../url"),f=/(^|(\r\n))link:/i;X.exports=({secure:h,headers:d={},xhr:b}={headers:{}})=>{return d=O(d),new c().wrapLoader(v);async function v(l){if(l.indexOf("http:")!==0&&l.indexOf("https:")!==0)throw new s('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:l});if(h&&l.indexOf("https")!==0)throw new s(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:l});let x;try{x=await o(b,l,d)}catch(C){throw new s("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:l,cause:C})}if(x.status>=400)throw new s("URL could not be dereferenced: "+x.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:l,httpStatusCode:x.status});let T={contextUrl:null,documentUrl:l,document:x.response},I=null;const F=x.getResponseHeader("Content-Type");let L;if(f.test(x.getAllResponseHeaders())&&(L=x.getResponseHeader("Link")),L&&F!=="application/ld+json"){const C=D(L),_=C[A];if(Array.isArray(_))throw new s("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:l});_&&(T.contextUrl=_.target),I=C.alternate,I&&I.type=="application/ld+json"&&!(F||"").match(/^application\/(\w*\+)?json$/)&&(T=await v(e(l,I.target)))}return T}};function o(h,d,b){h=h||XMLHttpRequest;const w=new h;return new Promise((v,l)=>{w.onload=()=>v(w),w.onerror=x=>l(x),w.open("GET",d,!0);for(const x in b)w.setRequestHeader(x,b[x]);w.send()})}},{"../JsonLdError":42,"../RequestQueue":45,"../constants":48,"../url":62,"../util":63}],51:[function(P,X,J){"use strict";const D=P("./JsonLdError"),{isArray:O}=P("./types"),{asArray:A}=P("./util"),s={};X.exports=s,s.defaultEventHandler=null,s.setupEventHandler=({options:f={}})=>{const o=[].concat(f.safe?s.safeEventHandler:[],f.eventHandler?A(f.eventHandler):[],s.defaultEventHandler?s.defaultEventHandler:[]);return o.length===0?null:o},s.handleEvent=({event:f,options:o})=>{c({event:f,handlers:o.eventHandler})};function c({event:f,handlers:o}){let h=!0;for(let d=0;h&&d<o.length;++d){h=!1;const b=o[d];if(O(b))h=c({event:f,handlers:b});else if(typeof b=="function")b({event:f,next:()=>{h=!0}});else if(typeof b=="object")f.code in b?b[f.code]({event:f,next:()=>{h=!0}}):h=!0;else throw new D("Invalid event handler.","jsonld.InvalidEventHandler",{event:f})}return h}const e=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);s.safeEventHandler=function({event:o,next:h}){if(o.level==="warning"&&e.has(o.code))throw new D("Safe mode validation error.","jsonld.ValidationError",{event:o});h()},s.logEventHandler=function({event:o,next:h}){console.log(`EVENT: ${o.message}`,{event:o}),h()},s.logWarningEventHandler=function({event:o,next:h}){o.level==="warning"&&console.warn(`WARNING: ${o.message}`,{event:o}),h()},s.unhandledEventHandler=function({event:o}){throw new D("No handler for event.","jsonld.UnhandledEvent",{event:o})},s.setDefaultEventHandler=function({eventHandler:f}={}){s.defaultEventHandler=f?A(f):null}},{"./JsonLdError":42,"./types":61,"./util":63}],52:[function(P,X,J){"use strict";const D=P("./JsonLdError"),{isArray:O,isObject:A,isEmptyObject:s,isString:c,isUndefined:e}=P("./types"),{isList:f,isValue:o,isGraph:h,isSubject:d}=P("./graphTypes"),{expandIri:b,getContextValue:w,isKeyword:v,process:l,processingMode:x}=P("./context"),{isAbsolute:T}=P("./url"),{REGEX_BCP47:I,REGEX_KEYWORD:F,addValue:L,asArray:C,getValues:_,validateTypeValue:E}=P("./util"),{handleEvent:Q}=P("./events"),B={};X.exports=B,B.expand=async({activeCtx:ue,activeProperty:se=null,element:be,options:Y={},insideList:de=!1,insideIndex:le=!1,typeScopedContext:ce=null})=>{if(be==null)return null;if(se==="@default"&&(Y=Object.assign({},Y,{isFrame:!1})),!O(be)&&!A(be))return!de&&(se===null||b(ue,se,{vocab:!0},Y)==="@graph")?(Y.eventHandler&&Q({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:be}},options:Y}),null):W({activeCtx:ue,activeProperty:se,value:be,options:Y});if(O(be)){let oe=[];const ke=w(ue,se,"@container")||[];de=de||ke.includes("@list");for(let ne=0;ne<be.length;++ne){let ee=await B.expand({activeCtx:ue,activeProperty:se,element:be[ne],options:Y,insideIndex:le,typeScopedContext:ce});de&&O(ee)&&(ee={"@list":ee}),ee!==null&&(O(ee)?oe=oe.concat(ee):oe.push(ee))}return oe}const $=b(ue,se,{vocab:!0},Y),ve=w(ue,se,"@context");ce=ce||(ue.previousContext?ue:null);let re=Object.keys(be).sort(),ae=!le;if(ae&&ce&&re.length<=2&&!re.includes("@context"))for(const oe of re){const ke=b(ce,oe,{vocab:!0},Y);if(ke==="@value"){ae=!1,ue=ce;break}if(ke==="@id"&&re.length===1){ae=!1;break}}ae&&(ue=ue.revertToPreviousContext()),e(ve)||(ue=await l({activeCtx:ue,localCtx:ve,propagate:!0,overrideProtected:!0,options:Y})),"@context"in be&&(ue=await l({activeCtx:ue,localCtx:be["@context"],options:Y})),ce=ue;let he=null;for(const oe of re)if(b(ue,oe,{vocab:!0},Y)==="@type"){he=he||oe;const ne=be[oe],ee=Array.isArray(ne)?ne.length>1?ne.slice().sort():ne:[ne];for(const me of ee){const Ae=w(ce,me,"@context");e(Ae)||(ue=await l({activeCtx:ue,localCtx:Ae,options:Y,propagate:!1}))}}let fe={};await K({activeCtx:ue,activeProperty:se,expandedActiveProperty:$,element:be,expandedParent:fe,options:Y,insideList:de,typeKey:he,typeScopedContext:ce}),re=Object.keys(fe);let ie=re.length;if("@value"in fe){if("@type"in fe&&("@language"in fe||"@direction"in fe))throw new D('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:fe});let oe=ie-1;if("@type"in fe&&(oe-=1),"@index"in fe&&(oe-=1),"@language"in fe&&(oe-=1),"@direction"in fe&&(oe-=1),oe!==0)throw new D('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:fe});const ke=fe["@value"]===null?[]:C(fe["@value"]),ne=_(fe,"@type");if(!(x(ue,1.1)&&ne.includes("@json")&&ne.length===1))if(ke.length===0)Y.eventHandler&&Q({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:fe}},options:Y}),fe=null;else{if(!ke.every(ee=>c(ee)||s(ee))&&"@language"in fe)throw new D("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:fe});if(!ne.every(ee=>T(ee)&&!(c(ee)&&ee.indexOf("_:")===0)||s(ee)))throw new D('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:fe})}}else if("@type"in fe&&!O(fe["@type"]))fe["@type"]=[fe["@type"]];else if("@set"in fe||"@list"in fe){if(ie>1&&!(ie===2&&"@index"in fe))throw new D('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:fe});"@set"in fe&&(fe=fe["@set"],re=Object.keys(fe),ie=re.length)}else ie===1&&"@language"in fe&&(Y.eventHandler&&Q({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:fe}},options:Y}),fe=null);return A(fe)&&!Y.keepFreeFloatingNodes&&!de&&(se===null||$==="@graph"||(w(ue,se,"@container")||[]).includes("@graph"))&&(fe=q({value:fe,count:ie,options:Y})),fe};function q({value:ue,count:se,options:be}){if(se===0||"@value"in ue||"@list"in ue||se===1&&"@id"in ue){if(be.eventHandler){let Y,de;se===0?(Y="empty object",de="Dropping empty object."):"@value"in ue?(Y="object with only @value",de="Dropping object with only @value."):"@list"in ue?(Y="object with only @list",de="Dropping object with only @list."):se===1&&"@id"in ue&&(Y="object with only @id",de="Dropping object with only @id."),Q({event:{type:["JsonLdEvent"],code:Y,level:"warning",message:de,details:{value:ue}},options:be})}return null}return ue}async function K({activeCtx:ue,activeProperty:se,expandedActiveProperty:be,element:Y,expandedParent:de,options:le={},insideList:ce,typeKey:$,typeScopedContext:ve}){const re=Object.keys(Y).sort(),ae=[];let he;const fe=Y[$]&&b(ue,O(Y[$])?Y[$][0]:Y[$],{vocab:!0},{...le,typeExpansion:!0})==="@json";for(const ie of re){let oe=Y[ie],ke;if(ie==="@context")continue;const ne=b(ue,ie,{vocab:!0},le);if(ne===null||!(T(ne)||v(ne))){le.eventHandler&&Q({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:ie,expandedProperty:ne}},options:le});continue}if(v(ne)){if(be==="@reverse")throw new D("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:oe});if(ne in de&&ne!=="@included"&&ne!=="@type")throw new D("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:ne})}if(ne==="@id"){if(!c(oe)){if(!le.isFrame)throw new D('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:oe});if(A(oe)){if(!s(oe))throw new D('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:oe})}else if(O(oe)){if(!oe.every(xe=>c(xe)))throw new D('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:oe})}else throw new D('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:oe})}L(de,"@id",C(oe).map(xe=>{if(c(xe)){const Z=b(ue,xe,{base:!0},le);return le.eventHandler&&(Z===null?Q(xe===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:xe}},options:le}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:xe}},options:le}):T(Z)||Q({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:xe,expandedId:Z}},options:le})),Z}return xe}),{propertyIsArray:le.isFrame});continue}if(ne==="@type"){A(oe)&&(oe=Object.fromEntries(Object.entries(oe).map(([xe,Z])=>[b(ve,xe,{vocab:!0}),C(Z).map(U=>b(ve,U,{base:!0,vocab:!0},{...le,typeExpansion:!0}))]))),E(oe,le.isFrame),L(de,"@type",C(oe).map(xe=>{if(c(xe)){const Z=b(ve,xe,{base:!0,vocab:!0},{...le,typeExpansion:!0});return Z!=="@json"&&!T(Z)&&le.eventHandler&&Q({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:xe}},options:le}),Z}return xe}),{propertyIsArray:!!le.isFrame});continue}if(ne==="@included"&&x(ue,1.1)){const xe=C(await B.expand({activeCtx:ue,activeProperty:se,element:oe,options:le}));if(!xe.every(Z=>d(Z)))throw new D("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:oe});L(de,"@included",xe,{propertyIsArray:!0});continue}if(ne==="@graph"&&!(A(oe)||O(oe)))throw new D('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:oe});if(ne==="@value"){he=oe,fe&&x(ue,1.1)?de["@value"]=oe:L(de,"@value",oe,{propertyIsArray:le.isFrame});continue}if(ne==="@language"){if(oe===null)continue;if(!c(oe)&&!le.isFrame)throw new D('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:oe});oe=C(oe).map(xe=>c(xe)?xe.toLowerCase():xe);for(const xe of oe)c(xe)&&!xe.match(I)&&le.eventHandler&&Q({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:xe}},options:le});L(de,"@language",oe,{propertyIsArray:le.isFrame});continue}if(ne==="@direction"){if(!c(oe)&&!le.isFrame)throw new D('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:oe});oe=C(oe);for(const xe of oe)if(c(xe)&&xe!=="ltr"&&xe!=="rtl")throw new D('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:oe});L(de,"@direction",oe,{propertyIsArray:le.isFrame});continue}if(ne==="@index"){if(!c(oe))throw new D('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:oe});L(de,"@index",oe);continue}if(ne==="@reverse"){if(!A(oe))throw new D('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:oe});if(ke=await B.expand({activeCtx:ue,activeProperty:"@reverse",element:oe,options:le}),"@reverse"in ke)for(const Z in ke["@reverse"])L(de,Z,ke["@reverse"][Z],{propertyIsArray:!0});let xe=de["@reverse"]||null;for(const Z in ke){if(Z==="@reverse")continue;xe===null&&(xe=de["@reverse"]={}),L(xe,Z,[],{propertyIsArray:!0});const U=ke[Z];for(let M=0;M<U.length;++M){const G=U[M];if(o(G)||f(G))throw new D('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:ke});L(xe,Z,G,{propertyIsArray:!0})}}continue}if(ne==="@nest"){ae.push(ie);continue}let ee=ue;const me=w(ue,ie,"@context");e(me)||(ee=await l({activeCtx:ue,localCtx:me,propagate:!0,overrideProtected:!0,options:le}));const Ae=w(ue,ie,"@container")||[];if(Ae.includes("@language")&&A(oe)){const xe=w(ee,ie,"@direction");ke=pe(ee,oe,xe,le)}else if(Ae.includes("@index")&&A(oe)){const xe=Ae.includes("@graph"),Z=w(ee,ie,"@index")||"@index",U=Z!=="@index"&&b(ue,Z,{vocab:!0},le);ke=await te({activeCtx:ee,options:le,activeProperty:ie,value:oe,asGraph:xe,indexKey:Z,propertyIndex:U})}else if(Ae.includes("@id")&&A(oe)){const xe=Ae.includes("@graph");ke=await te({activeCtx:ee,options:le,activeProperty:ie,value:oe,asGraph:xe,indexKey:"@id"})}else if(Ae.includes("@type")&&A(oe))ke=await te({activeCtx:ee.revertToPreviousContext(),options:le,activeProperty:ie,value:oe,asGraph:!1,indexKey:"@type"});else{const xe=ne==="@list";if(xe||ne==="@set"){let Z=se;xe&&be==="@graph"&&(Z=null),ke=await B.expand({activeCtx:ee,activeProperty:Z,element:oe,options:le,insideList:xe})}else w(ue,ie,"@type")==="@json"?ke={"@type":"@json","@value":oe}:ke=await B.expand({activeCtx:ee,activeProperty:ie,element:oe,options:le,insideList:!1})}if(!(ke===null&&ne!=="@value")){if(ne!=="@list"&&!f(ke)&&Ae.includes("@list")&&(ke={"@list":C(ke)}),Ae.includes("@graph")&&!Ae.some(xe=>xe==="@id"||xe==="@index")){if(ke=C(ke),le.isFrame||(ke=ke.filter(xe=>{const Z=Object.keys(xe).length;return q({value:xe,count:Z,options:le})!==null})),ke.length===0)continue;ke=ke.map(xe=>({"@graph":C(xe)}))}if(ee.mappings.has(ie)&&ee.mappings.get(ie).reverse){const xe=de["@reverse"]=de["@reverse"]||{};ke=C(ke);for(let Z=0;Z<ke.length;++Z){const U=ke[Z];if(o(U)||f(U))throw new D('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:ke});L(xe,ne,U,{propertyIsArray:!0})}continue}L(de,ne,ke,{propertyIsArray:!0})}}if("@value"in de&&!(de["@type"]==="@json"&&x(ue,1.1))){if((A(he)||O(he))&&!le.isFrame)throw new D('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:he})}for(const ie of ae){const oe=O(Y[ie])?Y[ie]:[Y[ie]];for(const ke of oe){if(!A(ke)||Object.keys(ke).some(ne=>b(ue,ne,{vocab:!0},le)==="@value"))throw new D("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:ke});await K({activeCtx:ue,activeProperty:se,expandedActiveProperty:be,element:ke,expandedParent:de,options:le,insideList:ce,typeScopedContext:ve,typeKey:$})}}}function W({activeCtx:ue,activeProperty:se,value:be,options:Y}){if(be==null)return null;const de=b(ue,se,{vocab:!0},Y);if(de==="@id")return b(ue,be,{base:!0},Y);if(de==="@type")return b(ue,be,{vocab:!0,base:!0},{...Y,typeExpansion:!0});const le=w(ue,se,"@type");if((le==="@id"||de==="@graph")&&c(be)){const $=b(ue,be,{base:!0},Y);return $===null&&be.match(F)&&Y.eventHandler&&Q({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:se}},options:Y}),{"@id":$}}if(le==="@vocab"&&c(be))return{"@id":b(ue,be,{vocab:!0,base:!0},Y)};if(v(de))return be;const ce={};if(le&&!["@id","@vocab","@none"].includes(le))ce["@type"]=le;else if(c(be)){const $=w(ue,se,"@language");$!==null&&(ce["@language"]=$);const ve=w(ue,se,"@direction");ve!==null&&(ce["@direction"]=ve)}return["boolean","number","string"].includes(typeof be)||(be=be.toString()),ce["@value"]=be,ce}function pe(ue,se,be,Y){const de=[],le=Object.keys(se).sort();for(const ce of le){const $=b(ue,ce,{vocab:!0},Y);let ve=se[ce];O(ve)||(ve=[ve]);for(const re of ve){if(re===null)continue;if(!c(re))throw new D("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:se});const ae={"@value":re};$!=="@none"&&(ce.match(I)||Y.eventHandler&&Q({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:ce}},options:Y}),ae["@language"]=ce.toLowerCase()),be&&(ae["@direction"]=be),de.push(ae)}}return de}async function te({activeCtx:ue,options:se,activeProperty:be,value:Y,asGraph:de,indexKey:le,propertyIndex:ce}){const $=[],ve=Object.keys(Y).sort(),re=le==="@type";for(let ae of ve){if(re){const ie=w(ue,ae,"@context");e(ie)||(ue=await l({activeCtx:ue,localCtx:ie,propagate:!1,options:se}))}let he=Y[ae];O(he)||(he=[he]),he=await B.expand({activeCtx:ue,activeProperty:be,element:he,options:se,insideList:!1,insideIndex:!0});let fe;ce?ae==="@none"?fe="@none":fe=W({activeCtx:ue,activeProperty:le,value:ae,options:se}):fe=b(ue,ae,{vocab:!0},se),le==="@id"?ae=b(ue,ae,{base:!0},se):re&&(ae=fe);for(let ie of he){if(de&&!h(ie)&&(ie={"@graph":[ie]}),le==="@type")fe==="@none"||(ie["@type"]?ie["@type"]=[ae].concat(ie["@type"]):ie["@type"]=[ae]);else{if(o(ie)&&!["@language","@type","@index"].includes(le))throw new D(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${le}".`,"jsonld.SyntaxError",{code:"invalid value object",value:ie});ce?fe!=="@none"&&L(ie,ce,fe,{propertyIsArray:!0,prependValue:!0}):fe!=="@none"&&!(le in ie)&&(ie[le]=ae)}$.push(ie)}}return $}},{"./JsonLdError":42,"./context":49,"./events":51,"./graphTypes":56,"./types":61,"./url":62,"./util":63}],53:[function(P,X,J){"use strict";const{isSubjectReference:D}=P("./graphTypes"),{createMergedNodeMap:O}=P("./nodeMap"),A={};X.exports=A,A.flatten=s=>{const c=O(s),e=[],f=Object.keys(c).sort();for(let o=0;o<f.length;++o){const h=c[f[o]];D(h)||e.push(h)}return e}},{"./graphTypes":56,"./nodeMap":58}],54:[function(P,X,J){"use strict";const{isKeyword:D}=P("./context"),O=P("./graphTypes"),A=P("./types"),s=P("./util"),c=P("./url"),e=P("./JsonLdError"),{createNodeMap:f,mergeNodeMapGraphs:o}=P("./nodeMap"),h={};X.exports=h,h.frameMergedOrDefault=(_,E,Q)=>{const B={options:Q,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},q=new s.IdentifierIssuer("_:b");f(_,B.graphMap,"@default",q),Q.merged&&(B.graphMap["@merged"]=o(B.graphMap),B.graph="@merged"),B.subjects=B.graphMap[B.graph];const K=[];return h.frame(B,Object.keys(B.subjects).sort(),E,K),Q.pruneBlankNodeIdentifiers&&(Q.bnodesToClear=Object.keys(B.bnodeMap).filter(W=>B.bnodeMap[W].length===1)),Q.link={},I(K,Q)},h.frame=(_,E,Q,B,q=null)=>{v(Q),Q=Q[0];const K=_.options,W={embed:w(Q,K,"embed"),explicit:w(Q,K,"explicit"),requireAll:w(Q,K,"requireAll")};_.link.hasOwnProperty(_.graph)||(_.link[_.graph]={});const pe=_.link[_.graph],te=l(_,E,Q,W),ue=Object.keys(te).sort();for(const se of ue){const be=te[se];if(q===null?_.uniqueEmbeds={[_.graph]:{}}:_.uniqueEmbeds[_.graph]=_.uniqueEmbeds[_.graph]||{},W.embed==="@link"&&se in pe){F(B,q,pe[se]);continue}const Y={"@id":se};if(se.indexOf("_:")===0&&s.addValue(_.bnodeMap,se,Y,{propertyIsArray:!0}),pe[se]=Y,(W.embed==="@first"||W.embed==="@last")&&_.is11)throw new e("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:Q});if(!(!_.embedded&&_.uniqueEmbeds[_.graph].hasOwnProperty(se))){if(_.embedded&&(W.embed==="@never"||b(be,_.graph,_.subjectStack))){F(B,q,Y);continue}if(_.embedded&&(W.embed=="@first"||W.embed=="@once")&&_.uniqueEmbeds[_.graph].hasOwnProperty(se)){F(B,q,Y);continue}if(W.embed==="@last"&&se in _.uniqueEmbeds[_.graph]&&T(_,se),_.uniqueEmbeds[_.graph][se]={parent:B,property:q},_.subjectStack.push({subject:be,graph:_.graph}),se in _.graphMap){let de=!1,le=null;"@graph"in Q?(le=Q["@graph"][0],de=!(se==="@merged"||se==="@default"),A.isObject(le)||(le={})):(de=_.graph!=="@merged",le={}),de&&h.frame({..._,graph:se,embedded:!1},Object.keys(_.graphMap[se]).sort(),[le],Y,"@graph")}"@included"in Q&&h.frame({..._,embedded:!1},E,Q["@included"],Y,"@included");for(const de of Object.keys(be).sort()){if(D(de)){if(Y[de]=s.clone(be[de]),de==="@type")for(const le of be["@type"])le.indexOf("_:")===0&&s.addValue(_.bnodeMap,le,Y,{propertyIsArray:!0});continue}if(!(W.explicit&&!(de in Q)))for(const le of be[de]){const ce=de in Q?Q[de]:d(W);if(O.isList(le)){const $=Q[de]&&Q[de][0]&&Q[de][0]["@list"]?Q[de][0]["@list"]:d(W),ve={"@list":[]};F(Y,de,ve);const re=le["@list"];for(const ae of re)O.isSubjectReference(ae)?h.frame({..._,embedded:!0},[ae["@id"]],$,ve,"@list"):F(ve,"@list",s.clone(ae))}else O.isSubjectReference(le)?h.frame({..._,embedded:!0},[le["@id"]],ce,Y,de):C(ce[0],le)&&F(Y,de,s.clone(le))}}for(const de of Object.keys(Q).sort()){if(de==="@type"){if(!A.isObject(Q[de][0])||!("@default"in Q[de][0]))continue}else if(D(de))continue;const le=Q[de][0]||{};if(!w(le,K,"omitDefault")&&!(de in Y)){let $="@null";"@default"in le&&($=s.clone(le["@default"])),A.isArray($)||($=[$]),Y[de]=[{"@preserve":$}]}}for(const de of Object.keys(Q["@reverse"]||{}).sort()){const le=Q["@reverse"][de];for(const ce of Object.keys(_.subjects))s.getValues(_.subjects[ce],de).some(ve=>ve["@id"]===se)&&(Y["@reverse"]=Y["@reverse"]||{},s.addValue(Y["@reverse"],de,[],{propertyIsArray:!0}),h.frame({..._,embedded:!0},[ce],le,Y["@reverse"][de],q))}F(B,q,Y),_.subjectStack.pop()}}},h.cleanupNull=(_,E)=>{if(A.isArray(_))return _.map(B=>h.cleanupNull(B,E)).filter(B=>B);if(_==="@null")return null;if(A.isObject(_)){if("@id"in _){const Q=_["@id"];if(E.link.hasOwnProperty(Q)){const B=E.link[Q].indexOf(_);if(B!==-1)return E.link[Q][B];E.link[Q].push(_)}else E.link[Q]=[_]}for(const Q in _)_[Q]=h.cleanupNull(_[Q],E)}return _};function d(_){const E={};for(const Q in _)_[Q]!==void 0&&(E["@"+Q]=[_[Q]]);return[E]}function b(_,E,Q){for(let B=Q.length-1;B>=0;--B){const q=Q[B];if(q.graph===E&&q.subject["@id"]===_["@id"])return!0}return!1}function w(_,E,Q){const B="@"+Q;let q=B in _?_[B][0]:E[Q];if(Q==="embed"){if(q===!0)q="@once";else if(q===!1)q="@never";else if(q!=="@always"&&q!=="@never"&&q!=="@link"&&q!=="@first"&&q!=="@last"&&q!=="@once")throw new e("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:_})}return q}function v(_){if(!A.isArray(_)||_.length!==1||!A.isObject(_[0]))throw new e("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:_});if("@id"in _[0]){for(const E of s.asArray(_[0]["@id"]))if(!(A.isObject(E)||c.isAbsolute(E))||A.isString(E)&&E.indexOf("_:")===0)throw new e("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:_})}if("@type"in _[0]){for(const E of s.asArray(_[0]["@type"]))if(!(A.isObject(E)||c.isAbsolute(E)||E==="@json")||A.isString(E)&&E.indexOf("_:")===0)throw new e("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:_})}}function l(_,E,Q,B){const q={};for(const K of E){const W=_.graphMap[_.graph][K];x(_,W,Q,B)&&(q[K]=W)}return q}function x(_,E,Q,B){let q=!0,K=!1;for(const W in Q){let pe=!1;const te=s.getValues(E,W),ue=s.getValues(Q,W).length===0;if(W==="@id"){if(A.isEmptyObject(Q["@id"][0]||{})?pe=!0:Q["@id"].length>=0&&(pe=Q["@id"].includes(te[0])),!B.requireAll)return pe}else if(W==="@type"){if(q=!1,ue){if(te.length>0)return!1;pe=!0}else if(Q["@type"].length===1&&A.isEmptyObject(Q["@type"][0]))pe=te.length>0;else for(const se of Q["@type"])A.isObject(se)&&"@default"in se?pe=!0:pe=pe||te.some(be=>be===se);if(!B.requireAll)return pe}else{if(D(W))continue;{const se=s.getValues(Q,W)[0];let be=!1;if(se&&(v([se]),be="@default"in se),q=!1,te.length===0&&be)continue;if(te.length>0&&ue)return!1;if(se===void 0){if(te.length>0)return!1;pe=!0}else if(O.isList(se)){const Y=se["@list"][0];if(O.isList(te[0])){const de=te[0]["@list"];O.isValue(Y)?pe=de.some(le=>C(Y,le)):(O.isSubject(Y)||O.isSubjectReference(Y))&&(pe=de.some(le=>L(_,Y,le,B)))}}else O.isValue(se)?pe=te.some(Y=>C(se,Y)):O.isSubjectReference(se)?pe=te.some(Y=>L(_,se,Y,B)):A.isObject(se)?pe=te.length>0:pe=!1}}if(!pe&&B.requireAll)return!1;K=K||pe}return q||K}function T(_,E){const Q=_.uniqueEmbeds[_.graph],B=Q[E],q=B.parent,K=B.property,W={"@id":E};if(A.isArray(q)){for(let te=0;te<q.length;++te)if(s.compareValues(q[te],W)){q[te]=W;break}}else{const te=A.isArray(q[K]);s.removeValue(q,K,W,{propertyIsArray:te}),s.addValue(q,K,W,{propertyIsArray:te})}const pe=te=>{const ue=Object.keys(Q);for(const se of ue)se in Q&&A.isObject(Q[se].parent)&&Q[se].parent["@id"]===te&&(delete Q[se],pe(se))};pe(E)}function I(_,E){if(A.isArray(_))return _.map(Q=>I(Q,E));if(A.isObject(_)){if("@preserve"in _)return _["@preserve"][0];if(O.isValue(_))return _;if(O.isList(_))return _["@list"]=I(_["@list"],E),_;if("@id"in _){const Q=_["@id"];if(E.link.hasOwnProperty(Q)){const B=E.link[Q].indexOf(_);if(B!==-1)return E.link[Q][B];E.link[Q].push(_)}else E.link[Q]=[_]}for(const Q in _){if(Q==="@id"&&E.bnodesToClear.includes(_[Q])){delete _["@id"];continue}_[Q]=I(_[Q],E)}}return _}function F(_,E,Q){A.isObject(_)?s.addValue(_,E,Q,{propertyIsArray:!0}):_.push(Q)}function L(_,E,Q,B){if(!("@id"in Q))return!1;const q=_.subjects[Q["@id"]];return q&&x(_,q,E,B)}function C(_,E){const Q=E["@value"],B=E["@type"],q=E["@language"],K=_["@value"]?A.isArray(_["@value"])?_["@value"]:[_["@value"]]:[],W=_["@type"]?A.isArray(_["@type"])?_["@type"]:[_["@type"]]:[],pe=_["@language"]?A.isArray(_["@language"])?_["@language"]:[_["@language"]]:[];return K.length===0&&W.length===0&&pe.length===0?!0:!(!(K.includes(Q)||A.isEmptyObject(K[0]))||!(!B&&W.length===0||W.includes(B)||B&&A.isEmptyObject(W[0]))||!(!q&&pe.length===0||pe.includes(q)||q&&A.isEmptyObject(pe[0])))}},{"./JsonLdError":42,"./context":49,"./graphTypes":56,"./nodeMap":58,"./types":61,"./url":62,"./util":63}],55:[function(P,X,J){"use strict";const D=P("./JsonLdError"),O=P("./graphTypes"),A=P("./types"),{REGEX_BCP47:s,addValue:c}=P("./util"),{handleEvent:e}=P("./events"),{RDF_LIST:f,RDF_FIRST:o,RDF_REST:h,RDF_NIL:d,RDF_TYPE:b,RDF_JSON_LITERAL:w,XSD_BOOLEAN:v,XSD_DOUBLE:l,XSD_INTEGER:x,XSD_STRING:T}=P("./constants"),I={};X.exports=I,I.fromRDF=async(L,C)=>{const{useRdfType:_=!1,useNativeTypes:E=!1,rdfDirection:Q=null}=C,B={},q={"@default":B},K={};if(Q){if(Q==="compound-literal")throw new D("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:Q});if(Q!=="i18n-datatype")throw new D("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:Q})}for(const te of L){const ue=te.graph.termType==="DefaultGraph"?"@default":te.graph.value;ue in q||(q[ue]={}),ue!=="@default"&&!(ue in B)&&(B[ue]={"@id":ue});const se=q[ue],be=te.subject.value,Y=te.predicate.value,de=te.object;be in se||(se[be]={"@id":be});const le=se[be],ce=de.termType.endsWith("Node");if(ce&&!(de.value in se)&&(se[de.value]={"@id":de.value}),Y===b&&!_&&ce){c(le,"@type",de.value,{propertyIsArray:!0});continue}const $=F(de,E,Q,C);if(c(le,Y,$,{propertyIsArray:!0}),ce)if(de.value===d){const ve=se[de.value];"usages"in ve||(ve.usages=[]),ve.usages.push({node:le,property:Y,value:$})}else de.value in K?K[de.value]=!1:K[de.value]={node:le,property:Y,value:$}}for(const te in q){const ue=q[te];if(!(d in ue))continue;const se=ue[d];if(se.usages){for(let be of se.usages){let Y=be.node,de=be.property,le=be.value;const ce=[],$=[];let ve=Object.keys(Y).length;for(;de===h&&A.isObject(K[Y["@id"]])&&A.isArray(Y[o])&&Y[o].length===1&&A.isArray(Y[h])&&Y[h].length===1&&(ve===3||ve===4&&A.isArray(Y["@type"])&&Y["@type"].length===1&&Y["@type"][0]===f)&&(ce.push(Y[o][0]),$.push(Y["@id"]),be=K[Y["@id"]],Y=be.node,de=be.property,le=be.value,ve=Object.keys(Y).length,!!O.isBlankNode(Y)););delete le["@id"],le["@list"]=ce.reverse();for(const re of $)delete ue[re]}delete se.usages}}const W=[],pe=Object.keys(B).sort();for(const te of pe){const ue=B[te];if(te in q){const se=ue["@graph"]=[],be=q[te],Y=Object.keys(be).sort();for(const de of Y){const le=be[de];O.isSubjectReference(le)||se.push(le)}}O.isSubjectReference(ue)||W.push(ue)}return W};function F(L,C,_,E){if(L.termType.endsWith("Node"))return{"@id":L.value};const Q={"@value":L.value};if(L.language)L.language.match(s)||E.eventHandler&&e({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:L.language}},options:E}),Q["@language"]=L.language;else{let B=L.datatype.value;if(B||(B=T),B===w){B="@json";try{Q["@value"]=JSON.parse(Q["@value"])}catch(q){throw new D("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:Q["@value"],cause:q})}}if(C){if(B===v)Q["@value"]==="true"?Q["@value"]=!0:Q["@value"]==="false"&&(Q["@value"]=!1);else if(A.isNumeric(Q["@value"]))if(B===x){const q=parseInt(Q["@value"],10);q.toFixed(0)===Q["@value"]&&(Q["@value"]=q)}else B===l&&(Q["@value"]=parseFloat(Q["@value"]));[v,x,l,T].includes(B)||(Q["@type"]=B)}else if(_==="i18n-datatype"&&B.startsWith("https://www.w3.org/ns/i18n#")){const[,q,K]=B.split(/[#_]/);q.length>0&&(Q["@language"]=q,q.match(s)||E.eventHandler&&e({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:q}},options:E})),Q["@direction"]=K}else B!==T&&(Q["@type"]=B)}return Q}},{"./JsonLdError":42,"./constants":48,"./events":51,"./graphTypes":56,"./types":61,"./util":63}],56:[function(P,X,J){"use strict";const D=P("./types"),O={};X.exports=O,O.isSubject=A=>D.isObject(A)&&!("@value"in A||"@set"in A||"@list"in A)?Object.keys(A).length>1||!("@id"in A):!1,O.isSubjectReference=A=>D.isObject(A)&&Object.keys(A).length===1&&"@id"in A,O.isValue=A=>D.isObject(A)&&"@value"in A,O.isList=A=>D.isObject(A)&&"@list"in A,O.isGraph=A=>D.isObject(A)&&"@graph"in A&&Object.keys(A).filter(s=>s!=="@id"&&s!=="@index").length===1,O.isSimpleGraph=A=>O.isGraph(A)&&!("@id"in A),O.isBlankNode=A=>{if(D.isObject(A)){if("@id"in A){const s=A["@id"];return!D.isString(s)||s.indexOf("_:")===0}return Object.keys(A).length===0||!("@value"in A||"@set"in A||"@list"in A)}return!1}},{"./types":61}],57:[function(P,X,J){const D=P("rdf-canonize"),O=P("./platform"),A=P("./util"),s=P("./ContextResolver"),c=A.IdentifierIssuer,e=P("./JsonLdError"),f=P("lru-cache"),o=P("./NQuads"),{expand:h}=P("./expand"),{flatten:d}=P("./flatten"),{fromRDF:b}=P("./fromRdf"),{toRDF:w}=P("./toRdf"),{frameMergedOrDefault:v,cleanupNull:l}=P("./frame"),{isArray:x,isObject:T,isString:I}=P("./types"),{isSubjectReference:F}=P("./graphTypes"),{expandIri:L,getInitialContext:C,process:_,processingMode:E}=P("./context"),{compact:Q,compactIri:B}=P("./compact"),{createNodeMap:q,createMergedNodeMap:K,mergeNodeMaps:W}=P("./nodeMap"),{logEventHandler:pe,logWarningEventHandler:te,safeEventHandler:ue,setDefaultEventHandler:se,setupEventHandler:be,strictEventHandler:Y,unhandledEventHandler:de}=P("./events"),le=function($){const ve={},ae=new f({max:100});$.compact=async function(fe,ie,oe){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(ie===null)throw new e("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(fe===null)return null;oe=he(oe,{base:I(fe)?fe:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new c("_:b"),contextResolver:new s({sharedCache:ae})}),oe.link&&(oe.skipExpansion=!0),oe.compactToRelative||delete oe.base;let ke;oe.skipExpansion?ke=fe:ke=await $.expand(fe,oe);const ne=await $.processContext(C(oe),ie,oe);let ee=await Q({activeCtx:ne,element:ke,options:oe});oe.compactArrays&&!oe.graph&&x(ee)?ee.length===1?ee=ee[0]:ee.length===0&&(ee={}):oe.graph&&T(ee)&&(ee=[ee]),T(ie)&&"@context"in ie&&(ie=ie["@context"]),ie=A.clone(ie),x(ie)||(ie=[ie]);const me=ie;ie=[];for(let xe=0;xe<me.length;++xe)(!T(me[xe])||Object.keys(me[xe]).length>0)&&ie.push(me[xe]);const Ae=ie.length>0;if(ie.length===1&&(ie=ie[0]),x(ee)){const xe=B({activeCtx:ne,iri:"@graph",relativeTo:{vocab:!0}}),Z=ee;ee={},Ae&&(ee["@context"]=ie),ee[xe]=Z}else if(T(ee)&&Ae){const xe=ee;ee={"@context":ie};for(const Z in xe)ee[Z]=xe[Z]}return ee},$.expand=async function(fe,ie){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");ie=he(ie,{keepFreeFloatingNodes:!1,contextResolver:new s({sharedCache:ae})});const oe={},ke=[];if("expandContext"in ie){const Ae=A.clone(ie.expandContext);T(Ae)&&"@context"in Ae?oe.expandContext=Ae:oe.expandContext={"@context":Ae},ke.push(oe.expandContext)}let ne;if(!I(fe))oe.input=A.clone(fe);else{const Ae=await $.get(fe,ie);ne=Ae.documentUrl,oe.input=Ae.document,Ae.contextUrl&&(oe.remoteContext={"@context":Ae.contextUrl},ke.push(oe.remoteContext))}"base"in ie||(ie.base=ne||"");let ee=C(ie);for(const Ae of ke)ee=await _({activeCtx:ee,localCtx:Ae,options:ie});let me=await h({activeCtx:ee,element:oe.input,options:ie});return T(me)&&"@graph"in me&&Object.keys(me).length===1?me=me["@graph"]:me===null&&(me=[]),x(me)||(me=[me]),me},$.flatten=async function(fe,ie,oe){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof ie=="function"?ie=null:ie=ie||null,oe=he(oe,{base:I(fe)?fe:"",contextResolver:new s({sharedCache:ae})});const ke=await $.expand(fe,oe),ne=d(ke);return ie===null?ne:(oe.graph=!0,oe.skipExpansion=!0,await $.compact(ne,ie,oe))},$.frame=async function(fe,ie,oe){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(oe=he(oe,{base:I(fe)?fe:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new s({sharedCache:ae})}),I(ie)){const M=await $.get(ie,oe);if(ie=M.document,M.contextUrl){let G=ie["@context"];G?x(G)?G.push(M.contextUrl):G=[G,M.contextUrl]:G=M.contextUrl,ie["@context"]=G}}const ke=ie?ie["@context"]||{}:{},ne=await $.processContext(C(oe),ke,oe);oe.hasOwnProperty("omitGraph")||(oe.omitGraph=E(ne,1.1)),oe.hasOwnProperty("pruneBlankNodeIdentifiers")||(oe.pruneBlankNodeIdentifiers=E(ne,1.1));const ee=await $.expand(fe,oe),me={...oe};me.isFrame=!0,me.keepFreeFloatingNodes=!0;const Ae=await $.expand(ie,me),xe=Object.keys(ie).map(M=>L(ne,M,{vocab:!0}));me.merged=!xe.includes("@graph"),me.is11=E(ne,1.1);const Z=v(ee,Ae,me);me.graph=!oe.omitGraph,me.skipExpansion=!0,me.link={},me.framing=!0;let U=await $.compact(Z,ke,me);return me.link={},U=l(U,me),U},$.link=async function(fe,ie,oe){const ke={};return ie&&(ke["@context"]=ie),ke["@embed"]="@link",$.frame(fe,ke,oe)},$.normalize=$.canonize=async function(fe,ie){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(ie=he(ie,{base:I(fe)?fe:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new s({sharedCache:ae})}),"inputFormat"in ie){if(ie.inputFormat!=="application/n-quads"&&ie.inputFormat!=="application/nquads")throw new e("Unknown canonicalization input format.","jsonld.CanonizeError");const ne=o.parse(fe);return D.canonize(ne,ie)}const oe={...ie};delete oe.format,oe.produceGeneralizedRdf=!1;const ke=await $.toRDF(fe,oe);return D.canonize(ke,ie)},$.fromRDF=async function(fe,ie){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");ie=he(ie,{format:I(fe)?"application/n-quads":void 0});const{format:oe}=ie;let{rdfParser:ke}=ie;if(oe){if(ke=ke||ve[oe],!ke)throw new e("Unknown input format.","jsonld.UnknownFormat",{format:oe})}else ke=()=>fe;const ne=await ke(fe);return b(ne,ie)},$.toRDF=async function(fe,ie){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");ie=he(ie,{base:I(fe)?fe:"",skipExpansion:!1,contextResolver:new s({sharedCache:ae})});let oe;ie.skipExpansion?oe=fe:oe=await $.expand(fe,ie);const ke=w(oe,ie);if(ie.format){if(ie.format==="application/n-quads"||ie.format==="application/nquads")return o.serialize(ke);throw new e("Unknown output format.","jsonld.UnknownFormat",{format:ie.format})}return ke},$.createNodeMap=async function(fe,ie){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");ie=he(ie,{base:I(fe)?fe:"",contextResolver:new s({sharedCache:ae})});const oe=await $.expand(fe,ie);return K(oe,ie)},$.merge=async function(fe,ie,oe){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!x(fe))throw new TypeError('Could not merge, "docs" must be an array.');typeof ie=="function"?ie=null:ie=ie||null,oe=he(oe,{contextResolver:new s({sharedCache:ae})});const ke=await Promise.all(fe.map(M=>{const G={...oe};return $.expand(M,G)}));let ne=!0;"mergeNodes"in oe&&(ne=oe.mergeNodes);const ee=oe.issuer||new c("_:b"),me={"@default":{}};for(let M=0;M<ke.length;++M){const G=A.relabelBlankNodes(ke[M],{issuer:new c("_:b"+M+"-")}),z=ne||M===0?me:{"@default":{}};if(q(G,z,"@default",ee),z!==me)for(const ye in z){const Fe=z[ye];if(!(ye in me)){me[ye]=Fe;continue}const Ce=me[ye];for(const Ne in Fe)Ne in Ce||(Ce[Ne]=Fe[Ne])}}const Ae=W(me),xe=[],Z=Object.keys(Ae).sort();for(let M=0;M<Z.length;++M){const G=Ae[Z[M]];F(G)||xe.push(G)}return ie===null?xe:(oe.graph=!0,oe.skipExpansion=!0,await $.compact(xe,ie,oe))},Object.defineProperty($,"documentLoader",{get:()=>$._documentLoader,set:fe=>$._documentLoader=fe}),$.documentLoader=async fe=>{throw new e("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:fe})},$.get=async function(fe,ie){let oe;typeof ie.documentLoader=="function"?oe=ie.documentLoader:oe=$.documentLoader;const ke=await oe(fe);try{if(!ke.document)throw new e("No remote document found at the given URL.","jsonld.NullRemoteDocument");I(ke.document)&&(ke.document=JSON.parse(ke.document))}catch(ne){throw new e("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:ne,remoteDoc:ke})}return ke},$.processContext=async function(fe,ie,oe){return oe=he(oe,{base:"",contextResolver:new s({sharedCache:ae})}),ie===null?C(oe):(ie=A.clone(ie),T(ie)&&"@context"in ie||(ie={"@context":ie}),_({activeCtx:fe,localCtx:ie,options:oe}))},$.getContextValue=P("./context").getContextValue,$.documentLoaders={},$.useDocumentLoader=function(fe){if(!(fe in $.documentLoaders))throw new e('Unknown document loader type: "'+fe+'"',"jsonld.UnknownDocumentLoader",{type:fe});$.documentLoader=$.documentLoaders[fe].apply($,Array.prototype.slice.call(arguments,1))},$.registerRDFParser=function(fe,ie){ve[fe]=ie},$.unregisterRDFParser=function(fe){delete ve[fe]},$.registerRDFParser("application/n-quads",o.parse),$.registerRDFParser("application/nquads",o.parse),$.url=P("./url"),$.logEventHandler=pe,$.logWarningEventHandler=te,$.safeEventHandler=ue,$.setDefaultEventHandler=se,$.strictEventHandler=Y,$.unhandledEventHandler=de,$.util=A,Object.assign($,A),$.promises=$,$.RequestQueue=P("./RequestQueue"),$.JsonLdProcessor=P("./JsonLdProcessor")($),O.setupGlobals($),O.setupDocumentLoaders($);function he(fe,{documentLoader:ie=$.documentLoader,...oe}){if(fe&&"compactionMap"in fe)throw new e('"compactionMap" not supported.',"jsonld.OptionsError");if(fe&&"expansionMap"in fe)throw new e('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:ie},oe,fe,{eventHandler:be({options:fe})})}return $},ce=function(){return le(function(){return ce()})};le(ce),X.exports=ce},{"./ContextResolver":41,"./JsonLdError":42,"./JsonLdProcessor":43,"./NQuads":44,"./RequestQueue":45,"./compact":47,"./context":49,"./events":51,"./expand":52,"./flatten":53,"./frame":54,"./fromRdf":55,"./graphTypes":56,"./nodeMap":58,"./platform":59,"./toRdf":60,"./types":61,"./url":62,"./util":63,"lru-cache":64,"rdf-canonize":82}],58:[function(P,X,J){"use strict";const{isKeyword:D}=P("./context"),O=P("./graphTypes"),A=P("./types"),s=P("./util"),c=P("./JsonLdError"),e={};X.exports=e,e.createMergedNodeMap=(f,o)=>{o=o||{};const h=o.issuer||new s.IdentifierIssuer("_:b"),d={"@default":{}};return e.createNodeMap(f,d,"@default",h),e.mergeNodeMaps(d)},e.createNodeMap=(f,o,h,d,b,w)=>{if(A.isArray(f)){for(const T of f)e.createNodeMap(T,o,h,d,void 0,w);return}if(!A.isObject(f)){w&&w.push(f);return}if(O.isValue(f)){if("@type"in f){let T=f["@type"];T.indexOf("_:")===0&&(f["@type"]=T=d.getId(T))}w&&w.push(f);return}else if(w&&O.isList(f)){const T=[];e.createNodeMap(f["@list"],o,h,d,b,T),w.push({"@list":T});return}if("@type"in f){const T=f["@type"];for(const I of T)I.indexOf("_:")===0&&d.getId(I)}A.isUndefined(b)&&(b=O.isBlankNode(f)?d.getId(f["@id"]):f["@id"]),w&&w.push({"@id":b});const v=o[h],l=v[b]=v[b]||{};l["@id"]=b;const x=Object.keys(f).sort();for(let T of x){if(T==="@id")continue;if(T==="@reverse"){const F={"@id":b},L=f["@reverse"];for(const C in L){const _=L[C];for(const E of _){let Q=E["@id"];O.isBlankNode(E)&&(Q=d.getId(Q)),e.createNodeMap(E,o,h,d,Q),s.addValue(v[Q],C,F,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(T==="@graph"){b in o||(o[b]={}),e.createNodeMap(f[T],o,b,d);continue}if(T==="@included"){e.createNodeMap(f[T],o,h,d);continue}if(T!=="@type"&&D(T)){if(T==="@index"&&T in l&&(f[T]!==l[T]||f[T]["@id"]!==l[T]["@id"]))throw new c("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:l});l[T]=f[T];continue}const I=f[T];if(T.indexOf("_:")===0&&(T=d.getId(T)),I.length===0){s.addValue(l,T,[],{propertyIsArray:!0});continue}for(let F of I)if(T==="@type"&&(F=F.indexOf("_:")===0?d.getId(F):F),O.isSubject(F)||O.isSubjectReference(F)){if("@id"in F&&!F["@id"])continue;const L=O.isBlankNode(F)?d.getId(F["@id"]):F["@id"];s.addValue(l,T,{"@id":L},{propertyIsArray:!0,allowDuplicate:!1}),e.createNodeMap(F,o,h,d,L)}else if(O.isValue(F))s.addValue(l,T,F,{propertyIsArray:!0,allowDuplicate:!1});else if(O.isList(F)){const L=[];e.createNodeMap(F["@list"],o,h,d,b,L),F={"@list":L},s.addValue(l,T,F,{propertyIsArray:!0,allowDuplicate:!1})}else e.createNodeMap(F,o,h,d,b),s.addValue(l,T,F,{propertyIsArray:!0,allowDuplicate:!1})}},e.mergeNodeMapGraphs=f=>{const o={};for(const h of Object.keys(f).sort())for(const d of Object.keys(f[h]).sort()){const b=f[h][d];d in o||(o[d]={"@id":d});const w=o[d];for(const v of Object.keys(b).sort())if(D(v)&&v!=="@type")w[v]=s.clone(b[v]);else for(const l of b[v])s.addValue(w,v,s.clone(l),{propertyIsArray:!0,allowDuplicate:!1})}return o},e.mergeNodeMaps=f=>{const o=f["@default"],h=Object.keys(f).sort();for(const d of h){if(d==="@default")continue;const b=f[d];let w=o[d];w?"@graph"in w||(w["@graph"]=[]):o[d]=w={"@id":d,"@graph":[]};const v=w["@graph"];for(const l of Object.keys(b).sort()){const x=b[l];O.isSubjectReference(x)||v.push(x)}}return o}},{"./JsonLdError":42,"./context":49,"./graphTypes":56,"./types":61,"./util":63}],59:[function(P,X,J){"use strict";const D=P("./documentLoaders/xhr"),O={};X.exports=O,O.setupDocumentLoaders=function(A){typeof XMLHttpRequest<"u"&&(A.documentLoaders.xhr=D,A.useDocumentLoader("xhr"))},O.setupGlobals=function(A){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:A.JsonLdProcessor})}},{"./documentLoaders/xhr":50}],60:[function(P,X,J){"use strict";const{createNodeMap:D}=P("./nodeMap"),{isKeyword:O}=P("./context"),A=P("./graphTypes"),s=P("canonicalize"),c=P("./JsonLdError"),e=P("./types"),f=P("./util"),{handleEvent:o}=P("./events"),{RDF_FIRST:h,RDF_REST:d,RDF_NIL:b,RDF_TYPE:w,RDF_JSON_LITERAL:v,RDF_LANGSTRING:l,XSD_BOOLEAN:x,XSD_DOUBLE:T,XSD_INTEGER:I,XSD_STRING:F}=P("./constants"),{isAbsolute:L}=P("./url"),C={};X.exports=C,C.toRDF=(B,q)=>{const K=new f.IdentifierIssuer("_:b"),W={"@default":{}};D(B,W,"@default",K);const pe=[],te=Object.keys(W).sort();for(const ue of te){let se;if(ue==="@default")se={termType:"DefaultGraph",value:""};else if(L(ue))ue.startsWith("_:")?se={termType:"BlankNode"}:se={termType:"NamedNode"},se.value=ue;else{q.eventHandler&&o({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:ue}},options:q});continue}_(pe,W[ue],se,K,q)}return pe};function _(B,q,K,W,pe){const te=Object.keys(q).sort();for(const ue of te){const se=q[ue],be=Object.keys(se).sort();for(let Y of be){const de=se[Y];if(Y==="@type")Y=w;else if(O(Y))continue;for(const le of de){const ce={termType:ue.startsWith("_:")?"BlankNode":"NamedNode",value:ue};if(!L(ue)){pe.eventHandler&&o({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:ue}},options:pe});continue}const $={termType:Y.startsWith("_:")?"BlankNode":"NamedNode",value:Y};if(!L(Y)){pe.eventHandler&&o({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:Y}},options:pe});continue}if($.termType==="BlankNode"&&!pe.produceGeneralizedRdf){pe.eventHandler&&o({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:W.getOldIds().find(re=>W.getId(re)===Y)}},options:pe});continue}const ve=Q(le,W,B,K,pe.rdfDirection,pe);ve&&B.push({subject:ce,predicate:$,object:ve,graph:K})}}}}function E(B,q,K,W,pe,te){const ue={termType:"NamedNode",value:h},se={termType:"NamedNode",value:d},be={termType:"NamedNode",value:b},Y=B.pop(),de=Y?{termType:"BlankNode",value:q.getId()}:be;let le=de;for(const ce of B){const $=Q(ce,q,K,W,pe,te),ve={termType:"BlankNode",value:q.getId()};K.push({subject:le,predicate:ue,object:$,graph:W}),K.push({subject:le,predicate:se,object:ve,graph:W}),le=ve}if(Y){const ce=Q(Y,q,K,W,pe,te);K.push({subject:le,predicate:ue,object:ce,graph:W}),K.push({subject:le,predicate:se,object:be,graph:W})}return de}function Q(B,q,K,W,pe,te){const ue={};if(A.isValue(B)){ue.termType="Literal",ue.value=void 0,ue.datatype={termType:"NamedNode"};let se=B["@value"];const be=B["@type"]||null;if(be==="@json")ue.value=s(se),ue.datatype.value=v;else if(e.isBoolean(se))ue.value=se.toString(),ue.datatype.value=be||x;else if(e.isDouble(se)||be===T)e.isDouble(se)||(se=parseFloat(se)),ue.value=se.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),ue.datatype.value=be||T;else if(e.isNumber(se))ue.value=se.toFixed(0),ue.datatype.value=be||I;else if("@direction"in B&&pe==="i18n-datatype"){const Y=(B["@language"]||"").toLowerCase(),de=B["@direction"],le=`https://www.w3.org/ns/i18n#${Y}_${de}`;ue.datatype.value=le,ue.value=se}else{if("@direction"in B&&pe==="compound-literal")throw new c("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:pe});if("@direction"in B&&pe)throw new c("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:pe});"@language"in B?("@direction"in B&&!pe&&te.eventHandler&&o({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:ue.value}},options:te}),ue.value=se,ue.datatype.value=be||l,ue.language=B["@language"]):("@direction"in B&&!pe&&te.eventHandler&&o({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:ue.value}},options:te}),ue.value=se,ue.datatype.value=be||F)}}else if(A.isList(B)){const se=E(B["@list"],q,K,W,pe,te);ue.termType=se.termType,ue.value=se.value}else{const se=e.isObject(B)?B["@id"]:B;ue.termType=se.startsWith("_:")?"BlankNode":"NamedNode",ue.value=se}return ue.termType==="NamedNode"&&!L(ue.value)?(te.eventHandler&&o({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:ue.value}},options:te}),null):ue}},{"./JsonLdError":42,"./constants":48,"./context":49,"./events":51,"./graphTypes":56,"./nodeMap":58,"./types":61,"./url":62,"./util":63,canonicalize:12}],61:[function(P,X,J){"use strict";const D={};X.exports=D,D.isArray=Array.isArray,D.isBoolean=O=>typeof O=="boolean"||Object.prototype.toString.call(O)==="[object Boolean]",D.isDouble=O=>D.isNumber(O)&&(String(O).indexOf(".")!==-1||Math.abs(O)>=1e21),D.isEmptyObject=O=>D.isObject(O)&&Object.keys(O).length===0,D.isNumber=O=>typeof O=="number"||Object.prototype.toString.call(O)==="[object Number]",D.isNumeric=O=>!isNaN(parseFloat(O))&&isFinite(O),D.isObject=O=>Object.prototype.toString.call(O)==="[object Object]",D.isString=O=>typeof O=="string"||Object.prototype.toString.call(O)==="[object String]",D.isUndefined=O=>typeof O>"u"},{}],62:[function(P,X,J){"use strict";const D=P("./types"),O={};X.exports=O,O.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},O.parse=(s,c)=>{const e={},f=O.parsers[c||"full"],o=f.regex.exec(s);let h=f.keys.length;for(;h--;)e[f.keys[h]]=o[h]===void 0?null:o[h];return(e.scheme==="https"&&e.port==="443"||e.scheme==="http"&&e.port==="80")&&(e.href=e.href.replace(":"+e.port,""),e.authority=e.authority.replace(":"+e.port,""),e.port=null),e.normalizedPath=O.removeDotSegments(e.path),e},O.prependBase=(s,c)=>{if(s===null||O.isAbsolute(c))return c;(!s||D.isString(s))&&(s=O.parse(s||""));const e=O.parse(c),f={protocol:s.protocol||""};if(e.authority!==null)f.authority=e.authority,f.path=e.path,f.query=e.query;else if(f.authority=s.authority,e.path==="")f.path=s.path,e.query!==null?f.query=e.query:f.query=s.query;else{if(e.path.indexOf("/")===0)f.path=e.path;else{let h=s.path;h=h.substr(0,h.lastIndexOf("/")+1),(h.length>0||s.authority)&&h.substr(-1)!=="/"&&(h+="/"),h+=e.path,f.path=h}f.query=e.query}e.path!==""&&(f.path=O.removeDotSegments(f.path));let o=f.protocol;return f.authority!==null&&(o+="//"+f.authority),o+=f.path,f.query!==null&&(o+="?"+f.query),e.fragment!==null&&(o+="#"+e.fragment),o===""&&(o="./"),o},O.removeBase=(s,c)=>{if(s===null)return c;(!s||D.isString(s))&&(s=O.parse(s||""));let e="";if(s.href!==""?e+=(s.protocol||"")+"//"+(s.authority||""):c.indexOf("//")&&(e+="//"),c.indexOf(e)!==0)return c;const f=O.parse(c.substr(e.length)),o=s.normalizedPath.split("/"),h=f.normalizedPath.split("/"),d=f.fragment||f.query?0:1;for(;o.length>0&&h.length>d&&o[0]===h[0];)o.shift(),h.shift();let b="";if(o.length>0){o.pop();for(let w=0;w<o.length;++w)b+="../"}return b+=h.join("/"),f.query!==null&&(b+="?"+f.query),f.fragment!==null&&(b+="#"+f.fragment),b===""&&(b="./"),b},O.removeDotSegments=s=>{if(s.length===0)return"";const c=s.split("/"),e=[];for(;c.length>0;){const f=c.shift(),o=c.length===0;if(f==="."){o&&e.push("");continue}if(f===".."){e.pop(),o&&e.push("");continue}e.push(f)}return s[0]==="/"&&e.length>0&&e[0]!==""&&e.unshift(""),e.length===1&&e[0]===""?"/":e.join("/")};const A=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;O.isAbsolute=s=>D.isString(s)&&A.test(s),O.isRelative=s=>D.isString(s)},{"./types":61}],63:[function(P,X,J){"use strict";const D=P("./graphTypes"),O=P("./types"),A=P("rdf-canonize").IdentifierIssuer,s=P("./JsonLdError"),c=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,e=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,f=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,o=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,h=/^@[a-zA-Z]+$/,d={headers:{accept:"application/ld+json, application/json"}},b={};X.exports=b,b.IdentifierIssuer=A,b.REGEX_BCP47=c,b.REGEX_KEYWORD=h,b.clone=function(v){if(v&&typeof v=="object"){let l;if(O.isArray(v)){l=[];for(let x=0;x<v.length;++x)l[x]=b.clone(v[x])}else if(v instanceof Map){l=new Map;for(const[x,T]of v)l.set(x,b.clone(T))}else if(v instanceof Set){l=new Set;for(const x of v)l.add(b.clone(x))}else if(O.isObject(v)){l={};for(const x in v)l[x]=b.clone(v[x])}else l=v.toString();return l}return v},b.asArray=function(v){return Array.isArray(v)?v:[v]},b.buildHeaders=(v={})=>{if(Object.keys(v).some(x=>x.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+d.headers.accept+'" is supported.');return Object.assign({Accept:d.headers.accept},v)},b.parseLinkHeader=v=>{const l={},x=v.match(e);for(let T=0;T<x.length;++T){let I=x[T].match(f);if(!I)continue;const F={target:I[1]},L=I[2];for(;I=o.exec(L);)F[I[1]]=I[2]===void 0?I[3]:I[2];const C=F.rel||"";Array.isArray(l[C])?l[C].push(F):l.hasOwnProperty(C)?l[C]=[l[C],F]:l[C]=F}return l},b.validateTypeValue=(v,l)=>{if(!O.isString(v)&&!(O.isArray(v)&&v.every(x=>O.isString(x)))){if(l&&O.isObject(v))switch(Object.keys(v).length){case 0:return;case 1:if("@default"in v&&b.asArray(v["@default"]).every(x=>O.isString(x)))return}throw new s('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:v})}},b.hasProperty=(v,l)=>{if(v.hasOwnProperty(l)){const x=v[l];return!O.isArray(x)||x.length>0}return!1},b.hasValue=(v,l,x)=>{if(b.hasProperty(v,l)){let T=v[l];const I=D.isList(T);if(O.isArray(T)||I){I&&(T=T["@list"]);for(let F=0;F<T.length;++F)if(b.compareValues(x,T[F]))return!0}else if(!O.isArray(x))return b.compareValues(x,T)}return!1},b.addValue=(v,l,x,T)=>{if(T=T||{},"propertyIsArray"in T||(T.propertyIsArray=!1),"valueIsArray"in T||(T.valueIsArray=!1),"allowDuplicate"in T||(T.allowDuplicate=!0),"prependValue"in T||(T.prependValue=!1),T.valueIsArray)v[l]=x;else if(O.isArray(x)){x.length===0&&T.propertyIsArray&&!v.hasOwnProperty(l)&&(v[l]=[]),T.prependValue&&(x=x.concat(v[l]),v[l]=[]);for(let I=0;I<x.length;++I)b.addValue(v,l,x[I],T)}else if(v.hasOwnProperty(l)){const I=!T.allowDuplicate&&b.hasValue(v,l,x);!O.isArray(v[l])&&(!I||T.propertyIsArray)&&(v[l]=[v[l]]),I||(T.prependValue?v[l].unshift(x):v[l].push(x))}else v[l]=T.propertyIsArray?[x]:x},b.getValues=(v,l)=>[].concat(v[l]||[]),b.removeProperty=(v,l)=>{delete v[l]},b.removeValue=(v,l,x,T)=>{T=T||{},"propertyIsArray"in T||(T.propertyIsArray=!1);const I=b.getValues(v,l).filter(F=>!b.compareValues(F,x));I.length===0?b.removeProperty(v,l):I.length===1&&!T.propertyIsArray?v[l]=I[0]:v[l]=I},b.relabelBlankNodes=(v,l)=>{l=l||{};const x=l.issuer||new A("_:b");return w(x,v)},b.compareValues=(v,l)=>v===l||D.isValue(v)&&D.isValue(l)&&v["@value"]===l["@value"]&&v["@type"]===l["@type"]&&v["@language"]===l["@language"]&&v["@index"]===l["@index"]?!0:O.isObject(v)&&"@id"in v&&O.isObject(l)&&"@id"in l?v["@id"]===l["@id"]:!1,b.compareShortestLeast=(v,l)=>v.length<l.length?-1:l.length<v.length?1:v===l?0:v<l?-1:1;function w(v,l){if(O.isArray(l))for(let x=0;x<l.length;++x)l[x]=w(v,l[x]);else if(D.isList(l))l["@list"]=w(v,l["@list"]);else if(O.isObject(l)){D.isBlankNode(l)&&(l["@id"]=v.getId(l["@id"]));const x=Object.keys(l).sort();for(let T=0;T<x.length;++T){const I=x[T];I!=="@id"&&(l[I]=w(v,l[I]))}}return l}},{"./JsonLdError":42,"./graphTypes":56,"./types":61,"rdf-canonize":82}],64:[function(P,X,J){"use strict";const D=P("yallist"),O=Symbol("max"),A=Symbol("length"),s=Symbol("lengthCalculator"),c=Symbol("allowStale"),e=Symbol("maxAge"),f=Symbol("dispose"),o=Symbol("noDisposeOnSet"),h=Symbol("lruList"),d=Symbol("cache"),b=Symbol("updateAgeOnGet"),w=()=>1;class v{constructor(_){if(typeof _=="number"&&(_={max:_}),_||(_={}),_.max&&(typeof _.max!="number"||_.max<0))throw new TypeError("max must be a non-negative number");const E=this[O]=_.max||1/0,Q=_.length||w;if(this[s]=typeof Q!="function"?w:Q,this[c]=_.stale||!1,_.maxAge&&typeof _.maxAge!="number")throw new TypeError("maxAge must be a number");this[e]=_.maxAge||0,this[f]=_.dispose,this[o]=_.noDisposeOnSet||!1,this[b]=_.updateAgeOnGet||!1,this.reset()}set max(_){if(typeof _!="number"||_<0)throw new TypeError("max must be a non-negative number");this[O]=_||1/0,T(this)}get max(){return this[O]}set allowStale(_){this[c]=!!_}get allowStale(){return this[c]}set maxAge(_){if(typeof _!="number")throw new TypeError("maxAge must be a non-negative number");this[e]=_,T(this)}get maxAge(){return this[e]}set lengthCalculator(_){typeof _!="function"&&(_=w),_!==this[s]&&(this[s]=_,this[A]=0,this[h].forEach(E=>{E.length=this[s](E.value,E.key),this[A]+=E.length})),T(this)}get lengthCalculator(){return this[s]}get length(){return this[A]}get itemCount(){return this[h].length}rforEach(_,E){E=E||this;for(let Q=this[h].tail;Q!==null;){const B=Q.prev;L(this,_,Q,E),Q=B}}forEach(_,E){E=E||this;for(let Q=this[h].head;Q!==null;){const B=Q.next;L(this,_,Q,E),Q=B}}keys(){return this[h].toArray().map(_=>_.key)}values(){return this[h].toArray().map(_=>_.value)}reset(){this[f]&&this[h]&&this[h].length&&this[h].forEach(_=>this[f](_.key,_.value)),this[d]=new Map,this[h]=new D,this[A]=0}dump(){return this[h].map(_=>x(this,_)?!1:{k:_.key,v:_.value,e:_.now+(_.maxAge||0)}).toArray().filter(_=>_)}dumpLru(){return this[h]}set(_,E,Q){if(Q=Q||this[e],Q&&typeof Q!="number")throw new TypeError("maxAge must be a number");const B=Q?Date.now():0,q=this[s](E,_);if(this[d].has(_)){if(q>this[O])return I(this,this[d].get(_)),!1;const pe=this[d].get(_).value;return this[f]&&(this[o]||this[f](_,pe.value)),pe.now=B,pe.maxAge=Q,pe.value=E,this[A]+=q-pe.length,pe.length=q,this.get(_),T(this),!0}const K=new F(_,E,q,B,Q);return K.length>this[O]?(this[f]&&this[f](_,E),!1):(this[A]+=K.length,this[h].unshift(K),this[d].set(_,this[h].head),T(this),!0)}has(_){if(!this[d].has(_))return!1;const E=this[d].get(_).value;return!x(this,E)}get(_){return l(this,_,!0)}peek(_){return l(this,_,!1)}pop(){const _=this[h].tail;return _?(I(this,_),_.value):null}del(_){I(this,this[d].get(_))}load(_){this.reset();const E=Date.now();for(let Q=_.length-1;Q>=0;Q--){const B=_[Q],q=B.e||0;if(q===0)this.set(B.k,B.v);else{const K=q-E;K>0&&this.set(B.k,B.v,K)}}}prune(){this[d].forEach((_,E)=>l(this,E,!1))}}const l=(C,_,E)=>{const Q=C[d].get(_);if(Q){const B=Q.value;if(x(C,B)){if(I(C,Q),!C[c])return}else E&&(C[b]&&(Q.value.now=Date.now()),C[h].unshiftNode(Q));return B.value}},x=(C,_)=>{if(!_||!_.maxAge&&!C[e])return!1;const E=Date.now()-_.now;return _.maxAge?E>_.maxAge:C[e]&&E>C[e]},T=C=>{if(C[A]>C[O])for(let _=C[h].tail;C[A]>C[O]&&_!==null;){const E=_.prev;I(C,_),_=E}},I=(C,_)=>{if(_){const E=_.value;C[f]&&C[f](E.key,E.value),C[A]-=E.length,C[d].delete(E.key),C[h].removeNode(_)}};class F{constructor(_,E,Q,B,q){this.key=_,this.value=E,this.length=Q,this.now=B,this.maxAge=q||0}}const L=(C,_,E,Q)=>{let B=E.value;x(C,B)&&(I(C,E),C[c]||(B=void 0)),B&&_.call(Q,B.value,B.key,C)};X.exports=v},{yallist:137}],65:[function(P,X,O){var D=P;P=function(){};var O=X.exports={Lexer:P("./lib/N3Lexer"),Parser:P("./lib/N3Parser"),Writer:P("./lib/N3Writer"),Store:P("./lib/N3Store"),StreamParser:P("./lib/N3StreamParser"),StreamWriter:P("./lib/N3StreamWriter"),Util:P("./lib/N3Util")};Object.keys(O).forEach(function(A){Object.defineProperty(O,A,{configurable:!0,enumerable:!0,get:function(){return delete O[A],O[A]=D("./lib/N3"+A)}})})},{"./lib/N3Lexer":66,"./lib/N3Parser":67,"./lib/N3Store":68,"./lib/N3StreamParser":69,"./lib/N3StreamWriter":70,"./lib/N3Util":71,"./lib/N3Writer":72}],66:[function(P,X,J){(function(D){(function(){var O=String.fromCharCode,A=typeof D=="function"?D:function(h){setTimeout(h,0)},s=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,c={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},e=/[\x00-\x20<>\\"\{\}\|\^\`]/;function f(o){if(!(this instanceof f))return new f(o);if(o=o||{},o.lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var h=this;this._tokenize=this.tokenize,this.tokenize=function(d,b){this._tokenize(d,function(w,v){!w&&/^(?:IRI|blank|literal|langcode|typeIRI|\.|eof)$/.test(v.type)?b&&b(w,v):b&&b(w||h._syntaxError(v.type,b=null))})}}this._n3Mode=o.n3!==!1,this._comments=!!o.comments}f.prototype={_iri:/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,_unescapedString:/^"[^"\\\r\n]+"/,_singleQuotedString:/^"(?:[^"\\\r\n]|\\.)*"(?=[^"])|^'(?:[^'\\\r\n]|\\.)*'(?=[^'])/,_tripleQuotedString:/^""("[^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*")""|^''('[^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*')''/,_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<]))/,_variable:/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<])/,_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<]))/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<])/,_keyword:/^@[a-z]+(?=[\s#<:])/i,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_comment:/#([^\n\r]*)/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(o,h){for(var d=this._input,b=this._comments;;){for(var w,v;w=this._newline.exec(d);)b&&(v=this._comment.exec(w[0]))&&o(null,{line:this._line,type:"comment",value:v[1],prefix:""}),d=d.substr(w[0].length,d.length),this._line++;if((w=this._whitespace.exec(d))&&(d=d.substr(w[0].length,d.length)),this._endOfFile.test(d))return h&&(b&&(v=this._comment.exec(d))&&o(null,{line:this._line,type:"comment",value:v[1],prefix:""}),o(d=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=d;var l=this._line,x="",T="",I="",F=d[0],L=null,C=0,_,E=!1;switch(F){case"^":if(d.length<3)break;if(d[1]==="^"){if(this._previousMarker="^^",d=d.substr(2),d[0]!=="<"){E=!0;break}}else{this._n3Mode&&(C=1,x="^");break}case"<":if(L=this._unescapedIri.exec(d))x="IRI",T=L[1];else if(L=this._iri.exec(d)){if(_=this._unescape(L[1]),_===null||e.test(_))return B(this);x="IRI",T=_}else this._n3Mode&&d.length>1&&d[1]==="="&&(x="inverse",C=2,T="http://www.w3.org/2000/10/swap/log#implies");break;case"_":((L=this._blank.exec(d))||h&&(L=this._blank.exec(d+" ")))&&(x="blank",I="_",T=L[1]);break;case'"':case"'":if(L=this._unescapedString.exec(d))x="literal",T=L[0];else if(L=this._singleQuotedString.exec(d)){if(_=this._unescape(L[0]),_===null)return B(this);x="literal",T=_.replace(/^'|'$/g,'"')}else if(L=this._tripleQuotedString.exec(d)){if(_=L[1]||L[2],this._line+=_.split(/\r\n|\r|\n/).length-1,_=this._unescape(_),_===null)return B(this);x="literal",T=_.replace(/^'|'$/g,'"')}break;case"?":this._n3Mode&&(L=this._variable.exec(d))&&(x="var",T=L[0]);break;case"@":this._previousMarker==="literal"&&(L=this._langcode.exec(d))?(x="langcode",T=L[1]):(L=this._keyword.exec(d))&&(x=L[0]);break;case".":if(d.length===1?h:d[1]<"0"||d[1]>"9"){x=".",C=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(L=this._number.exec(d)||h&&(L=this._number.exec(d+" ")))&&(x="literal",T='"'+L[0]+'"^^http://www.w3.org/2001/XMLSchema#'+(L[1]?"double":/^[+\-]?\d+$/.test(L[0])?"integer":"decimal"));break;case"B":case"b":case"p":case"P":case"G":case"g":(L=this._sparqlKeyword.exec(d))?x=L[0].toUpperCase():E=!0;break;case"f":case"t":(L=this._boolean.exec(d))?(x="literal",T='"'+L[0]+'"^^http://www.w3.org/2001/XMLSchema#boolean'):E=!0;break;case"a":(L=this._shortPredicates.exec(d))?(x="abbreviation",T="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):E=!0;break;case"=":this._n3Mode&&d.length>1&&(x="abbreviation",d[1]!==">"?(C=1,T="http://www.w3.org/2002/07/owl#sameAs"):(C=2,T="http://www.w3.org/2000/10/swap/log#implies"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":C=1,x=F;break;default:E=!0}if(E&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(L=this._prefix.exec(d))?(x="prefix",T=L[1]||""):((L=this._prefixed.exec(d))||h&&(L=this._prefixed.exec(d+" ")))&&(x="prefixed",I=L[1]||"",T=this._unescape(L[2]))),this._previousMarker==="^^")switch(x){case"prefixed":x="type";break;case"IRI":x="typeIRI";break;default:x=""}if(!x)return h||!/^'''|^"""/.test(d)&&/\n|\r/.test(d)?B(this):this._input=d;var Q={line:l,type:x,value:T,prefix:I};o(null,Q),this.previousToken=Q,this._previousMarker=x,d=d.substr(C||L[0].length,d.length)}function B(q){o(q._syntaxError(/^\S*/.exec(d)[0]))}},_unescape:function(o){try{return o.replace(s,function(h,d,b,w){var v;if(d){if(v=parseInt(d,16),isNaN(v))throw new Error;return O(v)}else if(b){if(v=parseInt(b,16),isNaN(v))throw new Error;return v<=65535?O(v):O(55296+(v-=65536)/1024,56320+(v&1023))}else{var l=c[w];if(!l)throw new Error;return l}})}catch{return null}},_syntaxError:function(o){this._input=null;var h=new Error('Unexpected "'+o+'" on line '+this._line+".");return h.context={token:void 0,line:this._line,previousToken:this.previousToken},h},tokenize:function(o,h){var d=this;if(this._line=1,typeof o=="string")if(this._input=o,typeof h=="function")A(function(){d._tokenizeToEnd(h,!0)});else{var b=[],w;if(this._tokenizeToEnd(function(v,l){v?w=v:b.push(l)},!0),w)throw w;return b}else this._input="",typeof o.setEncoding=="function"&&o.setEncoding("utf8"),o.on("data",function(v){d._input!==null&&(d._input+=v,d._tokenizeToEnd(h,!1))}),o.on("end",function(){d._input!==null&&d._tokenizeToEnd(h,!0)}),o.on("error",h)}},X.exports=f}).call(this)}).call(this,P("timers").setImmediate)},{timers:131}],67:[function(P,X,J){var D=P("./N3Lexer"),O="http://www.w3.org/1999/02/22-rdf-syntax-ns#",A=O+"nil",s=O+"first",c=O+"rest",e="urn:n3:quantifiers",f=/^[a-z][a-z0-9+.-]*:/i,o=/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i,h=/(?:^|\/)\.\.?(?:$|[\/#?])/,d=0,b=0;function w(l){if(!(this instanceof w))return new w(l);this._contextStack=[],this._graph=null,l=l||{},this._setBase(l.documentIRI);var x=typeof l.format=="string"?l.format.match(/\w*$/)[0].toLowerCase():"",T=x==="turtle",I=x==="trig",F=/triple/.test(x),L=/quad/.test(x),C=this._n3Mode=/n3/.test(x),_=F||L;(this._supportsNamedGraphs=!(T||C))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(T||I||F||C),_&&(this._base="",this._resolveIRI=function(E){return this._error("Disallowed relative IRI",E),this._callback=v,this._subject=null}),this._blankNodePrefix=typeof l.blankNodePrefix!="string"?"":"_:"+l.blankNodePrefix.replace(/^_:/,""),this._lexer=l.lexer||new D({lineMode:_,n3:C}),this._explicitQuantifiers=!!l.explicitQuantifiers}w._resetBlankNodeIds=function(){d=b=0},w.prototype={_setBase:function(l){if(!l)this._base=null;else{var x=l.indexOf("#");x>=0&&(l=l.substr(0,x)),this._base=l,this._basePath=l.indexOf("/")<0?l:l.replace(/[^\/?]*(?:\?.*)?$/,""),l=l.match(o),this._baseRoot=l[0],this._baseScheme=l[1]}},_saveContext:function(l,x,T,I,F){var L=this._n3Mode;this._contextStack.push({subject:T,predicate:I,object:F,graph:x,type:l,inverse:L?this._inversePredicate:!1,blankPrefix:L?this._prefixes._:"",quantified:L?this._quantified:null}),L&&(this._inversePredicate=!1,this._prefixes._=this._graph+".",this._quantified=Object.create(this._quantified))},_restoreContext:function(){var l=this._contextStack.pop(),x=this._n3Mode;this._subject=l.subject,this._predicate=l.predicate,this._object=l.object,this._graph=l.graph,x&&(this._inversePredicate=l.inverse,this._prefixes._=l.blankPrefix,this._quantified=l.quantified)},_readInTopContext:function(l){switch(l.type){case"eof":return this._graph!==null?this._error("Unclosed graph",l):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(l)}},_readEntity:function(l,x){var T;switch(l.type){case"IRI":case"typeIRI":T=this._base===null||f.test(l.value)?l.value:this._resolveIRI(l);break;case"type":case"blank":case"prefixed":var I=this._prefixes[l.prefix];if(I===void 0)return this._error('Undefined prefix "'+l.prefix+':"',l);T=I+l.value;break;case"var":return l.value;default:return this._error("Expected entity but got "+l.type,l)}return!x&&this._n3Mode&&T in this._quantified&&(T=this._quantified[T]),T},_readSubject:function(l){switch(this._predicate=null,l.type){case"[":return this._saveContext("blank",this._graph,this._subject="_:b"+b++,null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,A,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph="_:b"+b++,null,null),this._readSubject):this._error("Unexpected graph",l);case"}":return this._readPunctuation(l);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate="http://www.w3.org/2000/10/swap/reify#forSome",this._quantifiedPrefix="_:b",this._readQuantifierList):this._error('Unexpected "@forSome"',l);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate="http://www.w3.org/2000/10/swap/reify#forAll",this._quantifiedPrefix="?b-",this._readQuantifierList):this._error('Unexpected "@forAll"',l);default:if((this._subject=this._readEntity(l))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph},_readPredicate:function(l){var x=l.type;switch(x){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=l.value;break;case".":case"]":case"}":return this._predicate===null?this._error("Unexpected "+x,l):(this._subject=null,x==="]"?this._readBlankNodeTail(l):this._readPunctuation(l));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",l);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",l);default:if((this._predicate=this._readEntity(l))===void 0)return}return this._readObject},_readObject:function(l){switch(l.type){case"literal":return this._object=l.value,this._readDataTypeOrLang;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject="_:b"+b++),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,A),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph="_:b"+b++),this._readSubject):this._error("Unexpected graph",l);default:if((this._object=this._readEntity(l))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()},_readPredicateOrNamedGraph:function(l){return l.type==="{"?this._readGraph(l):this._readPredicate(l)},_readGraph:function(l){return l.type!=="{"?this._error("Expected graph but got "+l.type,l):(this._graph=this._subject,this._subject=null,this._readSubject)},_readBlankNodeHead:function(l){return l.type==="]"?(this._subject=null,this._readBlankNodeTail(l)):(this._predicate=null,this._readPredicate(l))},_readBlankNodeTail:function(l){if(l.type!=="]")return this._readBlankNodePunctuation(l);this._subject!==null&&this._triple(this._subject,this._predicate,this._object,this._graph);var x=this._predicate===null;return this._restoreContext(),this._object===null?x?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()},_readPredicateAfterBlank:function(l){return l.type==="."&&!this._contextStack.length?(this._subject=null,this._readPunctuation(l)):this._readPredicate(l)},_readListItem:function(l){var x=null,T=null,I=this._subject,F=this._contextStack,L=F[F.length-1],C=this._readListItem,_=!0;switch(l.type){case"[":this._saveContext("blank",this._graph,T="_:b"+b++,s,this._subject=x="_:b"+b++),C=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,T="_:b"+b++,s,A),this._subject=null;break;case")":if(this._restoreContext(),F.length!==0&&F[F.length-1].type==="list"&&this._triple(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(C=this._readPredicate,this._subject===A)return C}else if(C=this._getContextEndReader(),this._object===A)return C;T=A;break;case"literal":x=l.value,_=!1,C=this._readListItemDataTypeOrLang;break;default:if((x=this._readEntity(l))===void 0)return}if(T===null&&(this._subject=T="_:b"+b++),I===null?L.predicate===null?L.subject=T:L.object=T:this._triple(I,c,T,this._graph),x!==null){if(this._n3Mode&&(l.type==="IRI"||l.type==="prefixed"))return this._saveContext("item",this._graph,T,s,x),this._subject=x,this._predicate=null,this._getPathReader(this._readListItem);_?this._triple(T,s,x,this._graph):this._object=x}return C},_readDataTypeOrLang:function(l){return this._completeLiteral(l,!1)},_readListItemDataTypeOrLang:function(l){return this._completeLiteral(l,!0)},_completeLiteral:function(l,x){var T=!1;switch(l.type){case"type":case"typeIRI":var I=this._readEntity(l);if(I===void 0)return;T=!0,this._object+="^^"+I;break;case"langcode":T=!0,this._object+="@"+l.value.toLowerCase();break}return x&&this._triple(this._subject,s,this._object,this._graph),T?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(l))},_readFormulaTail:function(l){return l.type!=="}"?this._readPunctuation(l):(this._subject!==null&&this._triple(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),this._object===null?this._readPredicate:this._getContextEndReader())},_readPunctuation:function(l){var x,T=this._subject,I=this._graph,F=this._inversePredicate;switch(l.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",l);if(this._n3Mode)return this._readFormulaTail(l);this._graph=null;case".":this._subject=null,x=this._contextStack.length?this._readSubject:this._readInTopContext,F&&(this._inversePredicate=!1);break;case";":x=this._readPredicate;break;case",":x=this._readObject;break;default:if(this._supportsQuads&&this._graph===null&&(I=this._readEntity(l))!==void 0){x=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'+this._object+'"',l)}if(T!==null){var L=this._predicate,C=this._object;F?this._triple(C,L,T,I):this._triple(T,L,C,I)}return x},_readBlankNodePunctuation:function(l){var x;switch(l.type){case";":x=this._readPredicate;break;case",":x=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object+'"',l)}return this._triple(this._subject,this._predicate,this._object,this._graph),x},_readQuadPunctuation:function(l){return l.type!=="."?this._error("Expected dot to follow quad",l):this._readInTopContext},_readPrefix:function(l){return l.type!=="prefix"?this._error("Expected prefix to follow @prefix",l):(this._prefix=l.value,this._readPrefixIRI)},_readPrefixIRI:function(l){if(l.type!=="IRI")return this._error('Expected IRI to follow prefix "'+this._prefix+':"',l);var x=this._readEntity(l);return this._prefixes[this._prefix]=x,this._prefixCallback(this._prefix,x),this._readDeclarationPunctuation},_readBaseIRI:function(l){return l.type!=="IRI"?this._error("Expected IRI to follow base declaration",l):(this._setBase(this._base===null||f.test(l.value)?l.value:this._resolveIRI(l)),this._readDeclarationPunctuation)},_readNamedGraphLabel:function(l){switch(l.type){case"IRI":case"blank":case"prefixed":return this._readSubject(l),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",l)}},_readNamedGraphBlankLabel:function(l){return l.type!=="]"?this._error("Invalid graph label",l):(this._subject="_:b"+b++,this._readGraph)},_readDeclarationPunctuation:function(l){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(l)):l.type!=="."?this._error("Expected declaration to end with a dot",l):this._readInTopContext},_readQuantifierList:function(l){var x;switch(l.type){case"IRI":case"prefixed":if((x=this._readEntity(l,!0))!==void 0)break;default:return this._error("Unexpected "+l.type,l)}return this._explicitQuantifiers?(this._subject===null?this._triple(this._graph||"",this._predicate,this._subject="_:b"+b++,e):this._triple(this._subject,c,this._subject="_:b"+b++,e),this._triple(this._subject,s,x,e)):this._quantified[x]=this._quantifiedPrefix+b++,this._readQuantifierPunctuation},_readQuantifierPunctuation:function(l){return l.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._triple(this._subject,c,A,e),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(l))},_getPathReader:function(l){return this._afterPath=l,this._readPath},_readPath:function(l){switch(l.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var x=this._contextStack,T=x.length&&x[x.length-1];if(T&&T.type==="item"){var I=this._subject;this._restoreContext(),this._triple(this._subject,s,I,this._graph)}return this._afterPath(l)}},_readForwardPath:function(l){var x,T,I="_:b"+b++;if((T=this._readEntity(l))!==void 0)return this._predicate===null?(x=this._subject,this._subject=I):(x=this._object,this._object=I),this._triple(x,T,I,this._graph),this._readPath},_readBackwardPath:function(l){var x="_:b"+b++,T,I;if((T=this._readEntity(l))!==void 0)return this._predicate===null?(I=this._subject,this._subject=x):(I=this._object,this._object=x),this._triple(x,T,I,this._graph),this._readPath},_getContextEndReader:function(){var l=this._contextStack;if(!l.length)return this._readPunctuation;switch(l[l.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail}},_triple:function(l,x,T,I){this._callback(null,{subject:l,predicate:x,object:T,graph:I||""})},_error:function(l,x){var T=new Error(l+" on line "+x.line+".");T.context={token:x,line:x.line,previousToken:this._lexer.previousToken},this._callback(T),this._callback=v},_resolveIRI:function(l){var x=l.value;switch(x[0]){case void 0:return this._base;case"#":return this._base+x;case"?":return this._base.replace(/(?:\?.*)?$/,x);case"/":return(x[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(x);default:return this._removeDotSegments(this._basePath+x)}},_removeDotSegments:function(l){if(!h.test(l))return l;for(var x="",T=l.length,I=-1,F=-1,L=0,C="/";I<T;){switch(C){case":":if(F<0&&l[++I]==="/"&&l[++I]==="/")for(;(F=I+1)<T&&l[F]!=="/";)I=F;break;case"?":case"#":I=T;break;case"/":if(l[I+1]===".")switch(C=l[++I+1],C){case"/":x+=l.substring(L,I-1),L=I+1;break;case void 0:case"?":case"#":return x+l.substring(L,I)+l.substr(I+1);case".":if(C=l[++I+1],C===void 0||C==="/"||C==="?"||C==="#"){if(x+=l.substring(L,I-2),(L=x.lastIndexOf("/"))>=F&&(x=x.substr(0,L)),C!=="/")return x+"/"+l.substr(I+1);L=I+1}}}C=l[++I]}return x+l.substring(L)},parse:function(l,x,T){var I=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix||"_:b"+d+++"_",this._prefixCallback=T||v,this._inversePredicate=!1,this._quantified=Object.create(null),!x){var F=[],L;if(this._callback=function(C,_){C?L=C:_&&F.push(_)},this._lexer.tokenize(l).every(function(C){return I._readCallback=I._readCallback(C)}),L)throw L;return F}this._callback=x,this._lexer.tokenize(l,function(C,_){C!==null?(I._callback(C),I._callback=v):I._readCallback&&(I._readCallback=I._readCallback(_))})}};function v(){}X.exports=w},{"./N3Lexer":66}],68:[function(P,X,J){var D=P("./N3Util").expandPrefixedName;function O(s,c){if(!(this instanceof O))return new O(s,c);this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,!c&&s&&!s[0]&&(c=s,s=null),c=c||{},this._prefixes=Object.create(null),c.prefixes&&this.addPrefixes(c.prefixes),s&&this.addTriples(s)}O.prototype={get size(){var s=this._size;if(s!==null)return s;s=0;var c=this._graphs,e,f;for(var o in c)for(var h in e=c[o].subjects)for(var d in f=e[h])s+=Object.keys(f[d]).length;return this._size=s},_addToIndex:function(s,c,e,f){var o=s[c]||(s[c]={}),h=o[e]||(o[e]={}),d=f in h;return d||(h[f]=null),!d},_removeFromIndex:function(s,c,e,f){var o=s[c],h=o[e],d;delete h[f];for(d in h)return;delete o[e];for(d in o)return;delete s[c]},_findInIndex:function(s,c,e,f,o,h,d,b,w,v){var l,x,T,I=!c+!e+!f,F=I>1?Object.keys(this._ids):this._entities;c&&((l=s,s={})[c]=l[c]);for(var L in s){var C=F[L];if(x=s[L]){e&&((l=x,x={})[e]=l[e]);for(var _ in x){var E=F[_];if(T=x[_])for(var Q=f?f in T?[f]:[]:Object.keys(T),B=Q.length-1;B>=0;B--){var q={subject:"",predicate:"",object:"",graph:b};if(q[o]=C,q[h]=E,q[d]=F[Q[B]],v)v.push(q);else if(w(q))return!0}}}}return v},_loop:function(s,c){for(var e in s)c(e)},_loopByKey0:function(s,c,e){var f,o;if(f=s[c])for(o in f)e(o)},_loopByKey1:function(s,c,e){var f,o;for(f in s)o=s[f],o[c]&&e(f)},_loopBy2Keys:function(s,c,e,f){var o,h,d;if((o=s[c])&&(h=o[e]))for(d in h)f(d)},_countInIndex:function(s,c,e,f){var o=0,h,d,b;c&&((h=s,s={})[c]=h[c]);for(var w in s)if(d=s[w]){e&&((h=d,d={})[e]=h[e]);for(var v in d)(b=d[v])&&(f?f in b&&o++:o+=Object.keys(b).length)}return o},_getGraphs:function(s){if(!A(s))return this._graphs;var c={};return c[s]=this._graphs[s],c},_uniqueEntities:function(s){var c=Object.create(null),e=this._entities;return function(f){f in c||(c[f]=!0,s(e[f]))}},addTriple:function(s,c,e,f){c||(f=s.graph,e=s.object,c=s.predicate,s=s.subject),f=f||"";var o=this._graphs[f];o||(o=this._graphs[f]={subjects:{},predicates:{},objects:{}},Object.freeze(o));var h=this._ids,d=this._entities;s=h[s]||(h[d[++this._id]=s]=this._id),c=h[c]||(h[d[++this._id]=c]=this._id),e=h[e]||(h[d[++this._id]=e]=this._id);var b=this._addToIndex(o.subjects,s,c,e);return this._addToIndex(o.predicates,c,e,s),this._addToIndex(o.objects,e,s,c),this._size=null,b},addTriples:function(s){for(var c=s.length-1;c>=0;c--)this.addTriple(s[c])},addPrefix:function(s,c){this._prefixes[s]=c},addPrefixes:function(s){for(var c in s)this.addPrefix(c,s[c])},removeTriple:function(s,c,e,f){c||(f=s.graph,e=s.object,c=s.predicate,s=s.subject),f=f||"";var o,h=this._ids,d=this._graphs,b,w;if(!(s=h[s])||!(c=h[c])||!(e=h[e])||!(o=d[f])||!(b=o.subjects[s])||!(w=b[c])||!(e in w))return!1;this._removeFromIndex(o.subjects,s,c,e),this._removeFromIndex(o.predicates,c,e,s),this._removeFromIndex(o.objects,e,s,c),this._size!==null&&this._size--;for(s in o.subjects)return!0;return delete d[f],!0},removeTriples:function(s){for(var c=s.length-1;c>=0;c--)this.removeTriple(s[c])},getTriples:function(s,c,e,f){var o=this._prefixes;return this.getTriplesByIRI(D(s,o),D(c,o),D(e,o),D(f,o))},getTriplesByIRI:function(s,c,e,f){var o=[],h=this._getGraphs(f),d,b=this._ids,w,v,l;if(A(s)&&!(w=b[s])||A(c)&&!(v=b[c])||A(e)&&!(l=b[e]))return o;for(var x in h)(d=h[x])&&(w?l?this._findInIndex(d.objects,l,w,v,"object","subject","predicate",x,null,o):this._findInIndex(d.subjects,w,v,null,"subject","predicate","object",x,null,o):v?this._findInIndex(d.predicates,v,l,null,"predicate","object","subject",x,null,o):l?this._findInIndex(d.objects,l,null,null,"object","subject","predicate",x,null,o):this._findInIndex(d.subjects,null,null,null,"subject","predicate","object",x,null,o));return o},countTriples:function(s,c,e,f){var o=this._prefixes;return this.countTriplesByIRI(D(s,o),D(c,o),D(e,o),D(f,o))},countTriplesByIRI:function(s,c,e,f){var o=0,h=this._getGraphs(f),d,b=this._ids,w,v,l;if(A(s)&&!(w=b[s])||A(c)&&!(v=b[c])||A(e)&&!(l=b[e]))return 0;for(var x in h)(d=h[x])&&(s?e?o+=this._countInIndex(d.objects,l,w,v):o+=this._countInIndex(d.subjects,w,v,l):c?o+=this._countInIndex(d.predicates,v,l,w):o+=this._countInIndex(d.objects,l,w,v));return o},forEach:function(s,c,e,f,o){var h=this._prefixes;this.forEachByIRI(s,D(c,h),D(e,h),D(f,h),D(o,h))},forEachByIRI:function(s,c,e,f,o){this.someByIRI(function(h){return s(h),!1},c,e,f,o)},every:function(s,c,e,f,o){var h=this._prefixes;return this.everyByIRI(s,D(c,h),D(e,h),D(f,h),D(o,h))},everyByIRI:function(s,c,e,f,o){var h=!1,d=!this.someByIRI(function(b){return h=!0,!s(b)},c,e,f,o);return h&&d},some:function(s,c,e,f,o){var h=this._prefixes;return this.someByIRI(s,D(c,h),D(e,h),D(f,h),D(o,h))},someByIRI:function(s,c,e,f,o){var h=this._getGraphs(o),d,b=this._ids,w,v,l;if(A(c)&&!(w=b[c])||A(e)&&!(v=b[e])||A(f)&&!(l=b[f]))return!1;for(var x in h)if(d=h[x]){if(w){if(l){if(this._findInIndex(d.objects,l,w,v,"object","subject","predicate",x,s,null))return!0}else if(this._findInIndex(d.subjects,w,v,null,"subject","predicate","object",x,s,null))return!0}else if(v){if(this._findInIndex(d.predicates,v,l,null,"predicate","object","subject",x,s,null))return!0}else if(l){if(this._findInIndex(d.objects,l,null,null,"object","subject","predicate",x,s,null))return!0}else if(this._findInIndex(d.subjects,null,null,null,"subject","predicate","object",x,s,null))return!0}return!1},getSubjects:function(s,c,e){var f=this._prefixes;return this.getSubjectsByIRI(D(s,f),D(c,f),D(e,f))},getSubjectsByIRI:function(s,c,e){var f=[];return this.forSubjectsByIRI(function(o){f.push(o)},s,c,e),f},forSubjects:function(s,c,e,f){var o=this._prefixes;this.forSubjectsByIRI(s,D(c,o),D(e,o),D(f,o))},forSubjectsByIRI:function(s,c,e,f){var o=this._ids,h=this._getGraphs(f),d,b,w;if(s=this._uniqueEntities(s),!(A(c)&&!(b=o[c])||A(e)&&!(w=o[e])))for(f in h)(d=h[f])&&(b?w?this._loopBy2Keys(d.predicates,b,w,s):this._loopByKey1(d.subjects,b,s):w?this._loopByKey0(d.objects,w,s):this._loop(d.subjects,s))},getPredicates:function(s,c,e){var f=this._prefixes;return this.getPredicatesByIRI(D(s,f),D(c,f),D(e,f))},getPredicatesByIRI:function(s,c,e){var f=[];return this.forPredicatesByIRI(function(o){f.push(o)},s,c,e),f},forPredicates:function(s,c,e,f){var o=this._prefixes;this.forPredicatesByIRI(s,D(c,o),D(e,o),D(f,o))},forPredicatesByIRI:function(s,c,e,f){var o=this._ids,h=this._getGraphs(f),d,b,w;if(s=this._uniqueEntities(s),!(A(c)&&!(b=o[c])||A(e)&&!(w=o[e])))for(f in h)(d=h[f])&&(b?w?this._loopBy2Keys(d.objects,w,b,s):this._loopByKey0(d.subjects,b,s):w?this._loopByKey1(d.predicates,w,s):this._loop(d.predicates,s))},getObjects:function(s,c,e){var f=this._prefixes;return this.getObjectsByIRI(D(s,f),D(c,f),D(e,f))},getObjectsByIRI:function(s,c,e){var f=[];return this.forObjectsByIRI(function(o){f.push(o)},s,c,e),f},forObjects:function(s,c,e,f){var o=this._prefixes;this.forObjectsByIRI(s,D(c,o),D(e,o),D(f,o))},forObjectsByIRI:function(s,c,e,f){var o=this._ids,h=this._getGraphs(f),d,b,w;if(s=this._uniqueEntities(s),!(A(c)&&!(b=o[c])||A(e)&&!(w=o[e])))for(f in h)(d=h[f])&&(b?w?this._loopBy2Keys(d.subjects,b,w,s):this._loopByKey1(d.objects,b,s):w?this._loopByKey0(d.predicates,w,s):this._loop(d.objects,s))},getGraphs:function(s,c,e){var f=this._prefixes;return this.getGraphsByIRI(D(s,f),D(c,f),D(e,f))},getGraphsByIRI:function(s,c,e){var f=[];return this.forGraphsByIRI(function(o){f.push(o)},s,c,e),f},forGraphs:function(s,c,e,f){var o=this._prefixes;this.forGraphsByIRI(s,D(c,o),D(e,o),D(f,o))},forGraphsByIRI:function(s,c,e,f){for(var o in this._graphs)this.someByIRI(function(h){return s(h.graph),!0},c,e,f,o)},createBlankNode:function(s){var c,e;if(s)for(c=s="_:"+s,e=1;this._ids[c];)c=s+e++;else do c="_:b"+this._blankNodeIndex++;while(this._ids[c]);return this._ids[c]=++this._id,this._entities[this._id]=c,c}};function A(s){return typeof s=="string"||s instanceof String}X.exports=O},{"./N3Util":71}],69:[function(P,X,J){var D=P("stream").Transform,O=P("util"),A=P("./N3Parser.js");function s(c){if(!(this instanceof s))return new s(c);D.call(this,{decodeStrings:!0}),this._readableState.objectMode=!0;var e=this,f=new A(c),o,h;f.parse({on:function(d,b){switch(d){case"data":o=b;break;case"end":h=b;break}}},function(d,b){d&&e.emit("error",d)||b&&e.push(b)},function(d,b){e.emit("prefix",d,b)}),this._transform=function(d,b,w){o(d),w()},this._flush=function(d){h(),d()}}O.inherits(s,D),X.exports=s},{"./N3Parser.js":67,stream:96,util:7}],70:[function(P,X,J){var D=P("stream").Transform,O=P("util"),A=P("./N3Writer.js");function s(c){if(!(this instanceof s))return new s(c);D.call(this,{encoding:"utf8"}),this._writableState.objectMode=!0;var e=this,f=new A({write:function(o,h,d){e.push(o),d&&d()},end:function(o){e.push(null),o&&o()}},c);this._transform=function(o,h,d){f.addTriple(o,d)},this._flush=function(o){f.end(o)}}O.inherits(s,D),X.exports=s},{"./N3Writer.js":72,stream:96,util:7}],71:[function(P,X,J){var D="http://www.w3.org/2001/XMLSchema#",O=D+"string",A=D+"integer",s=D+"double",c=D+"boolean",e="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",f={isIRI:function(o){if(typeof o!="string")return!1;if(o.length===0)return!0;var h=o[0];return h!=='"'&&h!=="_"},isLiteral:function(o){return typeof o=="string"&&o[0]==='"'},isBlank:function(o){return typeof o=="string"&&o.substr(0,2)==="_:"},isDefaultGraph:function(o){return!o},inDefaultGraph:function(o){return!o.graph},getLiteralValue:function(o){var h=/^"([^]*)"/.exec(o);if(!h)throw new Error(o+" is not a literal");return h[1]},getLiteralType:function(o){var h=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(o);if(!h)throw new Error(o+" is not a literal");return h[1]||(h[2]?e:O)},getLiteralLanguage:function(o){var h=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(o);if(!h)throw new Error(o+" is not a literal");return h[1]?h[1].toLowerCase():""},isPrefixedName:function(o){return typeof o=="string"&&/^[^:\/"']*:[^:\/"']+$/.test(o)},expandPrefixedName:function(o,h){var d=/(?:^|"\^\^)([^:\/#"'\^_]*):[^\/]*$/.exec(o),b,w,v;return d&&(b=d[1],w=h[b],v=d.index),w===void 0?o:v===0?w+o.substr(b.length+1):o.substr(0,v+3)+w+o.substr(v+b.length+4)},createIRI:function(o){return o&&o[0]==='"'?f.getLiteralValue(o):o},createLiteral:function(o,h){if(!h)switch(typeof o){case"boolean":h=c;break;case"number":isFinite(o)?h=o%1===0?A:s:(h=s,isNaN(o)||(o=o>0?"INF":"-INF"));break;default:return'"'+o+'"'}return'"'+o+(/^[a-z]+(-[a-z0-9]+)*$/i.test(h)?'"@'+h.toLowerCase():'"^^'+h)},prefix:function(o){return f.prefixes({"":o})("")},prefixes:function(o){var h=Object.create(null);for(var d in o)b(d,o[d]);function b(w,v){if(v||!(w in h)){var l=Object.create(null);v=v||"",h[w]=function(x){return l[x]||(l[x]=v+x)}}return h[w]}return b}};X.exports=f},{}],72:[function(P,X,J){var D=/^"([^]*)"(?:\^\^(.+)|@([a-z]+(?:-[a-z0-9]+)*))?$/i,O="http://www.w3.org/1999/02/22-rdf-syntax-ns#",A=O+"type",s=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,c=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,e={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function f(h,d){if(!(this instanceof f))return new f(h,d);if(h&&typeof h.write!="function"&&(d=h,h=null),d=d||{},h)this._outputStream=h,this._endStream=d.end===void 0?!0:!!d.end;else{var b="";this._outputStream={write:function(w,v,l){b+=w,l&&l()},end:function(w){w&&w(null,b)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(d.format)?this._writeTriple=this._writeTripleLine:(this._graph="",this._prefixIRIs=Object.create(null),d.prefixes&&this.addPrefixes(d.prefixes))}f.prototype={_write:function(h,d){this._outputStream.write(h,"utf8",d)},_writeTriple:function(h,d,b,w,v){try{this._graph!==w&&(this._write((this._subject===null?"":this._graph?`
}
`:`.
`)+(w?this._encodeIriOrBlankNode(w)+` {
`:"")),this._subject=null,this._graph=w[0]!=="["?w:"]"),this._subject===h?this._predicate===d?this._write(", "+this._encodeObject(b),v):this._write(`;
    `+this._encodePredicate(this._predicate=d)+" "+this._encodeObject(b),v):this._write((this._subject===null?"":`.
`)+this._encodeSubject(this._subject=h)+" "+this._encodePredicate(this._predicate=d)+" "+this._encodeObject(b),v)}catch(l){v&&v(l)}},_writeTripleLine:function(h,d,b,w,v){delete this._prefixMatch;try{this._write(this.tripleToString(h,d,b,w),v)}catch(l){v&&v(l)}},tripleToString:function(h,d,b,w){return this._encodeIriOrBlankNode(h)+" "+this._encodeIriOrBlankNode(d)+" "+this._encodeObject(b)+(w?" "+this._encodeIriOrBlankNode(w)+`.
`:`.
`)},triplesToString:function(h){return h.map(function(d){return this.tripleToString(d.subject,d.predicate,d.object,d.graph)},this).join("")},_encodeIriOrBlankNode:function(h){var d=h[0];if(d==="["||d==="("||d==="_"&&h[1]===":")return h;s.test(h)&&(h=h.replace(c,o));var b=this._prefixRegex.exec(h);return b?b[1]?this._prefixIRIs[b[1]]+b[2]:h:"<"+h+">"},_encodeLiteral:function(h,d,b){return s.test(h)&&(h=h.replace(c,o)),b?'"'+h+'"@'+b:d?'"'+h+'"^^'+this._encodeIriOrBlankNode(d):'"'+h+'"'},_encodeSubject:function(h){if(h[0]==='"')throw new Error("A literal as subject is not allowed: "+h);return h[0]==="["&&(this._subject="]"),this._encodeIriOrBlankNode(h)},_encodePredicate:function(h){if(h[0]==='"')throw new Error("A literal as predicate is not allowed: "+h);return h===A?"a":this._encodeIriOrBlankNode(h)},_encodeObject:function(h){if(h[0]!=='"')return this._encodeIriOrBlankNode(h);var d=D.exec(h);if(!d)throw new Error("Invalid literal: "+h);return this._encodeLiteral(d[1],d[2],d[3])},_blockedWrite:function(){throw new Error("Cannot write because the writer has been closed.")},addTriple:function(h,d,b,w,v){b===void 0?this._writeTriple(h.subject,h.predicate,h.object,h.graph||"",d):typeof w!="string"?this._writeTriple(h,d,b,"",w):this._writeTriple(h,d,b,w,v)},addTriples:function(h){for(var d=0;d<h.length;d++)this.addTriple(h[d])},addPrefix:function(h,d,b){var w={};w[h]=d,this.addPrefixes(w,b)},addPrefixes:function(h,d){var b=this._prefixIRIs,w=!1;for(var v in h){var l=h[v];/[#\/]$/.test(l)&&b[l]!==(v+=":")&&(w=!0,b[l]=v,this._subject!==null&&(this._write(this._graph?`
}
`:`.
`),this._subject=null,this._graph=""),this._write("@prefix "+v+" <"+l+`>.
`))}if(w){var x="",T="";for(var I in b)x+=x?"|"+I:I,T+=(T?"|":"")+b[I];x=x.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+T+")[^/]*$|^("+x+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(w?`
`:"",d)},blank:function(h,d){var b=h,w,v;switch(h===void 0?b=[]:typeof h=="string"?b=[{predicate:h,object:d}]:"length"in h||(b=[h]),v=b.length){case 0:return"[]";case 1:if(w=b[0],w.object[0]!=="[")return"[ "+this._encodePredicate(w.predicate)+" "+this._encodeObject(w.object)+" ]";default:for(var l="[",x=0;x<v;x++)w=b[x],w.predicate===h?l+=", "+this._encodeObject(w.object):(l+=(x?`;
  `:`
  `)+this._encodePredicate(w.predicate)+" "+this._encodeObject(w.object),h=w.predicate);return l+`
]`}},list:function(h){for(var d=h&&h.length||0,b=new Array(d),w=0;w<d;w++)b[w]=this._encodeObject(h[w]);return"("+b.join(" ")+")"},_prefixRegex:/$0^/,end:function(h){this._subject!==null&&(this._write(this._graph?`
}
`:`.
`),this._subject=null),this._write=this._blockedWrite;var d=h&&function(b,w){d=null,h(b,w)};if(this._endStream)try{return this._outputStream.end(d)}catch{}d&&d()}};function o(h){var d=e[h];return d===void 0&&(h.length===1?(d=h.charCodeAt(0).toString(16),d="\\u0000".substr(0,6-d.length)+d):(d=((h.charCodeAt(0)-55296)*1024+h.charCodeAt(1)+9216).toString(16),d="\\U00000000".substr(0,10-d.length)+d)),d}X.exports=f},{}],73:[function(P,X,J){(function(D){(function(){var O=typeof Map=="function"&&Map.prototype,A=Object.getOwnPropertyDescriptor&&O?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=O&&A&&typeof A.get=="function"?A.get:null,c=O&&Map.prototype.forEach,e=typeof Set=="function"&&Set.prototype,f=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=e&&f&&typeof f.get=="function"?f.get:null,h=e&&Set.prototype.forEach,d=typeof WeakMap=="function"&&WeakMap.prototype,b=d?WeakMap.prototype.has:null,w=typeof WeakSet=="function"&&WeakSet.prototype,v=w?WeakSet.prototype.has:null,l=typeof WeakRef=="function"&&WeakRef.prototype,x=l?WeakRef.prototype.deref:null,T=Boolean.prototype.valueOf,I=Object.prototype.toString,F=Function.prototype.toString,L=String.prototype.match,C=String.prototype.slice,_=String.prototype.replace,E=String.prototype.toUpperCase,Q=String.prototype.toLowerCase,B=RegExp.prototype.test,q=Array.prototype.concat,K=Array.prototype.join,W=Array.prototype.slice,pe=Math.floor,te=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ue=Object.getOwnPropertySymbols,se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,be=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Y=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===be||!0)?Symbol.toStringTag:null,de=Object.prototype.propertyIsEnumerable,le=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(je){return je.__proto__}:null);function ce(je,Te){if(je===1/0||je===-1/0||je!==je||je&&je>-1e3&&je<1e3||B.call(/e/,Te))return Te;var Be=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof je=="number"){var He=je<0?-pe(-je):pe(je);if(He!==je){var Ve=String(He),De=C.call(Te,Ve.length+1);return _.call(Ve,Be,"$&_")+"."+_.call(_.call(De,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(Te,Be,"$&_")}var $=P("./util.inspect"),ve=$.custom,re=Ae(ve)?ve:null;X.exports=function je(Te,Be,He,Ve){var De=Be||{};if(U(De,"quoteStyle")&&De.quoteStyle!=="single"&&De.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(U(De,"maxStringLength")&&(typeof De.maxStringLength=="number"?De.maxStringLength<0&&De.maxStringLength!==1/0:De.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var dt=U(De,"customInspect")?De.customInspect:!0;if(typeof dt!="boolean"&&dt!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(U(De,"indent")&&De.indent!==null&&De.indent!=="	"&&!(parseInt(De.indent,10)===De.indent&&De.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(U(De,"numericSeparator")&&typeof De.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var xt=De.numericSeparator;if(typeof Te>"u")return"undefined";if(Te===null)return"null";if(typeof Te=="boolean")return Te?"true":"false";if(typeof Te=="string")return qe(Te,De);if(typeof Te=="number"){if(Te===0)return 1/0/Te>0?"0":"-0";var it=String(Te);return xt?ce(Te,it):it}if(typeof Te=="bigint"){var vt=String(Te)+"n";return xt?ce(Te,vt):vt}var Mt=typeof De.depth>"u"?5:De.depth;if(typeof He>"u"&&(He=0),He>=Mt&&Mt>0&&typeof Te=="object")return fe(Te)?"[Array]":"[Object]";var St=ht(De,He);if(typeof Ve>"u")Ve=[];else if(z(Ve,Te)>=0)return"[Circular]";function ot(wt,Ut,Gt){if(Ut&&(Ve=W.call(Ve),Ve.push(Ut)),Gt){var ur={depth:De.depth};return U(De,"quoteStyle")&&(ur.quoteStyle=De.quoteStyle),je(wt,ur,He+1,Ve)}return je(wt,De,He+1,Ve)}if(typeof Te=="function"&&!oe(Te)){var mr=G(Te),xr=Nt(Te,ot);return"[Function"+(mr?": "+mr:" (anonymous)")+"]"+(xr.length>0?" { "+K.call(xr,", ")+" }":"")}if(Ae(Te)){var wr=be?_.call(String(Te),/^(Symbol\(.*\))_[^)]*$/,"$1"):se.call(Te);return typeof Te=="object"&&!be?Je(wr):wr}if(Ue(Te)){for(var ft="<"+Q.call(String(Te.nodeName)),Ot=Te.attributes||[],pt=0;pt<Ot.length;pt++)ft+=" "+Ot[pt].name+"="+ae(he(Ot[pt].value),"double",De);return ft+=">",Te.childNodes&&Te.childNodes.length&&(ft+="..."),ft+="</"+Q.call(String(Te.nodeName))+">",ft}if(fe(Te)){if(Te.length===0)return"[]";var Lt=Nt(Te,ot);return St&&!Ke(Lt)?"["+sr(Lt,St)+"]":"[ "+K.call(Lt,", ")+" ]"}if(ke(Te)){var ar=Nt(Te,ot);return!("cause"in Error.prototype)&&"cause"in Te&&!de.call(Te,"cause")?"{ ["+String(Te)+"] "+K.call(q.call("[cause]: "+ot(Te.cause),ar),", ")+" }":ar.length===0?"["+String(Te)+"]":"{ ["+String(Te)+"] "+K.call(ar,", ")+" }"}if(typeof Te=="object"&&dt){if(re&&typeof Te[re]=="function"&&$)return $(Te,{depth:Mt-He});if(dt!=="symbol"&&typeof Te.inspect=="function")return Te.inspect()}if(ye(Te)){var _r=[];return c&&c.call(Te,function(wt,Ut){_r.push(ot(Ut,Te,!0)+" => "+ot(wt,Te))}),ze("Map",s.call(Te),_r,St)}if(Ne(Te)){var kr=[];return h&&h.call(Te,function(wt){kr.push(ot(wt,Te))}),ze("Set",o.call(Te),kr,St)}if(Fe(Te))return $e("WeakMap");if(Le(Te))return $e("WeakSet");if(Ce(Te))return $e("WeakRef");if(ee(Te))return Je(ot(Number(Te)));if(xe(Te))return Je(ot(te.call(Te)));if(me(Te))return Je(T.call(Te));if(ne(Te))return Je(ot(String(Te)));if(typeof window<"u"&&Te===window)return"{ [object Window] }";if(Te===D)return"{ [object globalThis] }";if(!ie(Te)&&!oe(Te)){var Bt=Nt(Te,ot),Er=le?le(Te)===Object.prototype:Te instanceof Object||Te.constructor===Object,or=Te instanceof Object?"":"null prototype",Ar=!Er&&Y&&Object(Te)===Te&&Y in Te?C.call(M(Te),8,-1):or?"Object":"",Sr=Er||typeof Te.constructor!="function"?"":Te.constructor.name?Te.constructor.name+" ":"",lr=Sr+(Ar||or?"["+K.call(q.call([],Ar||[],or||[]),": ")+"] ":"");return Bt.length===0?lr+"{}":St?lr+"{"+sr(Bt,St)+"}":lr+"{ "+K.call(Bt,", ")+" }"}return String(Te)};function ae(je,Te,Be){var He=(Be.quoteStyle||Te)==="double"?'"':"'";return He+je+He}function he(je){return _.call(String(je),/"/g,"&quot;")}function fe(je){return M(je)==="[object Array]"&&(!Y||!(typeof je=="object"&&Y in je))}function ie(je){return M(je)==="[object Date]"&&(!Y||!(typeof je=="object"&&Y in je))}function oe(je){return M(je)==="[object RegExp]"&&(!Y||!(typeof je=="object"&&Y in je))}function ke(je){return M(je)==="[object Error]"&&(!Y||!(typeof je=="object"&&Y in je))}function ne(je){return M(je)==="[object String]"&&(!Y||!(typeof je=="object"&&Y in je))}function ee(je){return M(je)==="[object Number]"&&(!Y||!(typeof je=="object"&&Y in je))}function me(je){return M(je)==="[object Boolean]"&&(!Y||!(typeof je=="object"&&Y in je))}function Ae(je){if(be)return je&&typeof je=="object"&&je instanceof Symbol;if(typeof je=="symbol")return!0;if(!je||typeof je!="object"||!se)return!1;try{return se.call(je),!0}catch{}return!1}function xe(je){if(!je||typeof je!="object"||!te)return!1;try{return te.call(je),!0}catch{}return!1}var Z=Object.prototype.hasOwnProperty||function(je){return je in this};function U(je,Te){return Z.call(je,Te)}function M(je){return I.call(je)}function G(je){if(je.name)return je.name;var Te=L.call(F.call(je),/^function\s*([\w$]+)/);return Te?Te[1]:null}function z(je,Te){if(je.indexOf)return je.indexOf(Te);for(var Be=0,He=je.length;Be<He;Be++)if(je[Be]===Te)return Be;return-1}function ye(je){if(!s||!je||typeof je!="object")return!1;try{s.call(je);try{o.call(je)}catch{return!0}return je instanceof Map}catch{}return!1}function Fe(je){if(!b||!je||typeof je!="object")return!1;try{b.call(je,b);try{v.call(je,v)}catch{return!0}return je instanceof WeakMap}catch{}return!1}function Ce(je){if(!x||!je||typeof je!="object")return!1;try{return x.call(je),!0}catch{}return!1}function Ne(je){if(!o||!je||typeof je!="object")return!1;try{o.call(je);try{s.call(je)}catch{return!0}return je instanceof Set}catch{}return!1}function Le(je){if(!v||!je||typeof je!="object")return!1;try{v.call(je,v);try{b.call(je,b)}catch{return!0}return je instanceof WeakSet}catch{}return!1}function Ue(je){return!je||typeof je!="object"?!1:typeof HTMLElement<"u"&&je instanceof HTMLElement?!0:typeof je.nodeName=="string"&&typeof je.getAttribute=="function"}function qe(je,Te){if(je.length>Te.maxStringLength){var Be=je.length-Te.maxStringLength,He="... "+Be+" more character"+(Be>1?"s":"");return qe(C.call(je,0,Te.maxStringLength),Te)+He}var Ve=_.call(_.call(je,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ge);return ae(Ve,"single",Te)}function Ge(je){var Te=je.charCodeAt(0),Be={8:"b",9:"t",10:"n",12:"f",13:"r"}[Te];return Be?"\\"+Be:"\\x"+(Te<16?"0":"")+E.call(Te.toString(16))}function Je(je){return"Object("+je+")"}function $e(je){return je+" { ? }"}function ze(je,Te,Be,He){var Ve=He?sr(Be,He):K.call(Be,", ");return je+" ("+Te+") {"+Ve+"}"}function Ke(je){for(var Te=0;Te<je.length;Te++)if(z(je[Te],`
`)>=0)return!1;return!0}function ht(je,Te){var Be;if(je.indent==="	")Be="	";else if(typeof je.indent=="number"&&je.indent>0)Be=K.call(Array(je.indent+1)," ");else return null;return{base:Be,prev:K.call(Array(Te+1),Be)}}function sr(je,Te){if(je.length===0)return"";var Be=`
`+Te.prev+Te.base;return Be+K.call(je,","+Be)+`
`+Te.prev}function Nt(je,Te){var Be=fe(je),He=[];if(Be){He.length=je.length;for(var Ve=0;Ve<je.length;Ve++)He[Ve]=U(je,Ve)?Te(je[Ve],je):""}var De=typeof ue=="function"?ue(je):[],dt;if(be){dt={};for(var xt=0;xt<De.length;xt++)dt["$"+De[xt]]=De[xt]}for(var it in je)U(je,it)&&(Be&&String(Number(it))===it&&it<je.length||be&&dt["$"+it]instanceof Symbol||(B.call(/[^\w$]/,it)?He.push(Te(it,je)+": "+Te(je[it],je)):He.push(it+": "+Te(je[it],je))));if(typeof ue=="function")for(var vt=0;vt<De.length;vt++)de.call(je,De[vt])&&He.push("["+Te(De[vt])+"]: "+Te(je[De[vt]],je));return He}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./util.inspect":3}],74:[function(P,X,J){"use strict";X.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},{}],75:[function(P,X,J){var D=X.exports={},O,A;function s(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?O=setTimeout:O=s}catch{O=s}try{typeof clearTimeout=="function"?A=clearTimeout:A=c}catch{A=c}})();function e(T){if(O===setTimeout)return setTimeout(T,0);if((O===s||!O)&&setTimeout)return O=setTimeout,setTimeout(T,0);try{return O(T,0)}catch{try{return O.call(null,T,0)}catch{return O.call(this,T,0)}}}function f(T){if(A===clearTimeout)return clearTimeout(T);if((A===c||!A)&&clearTimeout)return A=clearTimeout,clearTimeout(T);try{return A(T)}catch{try{return A.call(null,T)}catch{return A.call(this,T)}}}var o=[],h=!1,d,b=-1;function w(){!h||!d||(h=!1,d.length?o=d.concat(o):b=-1,o.length&&v())}function v(){if(!h){var T=e(w);h=!0;for(var I=o.length;I;){for(d=o,o=[];++b<I;)d&&d[b].run();b=-1,I=o.length}d=null,h=!1,f(T)}}D.nextTick=function(T){var I=new Array(arguments.length-1);if(arguments.length>1)for(var F=1;F<arguments.length;F++)I[F-1]=arguments[F];o.push(new l(T,I)),o.length===1&&!h&&e(v)};function l(T,I){this.fun=T,this.array=I}l.prototype.run=function(){this.fun.apply(null,this.array)},D.title="browser",D.browser=!0,D.env={},D.argv=[],D.version="",D.versions={};function x(){}D.on=x,D.addListener=x,D.once=x,D.off=x,D.removeListener=x,D.removeAllListeners=x,D.emit=x,D.prependListener=x,D.prependOnceListener=x,D.listeners=function(T){return[]},D.binding=function(T){throw new Error("process.binding is not supported")},D.cwd=function(){return"/"},D.chdir=function(T){throw new Error("process.chdir is not supported")},D.umask=function(){return 0}},{}],76:[function(P,X,J){(function(D){(function(){(function(O){var A=typeof J=="object"&&J&&!J.nodeType&&J,s=typeof X=="object"&&X&&!X.nodeType&&X,c=typeof D=="object"&&D;(c.global===c||c.window===c||c.self===c)&&(O=c);var e,f=2147483647,o=36,h=1,d=26,b=38,w=700,v=72,l=128,x="-",T=/^xn--/,I=/[^\x20-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=o-h,_=Math.floor,E=String.fromCharCode,Q;function B(ce){throw new RangeError(L[ce])}function q(ce,$){for(var ve=ce.length,re=[];ve--;)re[ve]=$(ce[ve]);return re}function K(ce,$){var ve=ce.split("@"),re="";ve.length>1&&(re=ve[0]+"@",ce=ve[1]),ce=ce.replace(F,".");var ae=ce.split("."),he=q(ae,$).join(".");return re+he}function W(ce){for(var $=[],ve=0,re=ce.length,ae,he;ve<re;)ae=ce.charCodeAt(ve++),ae>=55296&&ae<=56319&&ve<re?(he=ce.charCodeAt(ve++),(he&64512)==56320?$.push(((ae&1023)<<10)+(he&1023)+65536):($.push(ae),ve--)):$.push(ae);return $}function pe(ce){return q(ce,function($){var ve="";return $>65535&&($-=65536,ve+=E($>>>10&1023|55296),$=56320|$&1023),ve+=E($),ve}).join("")}function te(ce){return ce-48<10?ce-22:ce-65<26?ce-65:ce-97<26?ce-97:o}function ue(ce,$){return ce+22+75*(ce<26)-(($!=0)<<5)}function se(ce,$,ve){var re=0;for(ce=ve?_(ce/w):ce>>1,ce+=_(ce/$);ce>C*d>>1;re+=o)ce=_(ce/C);return _(re+(C+1)*ce/(ce+b))}function be(ce){var $=[],ve=ce.length,re,ae=0,he=l,fe=v,ie,oe,ke,ne,ee,me,Ae,xe,Z;for(ie=ce.lastIndexOf(x),ie<0&&(ie=0),oe=0;oe<ie;++oe)ce.charCodeAt(oe)>=128&&B("not-basic"),$.push(ce.charCodeAt(oe));for(ke=ie>0?ie+1:0;ke<ve;){for(ne=ae,ee=1,me=o;ke>=ve&&B("invalid-input"),Ae=te(ce.charCodeAt(ke++)),(Ae>=o||Ae>_((f-ae)/ee))&&B("overflow"),ae+=Ae*ee,xe=me<=fe?h:me>=fe+d?d:me-fe,!(Ae<xe);me+=o)Z=o-xe,ee>_(f/Z)&&B("overflow"),ee*=Z;re=$.length+1,fe=se(ae-ne,re,ne==0),_(ae/re)>f-he&&B("overflow"),he+=_(ae/re),ae%=re,$.splice(ae++,0,he)}return pe($)}function Y(ce){var $,ve,re,ae,he,fe,ie,oe,ke,ne,ee,me=[],Ae,xe,Z,U;for(ce=W(ce),Ae=ce.length,$=l,ve=0,he=v,fe=0;fe<Ae;++fe)ee=ce[fe],ee<128&&me.push(E(ee));for(re=ae=me.length,ae&&me.push(x);re<Ae;){for(ie=f,fe=0;fe<Ae;++fe)ee=ce[fe],ee>=$&&ee<ie&&(ie=ee);for(xe=re+1,ie-$>_((f-ve)/xe)&&B("overflow"),ve+=(ie-$)*xe,$=ie,fe=0;fe<Ae;++fe)if(ee=ce[fe],ee<$&&++ve>f&&B("overflow"),ee==$){for(oe=ve,ke=o;ne=ke<=he?h:ke>=he+d?d:ke-he,!(oe<ne);ke+=o)U=oe-ne,Z=o-ne,me.push(E(ue(ne+U%Z,0))),oe=_(U/Z);me.push(E(ue(oe,0))),he=se(ve,xe,re==ae),ve=0,++re}++ve,++$}return me.join("")}function de(ce){return K(ce,function($){return T.test($)?be($.slice(4).toLowerCase()):$})}function le(ce){return K(ce,function($){return I.test($)?"xn--"+Y($):$})}if(e={version:"1.4.1",ucs2:{decode:W,encode:pe},decode:be,encode:Y,toASCII:le,toUnicode:de},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return e});else if(A&&s)if(X.exports==A)s.exports=e;else for(Q in e)e.hasOwnProperty(Q)&&(A[Q]=e[Q]);else O.punycode=e})(this)}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],77:[function(P,X,J){"use strict";var D=String.prototype.replace,O=/%20/g,A={RFC1738:"RFC1738",RFC3986:"RFC3986"};X.exports={default:A.RFC3986,formatters:{RFC1738:function(s){return D.call(s,O,"+")},RFC3986:function(s){return String(s)}},RFC1738:A.RFC1738,RFC3986:A.RFC3986}},{}],78:[function(P,X,J){"use strict";var D=P("./stringify"),O=P("./parse"),A=P("./formats");X.exports={formats:A,parse:O,stringify:D}},{"./formats":77,"./parse":79,"./stringify":80}],79:[function(P,X,J){"use strict";var D=P("./utils"),O=Object.prototype.hasOwnProperty,A=Array.isArray,s={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:D.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},c=function(v){return v.replace(/&#(\d+);/g,function(l,x){return String.fromCharCode(parseInt(x,10))})},e=function(v,l){return v&&typeof v=="string"&&l.comma&&v.indexOf(",")>-1?v.split(","):v},f="utf8=%26%2310003%3B",o="utf8=%E2%9C%93",h=function(l,x){var T={__proto__:null},I=x.ignoreQueryPrefix?l.replace(/^\?/,""):l,F=x.parameterLimit===1/0?void 0:x.parameterLimit,L=I.split(x.delimiter,F),C=-1,_,E=x.charset;if(x.charsetSentinel)for(_=0;_<L.length;++_)L[_].indexOf("utf8=")===0&&(L[_]===o?E="utf-8":L[_]===f&&(E="iso-8859-1"),C=_,_=L.length);for(_=0;_<L.length;++_)if(_!==C){var Q=L[_],B=Q.indexOf("]="),q=B===-1?Q.indexOf("="):B+1,K,W;q===-1?(K=x.decoder(Q,s.decoder,E,"key"),W=x.strictNullHandling?null:""):(K=x.decoder(Q.slice(0,q),s.decoder,E,"key"),W=D.maybeMap(e(Q.slice(q+1),x),function(te){return x.decoder(te,s.decoder,E,"value")})),W&&x.interpretNumericEntities&&E==="iso-8859-1"&&(W=c(W)),Q.indexOf("[]=")>-1&&(W=A(W)?[W]:W);var pe=O.call(T,K);pe&&x.duplicates==="combine"?T[K]=D.combine(T[K],W):(!pe||x.duplicates==="last")&&(T[K]=W)}return T},d=function(v,l,x,T){for(var I=T?l:e(l,x),F=v.length-1;F>=0;--F){var L,C=v[F];if(C==="[]"&&x.parseArrays)L=x.allowEmptyArrays&&I===""?[]:[].concat(I);else{L=x.plainObjects?Object.create(null):{};var _=C.charAt(0)==="["&&C.charAt(C.length-1)==="]"?C.slice(1,-1):C,E=x.decodeDotInKeys?_.replace(/%2E/g,"."):_,Q=parseInt(E,10);!x.parseArrays&&E===""?L={0:I}:!isNaN(Q)&&C!==E&&String(Q)===E&&Q>=0&&x.parseArrays&&Q<=x.arrayLimit?(L=[],L[Q]=I):E!=="__proto__"&&(L[E]=I)}I=L}return I},b=function(l,x,T,I){if(l){var F=T.allowDots?l.replace(/\.([^.[]+)/g,"[$1]"):l,L=/(\[[^[\]]*])/,C=/(\[[^[\]]*])/g,_=T.depth>0&&L.exec(F),E=_?F.slice(0,_.index):F,Q=[];if(E){if(!T.plainObjects&&O.call(Object.prototype,E)&&!T.allowPrototypes)return;Q.push(E)}for(var B=0;T.depth>0&&(_=C.exec(F))!==null&&B<T.depth;){if(B+=1,!T.plainObjects&&O.call(Object.prototype,_[1].slice(1,-1))&&!T.allowPrototypes)return;Q.push(_[1])}return _&&Q.push("["+F.slice(_.index)+"]"),d(Q,x,T,I)}},w=function(l){if(!l)return s;if(typeof l.allowEmptyArrays<"u"&&typeof l.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof l.decodeDotInKeys<"u"&&typeof l.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(l.decoder!==null&&typeof l.decoder<"u"&&typeof l.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof l.charset<"u"&&l.charset!=="utf-8"&&l.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var x=typeof l.charset>"u"?s.charset:l.charset,T=typeof l.duplicates>"u"?s.duplicates:l.duplicates;if(T!=="combine"&&T!=="first"&&T!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var I=typeof l.allowDots>"u"?l.decodeDotInKeys===!0?!0:s.allowDots:!!l.allowDots;return{allowDots:I,allowEmptyArrays:typeof l.allowEmptyArrays=="boolean"?!!l.allowEmptyArrays:s.allowEmptyArrays,allowPrototypes:typeof l.allowPrototypes=="boolean"?l.allowPrototypes:s.allowPrototypes,allowSparse:typeof l.allowSparse=="boolean"?l.allowSparse:s.allowSparse,arrayLimit:typeof l.arrayLimit=="number"?l.arrayLimit:s.arrayLimit,charset:x,charsetSentinel:typeof l.charsetSentinel=="boolean"?l.charsetSentinel:s.charsetSentinel,comma:typeof l.comma=="boolean"?l.comma:s.comma,decodeDotInKeys:typeof l.decodeDotInKeys=="boolean"?l.decodeDotInKeys:s.decodeDotInKeys,decoder:typeof l.decoder=="function"?l.decoder:s.decoder,delimiter:typeof l.delimiter=="string"||D.isRegExp(l.delimiter)?l.delimiter:s.delimiter,depth:typeof l.depth=="number"||l.depth===!1?+l.depth:s.depth,duplicates:T,ignoreQueryPrefix:l.ignoreQueryPrefix===!0,interpretNumericEntities:typeof l.interpretNumericEntities=="boolean"?l.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:typeof l.parameterLimit=="number"?l.parameterLimit:s.parameterLimit,parseArrays:l.parseArrays!==!1,plainObjects:typeof l.plainObjects=="boolean"?l.plainObjects:s.plainObjects,strictNullHandling:typeof l.strictNullHandling=="boolean"?l.strictNullHandling:s.strictNullHandling}};X.exports=function(v,l){var x=w(l);if(v===""||v===null||typeof v>"u")return x.plainObjects?Object.create(null):{};for(var T=typeof v=="string"?h(v,x):v,I=x.plainObjects?Object.create(null):{},F=Object.keys(T),L=0;L<F.length;++L){var C=F[L],_=b(C,T[C],x,typeof v=="string");I=D.merge(I,_,x)}return x.allowSparse===!0?I:D.compact(I)}},{"./utils":81}],80:[function(P,X,J){"use strict";var D=P("side-channel"),O=P("./utils"),A=P("./formats"),s=Object.prototype.hasOwnProperty,c={brackets:function(I){return I+"[]"},comma:"comma",indices:function(I,F){return I+"["+F+"]"},repeat:function(I){return I}},e=Array.isArray,f=Array.prototype.push,o=function(T,I){f.apply(T,e(I)?I:[I])},h=Date.prototype.toISOString,d=A.default,b={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:O.encode,encodeValuesOnly:!1,format:d,formatter:A.formatters[d],indices:!1,serializeDate:function(I){return h.call(I)},skipNulls:!1,strictNullHandling:!1},w=function(I){return typeof I=="string"||typeof I=="number"||typeof I=="boolean"||typeof I=="symbol"||typeof I=="bigint"},v={},l=function T(I,F,L,C,_,E,Q,B,q,K,W,pe,te,ue,se,be,Y,de){for(var le=I,ce=de,$=0,ve=!1;(ce=ce.get(v))!==void 0&&!ve;){var re=ce.get(I);if($+=1,typeof re<"u"){if(re===$)throw new RangeError("Cyclic object value");ve=!0}typeof ce.get(v)>"u"&&($=0)}if(typeof K=="function"?le=K(F,le):le instanceof Date?le=te(le):L==="comma"&&e(le)&&(le=O.maybeMap(le,function(U){return U instanceof Date?te(U):U})),le===null){if(E)return q&&!be?q(F,b.encoder,Y,"key",ue):F;le=""}if(w(le)||O.isBuffer(le)){if(q){var ae=be?F:q(F,b.encoder,Y,"key",ue);return[se(ae)+"="+se(q(le,b.encoder,Y,"value",ue))]}return[se(F)+"="+se(String(le))]}var he=[];if(typeof le>"u")return he;var fe;if(L==="comma"&&e(le))be&&q&&(le=O.maybeMap(le,q)),fe=[{value:le.length>0?le.join(",")||null:void 0}];else if(e(K))fe=K;else{var ie=Object.keys(le);fe=W?ie.sort(W):ie}var oe=B?F.replace(/\./g,"%2E"):F,ke=C&&e(le)&&le.length===1?oe+"[]":oe;if(_&&e(le)&&le.length===0)return ke+"[]";for(var ne=0;ne<fe.length;++ne){var ee=fe[ne],me=typeof ee=="object"&&typeof ee.value<"u"?ee.value:le[ee];if(!(Q&&me===null)){var Ae=pe&&B?ee.replace(/\./g,"%2E"):ee,xe=e(le)?typeof L=="function"?L(ke,Ae):ke:ke+(pe?"."+Ae:"["+Ae+"]");de.set(I,$);var Z=D();Z.set(v,de),o(he,T(me,xe,L,C,_,E,Q,B,L==="comma"&&be&&e(le)?null:q,K,W,pe,te,ue,se,be,Y,Z))}}return he},x=function(I){if(!I)return b;if(typeof I.allowEmptyArrays<"u"&&typeof I.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof I.encodeDotInKeys<"u"&&typeof I.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(I.encoder!==null&&typeof I.encoder<"u"&&typeof I.encoder!="function")throw new TypeError("Encoder has to be a function.");var F=I.charset||b.charset;if(typeof I.charset<"u"&&I.charset!=="utf-8"&&I.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var L=A.default;if(typeof I.format<"u"){if(!s.call(A.formatters,I.format))throw new TypeError("Unknown format option provided.");L=I.format}var C=A.formatters[L],_=b.filter;(typeof I.filter=="function"||e(I.filter))&&(_=I.filter);var E;if(I.arrayFormat in c?E=I.arrayFormat:"indices"in I?E=I.indices?"indices":"repeat":E=b.arrayFormat,"commaRoundTrip"in I&&typeof I.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var Q=typeof I.allowDots>"u"?I.encodeDotInKeys===!0?!0:b.allowDots:!!I.allowDots;return{addQueryPrefix:typeof I.addQueryPrefix=="boolean"?I.addQueryPrefix:b.addQueryPrefix,allowDots:Q,allowEmptyArrays:typeof I.allowEmptyArrays=="boolean"?!!I.allowEmptyArrays:b.allowEmptyArrays,arrayFormat:E,charset:F,charsetSentinel:typeof I.charsetSentinel=="boolean"?I.charsetSentinel:b.charsetSentinel,commaRoundTrip:I.commaRoundTrip,delimiter:typeof I.delimiter>"u"?b.delimiter:I.delimiter,encode:typeof I.encode=="boolean"?I.encode:b.encode,encodeDotInKeys:typeof I.encodeDotInKeys=="boolean"?I.encodeDotInKeys:b.encodeDotInKeys,encoder:typeof I.encoder=="function"?I.encoder:b.encoder,encodeValuesOnly:typeof I.encodeValuesOnly=="boolean"?I.encodeValuesOnly:b.encodeValuesOnly,filter:_,format:L,formatter:C,serializeDate:typeof I.serializeDate=="function"?I.serializeDate:b.serializeDate,skipNulls:typeof I.skipNulls=="boolean"?I.skipNulls:b.skipNulls,sort:typeof I.sort=="function"?I.sort:null,strictNullHandling:typeof I.strictNullHandling=="boolean"?I.strictNullHandling:b.strictNullHandling}};X.exports=function(T,I){var F=T,L=x(I),C,_;typeof L.filter=="function"?(_=L.filter,F=_("",F)):e(L.filter)&&(_=L.filter,C=_);var E=[];if(typeof F!="object"||F===null)return"";var Q=c[L.arrayFormat],B=Q==="comma"&&L.commaRoundTrip;C||(C=Object.keys(F)),L.sort&&C.sort(L.sort);for(var q=D(),K=0;K<C.length;++K){var W=C[K];L.skipNulls&&F[W]===null||o(E,l(F[W],W,Q,B,L.allowEmptyArrays,L.strictNullHandling,L.skipNulls,L.encodeDotInKeys,L.encode?L.encoder:null,L.filter,L.sort,L.allowDots,L.serializeDate,L.format,L.formatter,L.encodeValuesOnly,L.charset,q))}var pe=E.join(L.delimiter),te=L.addQueryPrefix===!0?"?":"";return L.charsetSentinel&&(L.charset==="iso-8859-1"?te+="utf8=%26%2310003%3B&":te+="utf8=%E2%9C%93&"),pe.length>0?te+pe:""}},{"./formats":77,"./utils":81,"side-channel":95}],81:[function(P,X,J){"use strict";var D=P("./formats"),O=Object.prototype.hasOwnProperty,A=Array.isArray,s=function(){for(var I=[],F=0;F<256;++F)I.push("%"+((F<16?"0":"")+F.toString(16)).toUpperCase());return I}(),c=function(F){for(;F.length>1;){var L=F.pop(),C=L.obj[L.prop];if(A(C)){for(var _=[],E=0;E<C.length;++E)typeof C[E]<"u"&&_.push(C[E]);L.obj[L.prop]=_}}},e=function(F,L){for(var C=L&&L.plainObjects?Object.create(null):{},_=0;_<F.length;++_)typeof F[_]<"u"&&(C[_]=F[_]);return C},f=function I(F,L,C){if(!L)return F;if(typeof L!="object"){if(A(F))F.push(L);else if(F&&typeof F=="object")(C&&(C.plainObjects||C.allowPrototypes)||!O.call(Object.prototype,L))&&(F[L]=!0);else return[F,L];return F}if(!F||typeof F!="object")return[F].concat(L);var _=F;return A(F)&&!A(L)&&(_=e(F,C)),A(F)&&A(L)?(L.forEach(function(E,Q){if(O.call(F,Q)){var B=F[Q];B&&typeof B=="object"&&E&&typeof E=="object"?F[Q]=I(B,E,C):F.push(E)}else F[Q]=E}),F):Object.keys(L).reduce(function(E,Q){var B=L[Q];return O.call(E,Q)?E[Q]=I(E[Q],B,C):E[Q]=B,E},_)},o=function(F,L){return Object.keys(L).reduce(function(C,_){return C[_]=L[_],C},F)},h=function(I,F,L){var C=I.replace(/\+/g," ");if(L==="iso-8859-1")return C.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(C)}catch{return C}},d=1024,b=function(F,L,C,_,E){if(F.length===0)return F;var Q=F;if(typeof F=="symbol"?Q=Symbol.prototype.toString.call(F):typeof F!="string"&&(Q=String(F)),C==="iso-8859-1")return escape(Q).replace(/%u[0-9a-f]{4}/gi,function(ue){return"%26%23"+parseInt(ue.slice(2),16)+"%3B"});for(var B="",q=0;q<Q.length;q+=d){for(var K=Q.length>=d?Q.slice(q,q+d):Q,W=[],pe=0;pe<K.length;++pe){var te=K.charCodeAt(pe);if(te===45||te===46||te===95||te===126||te>=48&&te<=57||te>=65&&te<=90||te>=97&&te<=122||E===D.RFC1738&&(te===40||te===41)){W[W.length]=K.charAt(pe);continue}if(te<128){W[W.length]=s[te];continue}if(te<2048){W[W.length]=s[192|te>>6]+s[128|te&63];continue}if(te<55296||te>=57344){W[W.length]=s[224|te>>12]+s[128|te>>6&63]+s[128|te&63];continue}pe+=1,te=65536+((te&1023)<<10|K.charCodeAt(pe)&1023),W[W.length]=s[240|te>>18]+s[128|te>>12&63]+s[128|te>>6&63]+s[128|te&63]}B+=W.join("")}return B},w=function(F){for(var L=[{obj:{o:F},prop:"o"}],C=[],_=0;_<L.length;++_)for(var E=L[_],Q=E.obj[E.prop],B=Object.keys(Q),q=0;q<B.length;++q){var K=B[q],W=Q[K];typeof W=="object"&&W!==null&&C.indexOf(W)===-1&&(L.push({obj:Q,prop:K}),C.push(W))}return c(L),F},v=function(F){return Object.prototype.toString.call(F)==="[object RegExp]"},l=function(F){return!F||typeof F!="object"?!1:!!(F.constructor&&F.constructor.isBuffer&&F.constructor.isBuffer(F))},x=function(F,L){return[].concat(F,L)},T=function(F,L){if(A(F)){for(var C=[],_=0;_<F.length;_+=1)C.push(L(F[_]));return C}return L(F)};X.exports={arrayToObject:e,assign:o,combine:x,compact:w,decode:h,encode:b,isBuffer:l,isRegExp:v,maybeMap:T,merge:f}},{"./formats":77}],82:[function(P,X,J){X.exports=P("./lib")},{"./lib":91}],83:[function(P,X,J){"use strict";X.exports=class al{constructor(O,A=new Map,s=0){this.prefix=O,this._existing=A,this.counter=s}clone(){const{prefix:O,_existing:A,counter:s}=this;return new al(O,new Map(A),s)}getId(O){const A=O&&this._existing.get(O);if(A)return A;const s=this.prefix+this.counter;return this.counter++,O&&this._existing.set(O,s),s}hasId(O){return this._existing.has(O)}getOldIds(){return[...this._existing.keys()]}}},{}],84:[function(P,X,J){"use strict";P("setimmediate");const D=self.crypto||self.msCrypto;X.exports=class{constructor(A){if(!(D&&D.subtle))throw new Error("crypto.subtle not found.");if(A==="sha256")this.algorithm={name:"SHA-256"};else if(A==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${A}".`);this._content=""}update(A){this._content+=A}async digest(){const A=new TextEncoder().encode(this._content),s=new Uint8Array(await D.subtle.digest(this.algorithm,A));let c="";for(let e=0;e<s.length;++e)c+=s[e].toString(16).padStart(2,"0");return c}}},{setimmediate:94}],85:[function(P,X,J){"use strict";const D=["subject","predicate","object","graph"],A="http://www.w3.org/1999/02/22-rdf-syntax-ns#"+"langString",s="http://www.w3.org/2001/XMLSchema#string",c="NamedNode",e="BlankNode",f="Literal",o="DefaultGraph",h={};(()=>{const x="(?:<([^:]+:[^>]*)>)",I="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD"+"_",F=I+"0-9-\xB7\u0300-\u036F\u203F-\u2040",C="(_:(?:["+I+"0-9])(?:(?:["+F+".])*(?:["+F+"]))?)",_='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',E="(?:\\^\\^"+x+")",B="(?:"+_+"(?:"+E+"|"+"(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))"+")?)",q="[ \\t]+",K="[ \\t]*",W="(?:"+x+"|"+C+")"+q,pe=x+q,te="(?:"+x+"|"+C+"|"+B+")"+K,ue="(?:\\.|(?:(?:"+x+"|"+C+")"+K+"\\.))";h.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,h.empty=new RegExp("^"+K+"$"),h.quad=new RegExp("^"+K+W+pe+te+ue+K+"$")})(),X.exports=class bi{static parse(T){const I=[],F={},L=T.split(h.eoln);let C=0;for(const _ of L){if(C++,h.empty.test(_))continue;const E=_.match(h.quad);if(E===null)throw new Error("N-Quads parse error on line "+C+".");const Q={subject:null,predicate:null,object:null,graph:null};if(E[1]!==void 0?Q.subject={termType:c,value:E[1]}:Q.subject={termType:e,value:E[2]},Q.predicate={termType:c,value:E[3]},E[4]!==void 0?Q.object={termType:c,value:E[4]}:E[5]!==void 0?Q.object={termType:e,value:E[5]}:(Q.object={termType:f,value:void 0,datatype:{termType:c}},E[7]!==void 0?Q.object.datatype.value=E[7]:E[8]!==void 0?(Q.object.datatype.value=A,Q.object.language=E[8]):Q.object.datatype.value=s,Q.object.value=l(E[6])),E[9]!==void 0?Q.graph={termType:c,value:E[9]}:E[10]!==void 0?Q.graph={termType:e,value:E[10]}:Q.graph={termType:o,value:""},!(Q.graph.value in F))F[Q.graph.value]=[Q],I.push(Q);else{let B=!0;const q=F[Q.graph.value];for(const K of q)if(d(K,Q)){B=!1;break}B&&(q.push(Q),I.push(Q))}}return I}static serialize(T){Array.isArray(T)||(T=bi.legacyDatasetToQuads(T));const I=[];for(const F of T)I.push(bi.serializeQuad(F));return I.sort().join("")}static serializeQuadComponents(T,I,F,L){let C="";return T.termType===c?C+=`<${T.value}>`:C+=`${T.value}`,C+=` <${I.value}> `,F.termType===c?C+=`<${F.value}>`:F.termType===e?C+=F.value:(C+=`"${w(F.value)}"`,F.datatype.value===A?F.language&&(C+=`@${F.language}`):F.datatype.value!==s&&(C+=`^^<${F.datatype.value}>`)),L.termType===c?C+=` <${L.value}>`:L.termType===e&&(C+=` ${L.value}`),C+=` .
`,C}static serializeQuad(T){return bi.serializeQuadComponents(T.subject,T.predicate,T.object,T.graph)}static legacyDatasetToQuads(T){const I=[],F={"blank node":e,IRI:c,literal:f};for(const L in T)T[L].forEach(_=>{const E={};for(const Q in _){const B=_[Q],q={termType:F[B.type],value:B.value};q.termType===f&&(q.datatype={termType:c},"datatype"in B&&(q.datatype.value=B.datatype),"language"in B?("datatype"in B||(q.datatype.value=A),q.language=B.language):"datatype"in B||(q.datatype.value=s)),E[Q]=q}L==="@default"?E.graph={termType:o,value:""}:E.graph={termType:L.startsWith("_:")?e:c,value:L},I.push(E)});return I}};function d(x,T){return!(x.subject.termType===T.subject.termType&&x.object.termType===T.object.termType)||!(x.subject.value===T.subject.value&&x.predicate.value===T.predicate.value&&x.object.value===T.object.value)?!1:x.object.termType!==f?!0:x.object.datatype.termType===T.object.datatype.termType&&x.object.language===T.object.language&&x.object.datatype.value===T.object.datatype.value}const b=/["\\\n\r]/g;function w(x){return x.replace(b,function(T){switch(T){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const v=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function l(x){return x.replace(v,function(T,I,F,L){if(I)switch(I){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(F)return String.fromCharCode(parseInt(F,16));if(L)throw new Error("Unsupported U escape")})}},{}],86:[function(P,X,J){"use strict";X.exports=class{constructor(O){this.current=O.sort(),this.done=!1,this.dir=new Map;for(let A=0;A<O.length;++A)this.dir.set(O[A],!0)}hasNext(){return!this.done}next(){const{current:O,dir:A}=this,s=O.slice();let c=null,e=0;const f=O.length;for(let o=0;o<f;++o){const h=O[o],d=A.get(h);(c===null||h>c)&&(d&&o>0&&h>O[o-1]||!d&&o<f-1&&h>O[o+1])&&(c=h,e=o)}if(c===null)this.done=!0;else{const o=A.get(c)?e-1:e+1;O[e]=O[o],O[o]=c;for(const h of O)h>c&&A.set(h,!A.get(h))}return s}}},{}],87:[function(P,X,J){(function(D){(function(){"use strict";const O=P("./IdentifierIssuer"),A=P("./MessageDigest"),s=P("./Permuter"),c=P("./NQuads");X.exports=class{constructor({createMessageDigest:o=()=>new A("sha256"),canonicalIdMap:h=new Map,maxDeepIterations:d=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new O("_:c14n",h),this.createMessageDigest=o,this.maxDeepIterations=d,this.quads=null,this.deepIterations=null}async main(o){this.deepIterations=new Map,this.quads=o;for(const x of o)this._addBlankNodeQuadInfo({quad:x,component:x.subject}),this._addBlankNodeQuadInfo({quad:x,component:x.object}),this._addBlankNodeQuadInfo({quad:x,component:x.graph});const h=new Map,d=[...this.blankNodeInfo.keys()];let b=0;for(const x of d)++b%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:x,hashToBlankNodes:h});const w=[...h.keys()].sort(),v=[];for(const x of w){const T=h.get(x);if(T.length>1){v.push(T);continue}const I=T[0];this.canonicalIssuer.getId(I)}for(const x of v){const T=[];for(const I of x){if(this.canonicalIssuer.hasId(I))continue;const F=new O("_:b");F.getId(I);const L=await this.hashNDegreeQuads(I,F);T.push(L)}T.sort(e);for(const I of T){const F=I.issuer.getOldIds();for(const L of F)this.canonicalIssuer.getId(L)}}const l=[];for(const x of this.quads){const T=c.serializeQuadComponents(this._componentWithCanonicalId(x.subject),x.predicate,this._componentWithCanonicalId(x.object),this._componentWithCanonicalId(x.graph));l.push(T)}return l.sort(),l.join("")}async hashFirstDegreeQuads(o){const h=[],d=this.blankNodeInfo.get(o),b=d.quads;for(const v of b){const l={subject:null,predicate:v.predicate,object:null,graph:null};l.subject=this.modifyFirstDegreeComponent(o,v.subject,"subject"),l.object=this.modifyFirstDegreeComponent(o,v.object,"object"),l.graph=this.modifyFirstDegreeComponent(o,v.graph,"graph"),h.push(c.serializeQuad(l))}h.sort();const w=this.createMessageDigest();for(const v of h)w.update(v);return d.hash=await w.digest(),d.hash}async hashRelatedBlankNode(o,h,d,b){let w;this.canonicalIssuer.hasId(o)?w=this.canonicalIssuer.getId(o):d.hasId(o)?w=d.getId(o):w=this.blankNodeInfo.get(o).hash;const v=this.createMessageDigest();return v.update(b),b!=="g"&&v.update(this.getRelatedPredicate(h)),v.update(w),v.digest()}async hashNDegreeQuads(o,h){const d=this.deepIterations.get(o)||0;if(d>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(o,d+1);const b=this.createMessageDigest(),w=await this.createHashToRelated(o,h),v=[...w.keys()].sort();for(const l of v){b.update(l);let x="",T;const I=new s(w.get(l));let F=0;for(;I.hasNext();){const L=I.next();++F%3===0&&await this._yield();let C=h.clone(),_="";const E=[];let Q=!1;for(const B of L)if(this.canonicalIssuer.hasId(B)?_+=this.canonicalIssuer.getId(B):(C.hasId(B)||E.push(B),_+=C.getId(B)),x.length!==0&&_>x){Q=!0;break}if(!Q){for(const B of E){const q=await this.hashNDegreeQuads(B,C);if(_+=C.getId(B),_+=`<${q.hash}>`,C=q.issuer,x.length!==0&&_>x){Q=!0;break}}Q||(x.length===0||_<x)&&(x=_,T=C)}}b.update(x),h=T}return{hash:await b.digest(),issuer:h}}modifyFirstDegreeComponent(o,h){return h.termType!=="BlankNode"?h:{termType:"BlankNode",value:h.value===o?"_:a":"_:z"}}getRelatedPredicate(o){return`<${o.predicate.value}>`}async createHashToRelated(o,h){const d=new Map,b=this.blankNodeInfo.get(o).quads;let w=0;for(const v of b)++w%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:v,component:v.subject,position:"s",id:o,issuer:h,hashToRelated:d}),this._addRelatedBlankNodeHash({quad:v,component:v.object,position:"o",id:o,issuer:h,hashToRelated:d}),this._addRelatedBlankNodeHash({quad:v,component:v.graph,position:"g",id:o,issuer:h,hashToRelated:d})]);return d}async _hashAndTrackBlankNode({id:o,hashToBlankNodes:h}){const d=await this.hashFirstDegreeQuads(o),b=h.get(d);b?b.push(o):h.set(d,[o])}_addBlankNodeQuadInfo({quad:o,component:h}){if(h.termType!=="BlankNode")return;const d=h.value,b=this.blankNodeInfo.get(d);b?b.quads.add(o):this.blankNodeInfo.set(d,{quads:new Set([o]),hash:null})}async _addRelatedBlankNodeHash({quad:o,component:h,position:d,id:b,issuer:w,hashToRelated:v}){if(!(h.termType==="BlankNode"&&h.value!==b))return;const l=h.value,x=await this.hashRelatedBlankNode(l,o,w,d),T=v.get(x);T?T.push(l):v.set(x,[l])}_componentWithCanonicalId(o){return o.termType==="BlankNode"&&!o.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(o.value)}:o}async _yield(){return new Promise(o=>D(o))}};function e(f,o){return f.hash<o.hash?-1:f.hash>o.hash?1:0}}).call(this)}).call(this,P("timers").setImmediate)},{"./IdentifierIssuer":83,"./MessageDigest":84,"./NQuads":85,"./Permuter":86,timers:131}],88:[function(P,X,J){"use strict";const D=P("./IdentifierIssuer"),O=P("./MessageDigest"),A=P("./Permuter"),s=P("./NQuads");X.exports=class{constructor({createMessageDigest:f=()=>new O("sha256"),canonicalIdMap:o=new Map,maxDeepIterations:h=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new D("_:c14n",o),this.createMessageDigest=f,this.maxDeepIterations=h,this.quads=null,this.deepIterations=null}main(f){this.deepIterations=new Map,this.quads=f;for(const v of f)this._addBlankNodeQuadInfo({quad:v,component:v.subject}),this._addBlankNodeQuadInfo({quad:v,component:v.object}),this._addBlankNodeQuadInfo({quad:v,component:v.graph});const o=new Map,h=[...this.blankNodeInfo.keys()];for(const v of h)this._hashAndTrackBlankNode({id:v,hashToBlankNodes:o});const d=[...o.keys()].sort(),b=[];for(const v of d){const l=o.get(v);if(l.length>1){b.push(l);continue}const x=l[0];this.canonicalIssuer.getId(x)}for(const v of b){const l=[];for(const x of v){if(this.canonicalIssuer.hasId(x))continue;const T=new D("_:b");T.getId(x);const I=this.hashNDegreeQuads(x,T);l.push(I)}l.sort(c);for(const x of l){const T=x.issuer.getOldIds();for(const I of T)this.canonicalIssuer.getId(I)}}const w=[];for(const v of this.quads){const l=s.serializeQuadComponents(this._componentWithCanonicalId({component:v.subject}),v.predicate,this._componentWithCanonicalId({component:v.object}),this._componentWithCanonicalId({component:v.graph}));w.push(l)}return w.sort(),w.join("")}hashFirstDegreeQuads(f){const o=[],h=this.blankNodeInfo.get(f),d=h.quads;for(const w of d){const v={subject:null,predicate:w.predicate,object:null,graph:null};v.subject=this.modifyFirstDegreeComponent(f,w.subject,"subject"),v.object=this.modifyFirstDegreeComponent(f,w.object,"object"),v.graph=this.modifyFirstDegreeComponent(f,w.graph,"graph"),o.push(s.serializeQuad(v))}o.sort();const b=this.createMessageDigest();for(const w of o)b.update(w);return h.hash=b.digest(),h.hash}hashRelatedBlankNode(f,o,h,d){let b;this.canonicalIssuer.hasId(f)?b=this.canonicalIssuer.getId(f):h.hasId(f)?b=h.getId(f):b=this.blankNodeInfo.get(f).hash;const w=this.createMessageDigest();return w.update(d),d!=="g"&&w.update(this.getRelatedPredicate(o)),w.update(b),w.digest()}hashNDegreeQuads(f,o){const h=this.deepIterations.get(f)||0;if(h>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(f,h+1);const d=this.createMessageDigest(),b=this.createHashToRelated(f,o),w=[...b.keys()].sort();for(const v of w){d.update(v);let l="",x;const T=new A(b.get(v));for(;T.hasNext();){const I=T.next();let F=o.clone(),L="";const C=[];let _=!1;for(const E of I)if(this.canonicalIssuer.hasId(E)?L+=this.canonicalIssuer.getId(E):(F.hasId(E)||C.push(E),L+=F.getId(E)),l.length!==0&&L>l){_=!0;break}if(!_){for(const E of C){const Q=this.hashNDegreeQuads(E,F);if(L+=F.getId(E),L+=`<${Q.hash}>`,F=Q.issuer,l.length!==0&&L>l){_=!0;break}}_||(l.length===0||L<l)&&(l=L,x=F)}}d.update(l),o=x}return{hash:d.digest(),issuer:o}}modifyFirstDegreeComponent(f,o){return o.termType!=="BlankNode"?o:{termType:"BlankNode",value:o.value===f?"_:a":"_:z"}}getRelatedPredicate(f){return`<${f.predicate.value}>`}createHashToRelated(f,o){const h=new Map,d=this.blankNodeInfo.get(f).quads;for(const b of d)this._addRelatedBlankNodeHash({quad:b,component:b.subject,position:"s",id:f,issuer:o,hashToRelated:h}),this._addRelatedBlankNodeHash({quad:b,component:b.object,position:"o",id:f,issuer:o,hashToRelated:h}),this._addRelatedBlankNodeHash({quad:b,component:b.graph,position:"g",id:f,issuer:o,hashToRelated:h});return h}_hashAndTrackBlankNode({id:f,hashToBlankNodes:o}){const h=this.hashFirstDegreeQuads(f),d=o.get(h);d?d.push(f):o.set(h,[f])}_addBlankNodeQuadInfo({quad:f,component:o}){if(o.termType!=="BlankNode")return;const h=o.value,d=this.blankNodeInfo.get(h);d?d.quads.add(f):this.blankNodeInfo.set(h,{quads:new Set([f]),hash:null})}_addRelatedBlankNodeHash({quad:f,component:o,position:h,id:d,issuer:b,hashToRelated:w}){if(!(o.termType==="BlankNode"&&o.value!==d))return;const v=o.value,l=this.hashRelatedBlankNode(v,f,b,h),x=w.get(l);x?x.push(v):w.set(l,[v])}_componentWithCanonicalId({component:f}){return f.termType==="BlankNode"&&!f.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(f.value)}:f}};function c(e,f){return e.hash<f.hash?-1:e.hash>f.hash?1:0}},{"./IdentifierIssuer":83,"./MessageDigest":84,"./NQuads":85,"./Permuter":86}],89:[function(P,X,J){"use strict";const D=P("./MessageDigest"),O=P("./URDNA2015");X.exports=class extends O{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new D("sha1")}modifyFirstDegreeComponent(s,c,e){return c.termType!=="BlankNode"?c:e==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:c.value===s?"_:a":"_:z"}}getRelatedPredicate(s){return s.predicate.value}async createHashToRelated(s,c){const e=new Map,f=this.blankNodeInfo.get(s).quads;let o=0;for(const h of f){let d,b;if(h.subject.termType==="BlankNode"&&h.subject.value!==s)b=h.subject.value,d="p";else if(h.object.termType==="BlankNode"&&h.object.value!==s)b=h.object.value,d="r";else continue;++o%100===0&&await this._yield();const w=await this.hashRelatedBlankNode(b,h,c,d),v=e.get(w);v?v.push(b):e.set(w,[b])}return e}}},{"./MessageDigest":84,"./URDNA2015":87}],90:[function(P,X,J){"use strict";const D=P("./MessageDigest"),O=P("./URDNA2015Sync");X.exports=class extends O{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new D("sha1")}modifyFirstDegreeComponent(s,c,e){return c.termType!=="BlankNode"?c:e==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:c.value===s?"_:a":"_:z"}}getRelatedPredicate(s){return s.predicate.value}createHashToRelated(s,c){const e=new Map,f=this.blankNodeInfo.get(s).quads;for(const o of f){let h,d;if(o.subject.termType==="BlankNode"&&o.subject.value!==s)d=o.subject.value,h="p";else if(o.object.termType==="BlankNode"&&o.object.value!==s)d=o.object.value,h="r";else continue;const b=this.hashRelatedBlankNode(d,o,c,h),w=e.get(b);w?w.push(d):e.set(b,[d])}return e}}},{"./MessageDigest":84,"./URDNA2015Sync":88}],91:[function(P,X,J){"use strict";const D=P("./URDNA2015"),O=P("./URGNA2012"),A=P("./URDNA2015Sync"),s=P("./URGNA2012Sync");let c;try{c=P("rdf-canonize-native")}catch{}function e(f){return Array.isArray(f)?f:J.NQuads.legacyDatasetToQuads(f)}J.NQuads=P("./NQuads"),J.IdentifierIssuer=P("./IdentifierIssuer"),J._rdfCanonizeNative=function(f){return f&&(c=f),c},J.canonize=async function(f,o){const h=e(f,o);if(o.useNative){if(!c)throw new Error("rdf-canonize-native not available");if(o.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((d,b)=>c.canonize(h,o,(w,v)=>w?b(w):d(v)))}if(o.algorithm==="URDNA2015")return new D(o).main(h);if(o.algorithm==="URGNA2012"){if(o.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new O(o).main(h)}throw"algorithm"in o?new Error("Invalid RDF Dataset Canonicalization algorithm: "+o.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},J._canonizeSync=function(f,o){const h=e(f,o);if(o.useNative){if(!c)throw new Error("rdf-canonize-native not available");if(o.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return c.canonizeSync(h,o)}if(o.algorithm==="URDNA2015")return new A(o).main(h);if(o.algorithm==="URGNA2012"){if(o.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new s(o).main(h)}throw"algorithm"in o?new Error("Invalid RDF Dataset Canonicalization algorithm: "+o.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}},{"./IdentifierIssuer":83,"./NQuads":85,"./URDNA2015":87,"./URDNA2015Sync":88,"./URGNA2012":89,"./URGNA2012Sync":90,"rdf-canonize-native":3}],92:[function(P,X,J){var D=P("buffer"),O=D.Buffer;function A(c,e){for(var f in c)e[f]=c[f]}O.from&&O.alloc&&O.allocUnsafe&&O.allocUnsafeSlow?X.exports=D:(A(D,J),J.Buffer=s);function s(c,e,f){return O(c,e,f)}s.prototype=Object.create(O.prototype),A(O,s),s.from=function(c,e,f){if(typeof c=="number")throw new TypeError("Argument must not be a number");return O(c,e,f)},s.alloc=function(c,e,f){if(typeof c!="number")throw new TypeError("Argument must be a number");var o=O(c);return e!==void 0?typeof f=="string"?o.fill(e,f):o.fill(e):o.fill(0),o},s.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return O(c)},s.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return D.SlowBuffer(c)}},{buffer:8}],93:[function(P,X,J){"use strict";var D=P("get-intrinsic"),O=P("define-data-property"),A=P("has-property-descriptors")(),s=P("gopd"),c=P("es-errors/type"),e=D("%Math.floor%");X.exports=function(o,h){if(typeof o!="function")throw new c("`fn` is not a function");if(typeof h!="number"||h<0||h>4294967295||e(h)!==h)throw new c("`length` must be a positive 32-bit integer");var d=arguments.length>2&&!!arguments[2],b=!0,w=!0;if("length"in o&&s){var v=s(o,"length");v&&!v.configurable&&(b=!1),v&&!v.writable&&(w=!1)}return(b||w||!d)&&(A?O(o,"length",h,!0,!0):O(o,"length",h)),o}},{"define-data-property":13,"es-errors/type":20,"get-intrinsic":26,gopd:27,"has-property-descriptors":28}],94:[function(P,X,J){(function(D,O){(function(){(function(A,s){"use strict";if(A.setImmediate)return;var c=1,e={},f=!1,o=A.document,h;function d(_){typeof _!="function"&&(_=new Function(""+_));for(var E=new Array(arguments.length-1),Q=0;Q<E.length;Q++)E[Q]=arguments[Q+1];var B={callback:_,args:E};return e[c]=B,h(c),c++}function b(_){delete e[_]}function w(_){var E=_.callback,Q=_.args;switch(Q.length){case 0:E();break;case 1:E(Q[0]);break;case 2:E(Q[0],Q[1]);break;case 3:E(Q[0],Q[1],Q[2]);break;default:E.apply(s,Q);break}}function v(_){if(f)setTimeout(v,0,_);else{var E=e[_];if(E){f=!0;try{w(E)}finally{b(_),f=!1}}}}function l(){h=function(_){D.nextTick(function(){v(_)})}}function x(){if(A.postMessage&&!A.importScripts){var _=!0,E=A.onmessage;return A.onmessage=function(){_=!1},A.postMessage("","*"),A.onmessage=E,_}}function T(){var _="setImmediate$"+Math.random()+"$",E=function(Q){Q.source===A&&typeof Q.data=="string"&&Q.data.indexOf(_)===0&&v(+Q.data.slice(_.length))};A.addEventListener?A.addEventListener("message",E,!1):A.attachEvent("onmessage",E),h=function(Q){A.postMessage(_+Q,"*")}}function I(){var _=new MessageChannel;_.port1.onmessage=function(E){var Q=E.data;v(Q)},h=function(E){_.port2.postMessage(E)}}function F(){var _=o.documentElement;h=function(E){var Q=o.createElement("script");Q.onreadystatechange=function(){v(E),Q.onreadystatechange=null,_.removeChild(Q),Q=null},_.appendChild(Q)}}function L(){h=function(_){setTimeout(v,0,_)}}var C=Object.getPrototypeOf&&Object.getPrototypeOf(A);C=C&&C.setTimeout?C:A,{}.toString.call(A.process)==="[object process]"?l():x()?T():A.MessageChannel?I():o&&"onreadystatechange"in o.createElement("script")?F():L(),C.setImmediate=d,C.clearImmediate=b})(typeof self>"u"?typeof O>"u"?this:O:self)}).call(this)}).call(this,P("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:75}],95:[function(P,X,J){"use strict";var D=P("get-intrinsic"),O=P("call-bind/callBound"),A=P("object-inspect"),s=P("es-errors/type"),c=D("%WeakMap%",!0),e=D("%Map%",!0),f=O("WeakMap.prototype.get",!0),o=O("WeakMap.prototype.set",!0),h=O("WeakMap.prototype.has",!0),d=O("Map.prototype.get",!0),b=O("Map.prototype.set",!0),w=O("Map.prototype.has",!0),v=function(I,F){for(var L=I,C;(C=L.next)!==null;L=C)if(C.key===F)return L.next=C.next,C.next=I.next,I.next=C,C},l=function(I,F){var L=v(I,F);return L&&L.value},x=function(I,F,L){var C=v(I,F);C?C.value=L:I.next={key:F,next:I.next,value:L}},T=function(I,F){return!!v(I,F)};X.exports=function(){var F,L,C,_={assert:function(E){if(!_.has(E))throw new s("Side channel does not contain "+A(E))},get:function(E){if(c&&E&&(typeof E=="object"||typeof E=="function")){if(F)return f(F,E)}else if(e){if(L)return d(L,E)}else if(C)return l(C,E)},has:function(E){if(c&&E&&(typeof E=="object"||typeof E=="function")){if(F)return h(F,E)}else if(e){if(L)return w(L,E)}else if(C)return T(C,E);return!1},set:function(E,Q){c&&E&&(typeof E=="object"||typeof E=="function")?(F||(F=new c),o(F,E,Q)):e?(L||(L=new e),b(L,E,Q)):(C||(C={key:{},next:null}),x(C,E,Q))}};return _}},{"call-bind/callBound":10,"es-errors/type":20,"get-intrinsic":26,"object-inspect":73}],96:[function(P,X,J){X.exports=A;var D=P("events").EventEmitter,O=P("inherits");O(A,D),A.Readable=P("readable-stream/lib/_stream_readable.js"),A.Writable=P("readable-stream/lib/_stream_writable.js"),A.Duplex=P("readable-stream/lib/_stream_duplex.js"),A.Transform=P("readable-stream/lib/_stream_transform.js"),A.PassThrough=P("readable-stream/lib/_stream_passthrough.js"),A.finished=P("readable-stream/lib/internal/streams/end-of-stream.js"),A.pipeline=P("readable-stream/lib/internal/streams/pipeline.js"),A.Stream=A;function A(){D.call(this)}A.prototype.pipe=function(s,c){var e=this;function f(l){s.writable&&s.write(l)===!1&&e.pause&&e.pause()}e.on("data",f);function o(){e.readable&&e.resume&&e.resume()}s.on("drain",o),!s._isStdio&&(!c||c.end!==!1)&&(e.on("end",d),e.on("close",b));var h=!1;function d(){h||(h=!0,s.end())}function b(){h||(h=!0,typeof s.destroy=="function"&&s.destroy())}function w(l){if(v(),D.listenerCount(this,"error")===0)throw l}e.on("error",w),s.on("error",w);function v(){e.removeListener("data",f),s.removeListener("drain",o),e.removeListener("end",d),e.removeListener("close",b),e.removeListener("error",w),s.removeListener("error",w),e.removeListener("end",v),e.removeListener("close",v),s.removeListener("close",v)}return e.on("end",v),e.on("close",v),s.on("close",v),s.emit("pipe",e),s}},{events:22,inherits:36,"readable-stream/lib/_stream_duplex.js":98,"readable-stream/lib/_stream_passthrough.js":99,"readable-stream/lib/_stream_readable.js":100,"readable-stream/lib/_stream_transform.js":101,"readable-stream/lib/_stream_writable.js":102,"readable-stream/lib/internal/streams/end-of-stream.js":106,"readable-stream/lib/internal/streams/pipeline.js":108}],97:[function(P,X,J){"use strict";function D(o,h){o.prototype=Object.create(h.prototype),o.prototype.constructor=o,o.__proto__=h}var O={};function A(o,h,d){d||(d=Error);function b(v,l,x){return typeof h=="string"?h:h(v,l,x)}var w=function(v){D(l,v);function l(x,T,I){return v.call(this,b(x,T,I))||this}return l}(d);w.prototype.name=d.name,w.prototype.code=o,O[o]=w}function s(o,h){if(Array.isArray(o)){var d=o.length;return o=o.map(function(b){return String(b)}),d>2?"one of ".concat(h," ").concat(o.slice(0,d-1).join(", "),", or ")+o[d-1]:d===2?"one of ".concat(h," ").concat(o[0]," or ").concat(o[1]):"of ".concat(h," ").concat(o[0])}else return"of ".concat(h," ").concat(String(o))}function c(o,h,d){return o.substr(!d||d<0?0:+d,h.length)===h}function e(o,h,d){return(d===void 0||d>o.length)&&(d=o.length),o.substring(d-h.length,d)===h}function f(o,h,d){return typeof d!="number"&&(d=0),d+h.length>o.length?!1:o.indexOf(h,d)!==-1}A("ERR_INVALID_OPT_VALUE",function(o,h){return'The value "'+h+'" is invalid for option "'+o+'"'},TypeError),A("ERR_INVALID_ARG_TYPE",function(o,h,d){var b;typeof h=="string"&&c(h,"not ")?(b="must not be",h=h.replace(/^not /,"")):b="must be";var w;if(e(o," argument"))w="The ".concat(o," ").concat(b," ").concat(s(h,"type"));else{var v=f(o,".")?"property":"argument";w='The "'.concat(o,'" ').concat(v," ").concat(b," ").concat(s(h,"type"))}return w+=". Received type ".concat(typeof d),w},TypeError),A("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),A("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),A("ERR_STREAM_PREMATURE_CLOSE","Premature close"),A("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),A("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),A("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),A("ERR_STREAM_WRITE_AFTER_END","write after end"),A("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),A("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),A("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),X.exports.codes=O},{}],98:[function(P,X,J){(function(D){(function(){"use strict";var O=Object.keys||function(b){var w=[];for(var v in b)w.push(v);return w};X.exports=o;var A=P("./_stream_readable"),s=P("./_stream_writable");P("inherits")(o,A);for(var c=O(s.prototype),e=0;e<c.length;e++){var f=c[e];o.prototype[f]||(o.prototype[f]=s.prototype[f])}function o(b){if(!(this instanceof o))return new o(b);A.call(this,b),s.call(this,b),this.allowHalfOpen=!0,b&&(b.readable===!1&&(this.readable=!1),b.writable===!1&&(this.writable=!1),b.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function h(){this._writableState.ended||D.nextTick(d,this)}function d(b){b.end()}Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(w){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=w,this._writableState.destroyed=w)}})}).call(this)}).call(this,P("_process"))},{"./_stream_readable":100,"./_stream_writable":102,_process:75,inherits:36}],99:[function(P,X,J){"use strict";X.exports=O;var D=P("./_stream_transform");P("inherits")(O,D);function O(A){if(!(this instanceof O))return new O(A);D.call(this,A)}O.prototype._transform=function(A,s,c){c(null,A)}},{"./_stream_transform":101,inherits:36}],100:[function(P,X,J){(function(D,O){(function(){"use strict";X.exports=te;var A;te.ReadableState=pe;var s=P("events").EventEmitter,c=function(U,M){return U.listeners(M).length},e=P("./internal/streams/stream"),f=P("buffer").Buffer,o=(typeof O<"u"?O:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function h(Z){return f.from(Z)}function d(Z){return f.isBuffer(Z)||Z instanceof o}var b=P("util"),w;b&&b.debuglog?w=b.debuglog("stream"):w=function(){};var v=P("./internal/streams/buffer_list"),l=P("./internal/streams/destroy"),x=P("./internal/streams/state"),T=x.getHighWaterMark,I=P("../errors").codes,F=I.ERR_INVALID_ARG_TYPE,L=I.ERR_STREAM_PUSH_AFTER_EOF,C=I.ERR_METHOD_NOT_IMPLEMENTED,_=I.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,E,Q,B;P("inherits")(te,e);var q=l.errorOrDestroy,K=["error","close","destroy","pause","resume"];function W(Z,U,M){if(typeof Z.prependListener=="function")return Z.prependListener(U,M);!Z._events||!Z._events[U]?Z.on(U,M):Array.isArray(Z._events[U])?Z._events[U].unshift(M):Z._events[U]=[M,Z._events[U]]}function pe(Z,U,M){A=A||P("./_stream_duplex"),Z=Z||{},typeof M!="boolean"&&(M=U instanceof A),this.objectMode=!!Z.objectMode,M&&(this.objectMode=this.objectMode||!!Z.readableObjectMode),this.highWaterMark=T(this,Z,"readableHighWaterMark",M),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding&&(E||(E=P("string_decoder/").StringDecoder),this.decoder=new E(Z.encoding),this.encoding=Z.encoding)}function te(Z){if(A=A||P("./_stream_duplex"),!(this instanceof te))return new te(Z);var U=this instanceof A;this._readableState=new pe(Z,this,U),this.readable=!0,Z&&(typeof Z.read=="function"&&(this._read=Z.read),typeof Z.destroy=="function"&&(this._destroy=Z.destroy)),e.call(this)}Object.defineProperty(te.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),te.prototype.destroy=l.destroy,te.prototype._undestroy=l.undestroy,te.prototype._destroy=function(Z,U){U(Z)},te.prototype.push=function(Z,U){var M=this._readableState,G;return M.objectMode?G=!0:typeof Z=="string"&&(U=U||M.defaultEncoding,U!==M.encoding&&(Z=f.from(Z,U),U=""),G=!0),ue(this,Z,U,!1,G)},te.prototype.unshift=function(Z){return ue(this,Z,null,!0,!1)};function ue(Z,U,M,G,z){w("readableAddChunk",U);var ye=Z._readableState;if(U===null)ye.reading=!1,ce(Z,ye);else{var Fe;if(z||(Fe=be(ye,U)),Fe)q(Z,Fe);else if(ye.objectMode||U&&U.length>0)if(typeof U!="string"&&!ye.objectMode&&Object.getPrototypeOf(U)!==f.prototype&&(U=h(U)),G)ye.endEmitted?q(Z,new _):se(Z,ye,U,!0);else if(ye.ended)q(Z,new L);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!M?(U=ye.decoder.write(U),ye.objectMode||U.length!==0?se(Z,ye,U,!1):re(Z,ye)):se(Z,ye,U,!1)}else G||(ye.reading=!1,re(Z,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function se(Z,U,M,G){U.flowing&&U.length===0&&!U.sync?(U.awaitDrain=0,Z.emit("data",M)):(U.length+=U.objectMode?1:M.length,G?U.buffer.unshift(M):U.buffer.push(M),U.needReadable&&$(Z)),re(Z,U)}function be(Z,U){var M;return!d(U)&&typeof U!="string"&&U!==void 0&&!Z.objectMode&&(M=new F("chunk",["string","Buffer","Uint8Array"],U)),M}te.prototype.isPaused=function(){return this._readableState.flowing===!1},te.prototype.setEncoding=function(Z){E||(E=P("string_decoder/").StringDecoder);var U=new E(Z);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;for(var M=this._readableState.buffer.head,G="";M!==null;)G+=U.write(M.data),M=M.next;return this._readableState.buffer.clear(),G!==""&&this._readableState.buffer.push(G),this._readableState.length=G.length,this};var Y=1073741824;function de(Z){return Z>=Y?Z=Y:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}function le(Z,U){return Z<=0||U.length===0&&U.ended?0:U.objectMode?1:Z!==Z?U.flowing&&U.length?U.buffer.head.data.length:U.length:(Z>U.highWaterMark&&(U.highWaterMark=de(Z)),Z<=U.length?Z:U.ended?U.length:(U.needReadable=!0,0))}te.prototype.read=function(Z){w("read",Z),Z=parseInt(Z,10);var U=this._readableState,M=Z;if(Z!==0&&(U.emittedReadable=!1),Z===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return w("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?me(this):$(this),null;if(Z=le(Z,U),Z===0&&U.ended)return U.length===0&&me(this),null;var G=U.needReadable;w("need readable",G),(U.length===0||U.length-Z<U.highWaterMark)&&(G=!0,w("length less than watermark",G)),U.ended||U.reading?(G=!1,w("reading or ended",G)):G&&(w("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(Z=le(M,U)));var z;return Z>0?z=ee(Z,U):z=null,z===null?(U.needReadable=U.length<=U.highWaterMark,Z=0):(U.length-=Z,U.awaitDrain=0),U.length===0&&(U.ended||(U.needReadable=!0),M!==Z&&U.ended&&me(this)),z!==null&&this.emit("data",z),z};function ce(Z,U){if(w("onEofChunk"),!U.ended){if(U.decoder){var M=U.decoder.end();M&&M.length&&(U.buffer.push(M),U.length+=U.objectMode?1:M.length)}U.ended=!0,U.sync?$(Z):(U.needReadable=!1,U.emittedReadable||(U.emittedReadable=!0,ve(Z)))}}function $(Z){var U=Z._readableState;w("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(w("emitReadable",U.flowing),U.emittedReadable=!0,D.nextTick(ve,Z))}function ve(Z){var U=Z._readableState;w("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&(U.length||U.ended)&&(Z.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,ne(Z)}function re(Z,U){U.readingMore||(U.readingMore=!0,D.nextTick(ae,Z,U))}function ae(Z,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){var M=U.length;if(w("maybeReadMore read 0"),Z.read(0),M===U.length)break}U.readingMore=!1}te.prototype._read=function(Z){q(this,new C("_read()"))},te.prototype.pipe=function(Z,U){var M=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=Z;break;case 1:G.pipes=[G.pipes,Z];break;default:G.pipes.push(Z);break}G.pipesCount+=1,w("pipe count=%d opts=%j",G.pipesCount,U);var z=(!U||U.end!==!1)&&Z!==D.stdout&&Z!==D.stderr,ye=z?Ce:ze;G.endEmitted?D.nextTick(ye):M.once("end",ye),Z.on("unpipe",Fe);function Fe(Ke,ht){w("onunpipe"),Ke===M&&ht&&ht.hasUnpiped===!1&&(ht.hasUnpiped=!0,Ue())}function Ce(){w("onend"),Z.end()}var Ne=he(M);Z.on("drain",Ne);var Le=!1;function Ue(){w("cleanup"),Z.removeListener("close",Je),Z.removeListener("finish",$e),Z.removeListener("drain",Ne),Z.removeListener("error",Ge),Z.removeListener("unpipe",Fe),M.removeListener("end",Ce),M.removeListener("end",ze),M.removeListener("data",qe),Le=!0,G.awaitDrain&&(!Z._writableState||Z._writableState.needDrain)&&Ne()}M.on("data",qe);function qe(Ke){w("ondata");var ht=Z.write(Ke);w("dest.write",ht),ht===!1&&((G.pipesCount===1&&G.pipes===Z||G.pipesCount>1&&xe(G.pipes,Z)!==-1)&&!Le&&(w("false write response, pause",G.awaitDrain),G.awaitDrain++),M.pause())}function Ge(Ke){w("onerror",Ke),ze(),Z.removeListener("error",Ge),c(Z,"error")===0&&q(Z,Ke)}W(Z,"error",Ge);function Je(){Z.removeListener("finish",$e),ze()}Z.once("close",Je);function $e(){w("onfinish"),Z.removeListener("close",Je),ze()}Z.once("finish",$e);function ze(){w("unpipe"),M.unpipe(Z)}return Z.emit("pipe",M),G.flowing||(w("pipe resume"),M.resume()),Z};function he(Z){return function(){var M=Z._readableState;w("pipeOnDrain",M.awaitDrain),M.awaitDrain&&M.awaitDrain--,M.awaitDrain===0&&c(Z,"data")&&(M.flowing=!0,ne(Z))}}te.prototype.unpipe=function(Z){var U=this._readableState,M={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return Z&&Z!==U.pipes?this:(Z||(Z=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,Z&&Z.emit("unpipe",this,M),this);if(!Z){var G=U.pipes,z=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var ye=0;ye<z;ye++)G[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var Fe=xe(U.pipes,Z);return Fe===-1?this:(U.pipes.splice(Fe,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),Z.emit("unpipe",this,M),this)},te.prototype.on=function(Z,U){var M=e.prototype.on.call(this,Z,U),G=this._readableState;return Z==="data"?(G.readableListening=this.listenerCount("readable")>0,G.flowing!==!1&&this.resume()):Z==="readable"&&!G.endEmitted&&!G.readableListening&&(G.readableListening=G.needReadable=!0,G.flowing=!1,G.emittedReadable=!1,w("on readable",G.length,G.reading),G.length?$(this):G.reading||D.nextTick(ie,this)),M},te.prototype.addListener=te.prototype.on,te.prototype.removeListener=function(Z,U){var M=e.prototype.removeListener.call(this,Z,U);return Z==="readable"&&D.nextTick(fe,this),M},te.prototype.removeAllListeners=function(Z){var U=e.prototype.removeAllListeners.apply(this,arguments);return(Z==="readable"||Z===void 0)&&D.nextTick(fe,this),U};function fe(Z){var U=Z._readableState;U.readableListening=Z.listenerCount("readable")>0,U.resumeScheduled&&!U.paused?U.flowing=!0:Z.listenerCount("data")>0&&Z.resume()}function ie(Z){w("readable nexttick read 0"),Z.read(0)}te.prototype.resume=function(){var Z=this._readableState;return Z.flowing||(w("resume"),Z.flowing=!Z.readableListening,oe(this,Z)),Z.paused=!1,this};function oe(Z,U){U.resumeScheduled||(U.resumeScheduled=!0,D.nextTick(ke,Z,U))}function ke(Z,U){w("resume",U.reading),U.reading||Z.read(0),U.resumeScheduled=!1,Z.emit("resume"),ne(Z),U.flowing&&!U.reading&&Z.read(0)}te.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ne(Z){var U=Z._readableState;for(w("flow",U.flowing);U.flowing&&Z.read()!==null;);}te.prototype.wrap=function(Z){var U=this,M=this._readableState,G=!1;Z.on("end",function(){if(w("wrapped end"),M.decoder&&!M.ended){var Fe=M.decoder.end();Fe&&Fe.length&&U.push(Fe)}U.push(null)}),Z.on("data",function(Fe){if(w("wrapped data"),M.decoder&&(Fe=M.decoder.write(Fe)),!(M.objectMode&&Fe==null)&&!(!M.objectMode&&(!Fe||!Fe.length))){var Ce=U.push(Fe);Ce||(G=!0,Z.pause())}});for(var z in Z)this[z]===void 0&&typeof Z[z]=="function"&&(this[z]=function(Ce){return function(){return Z[Ce].apply(Z,arguments)}}(z));for(var ye=0;ye<K.length;ye++)Z.on(K[ye],this.emit.bind(this,K[ye]));return this._read=function(Fe){w("wrapped _read",Fe),G&&(G=!1,Z.resume())},this},typeof Symbol=="function"&&(te.prototype[Symbol.asyncIterator]=function(){return Q===void 0&&(Q=P("./internal/streams/async_iterator")),Q(this)}),Object.defineProperty(te.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(te.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(te.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}}),te._fromList=ee,Object.defineProperty(te.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ee(Z,U){if(U.length===0)return null;var M;return U.objectMode?M=U.buffer.shift():!Z||Z>=U.length?(U.decoder?M=U.buffer.join(""):U.buffer.length===1?M=U.buffer.first():M=U.buffer.concat(U.length),U.buffer.clear()):M=U.buffer.consume(Z,U.decoder),M}function me(Z){var U=Z._readableState;w("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,D.nextTick(Ae,U,Z))}function Ae(Z,U){if(w("endReadableNT",Z.endEmitted,Z.length),!Z.endEmitted&&Z.length===0&&(Z.endEmitted=!0,U.readable=!1,U.emit("end"),Z.autoDestroy)){var M=U._writableState;(!M||M.autoDestroy&&M.finished)&&U.destroy()}}typeof Symbol=="function"&&(te.from=function(Z,U){return B===void 0&&(B=P("./internal/streams/from")),B(te,Z,U)});function xe(Z,U){for(var M=0,G=Z.length;M<G;M++)if(Z[M]===U)return M;return-1}}).call(this)}).call(this,P("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":97,"./_stream_duplex":98,"./internal/streams/async_iterator":103,"./internal/streams/buffer_list":104,"./internal/streams/destroy":105,"./internal/streams/from":107,"./internal/streams/state":109,"./internal/streams/stream":110,_process:75,buffer:8,events:22,inherits:36,"string_decoder/":130,util:3}],101:[function(P,X,J){"use strict";X.exports=o;var D=P("../errors").codes,O=D.ERR_METHOD_NOT_IMPLEMENTED,A=D.ERR_MULTIPLE_CALLBACK,s=D.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=D.ERR_TRANSFORM_WITH_LENGTH_0,e=P("./_stream_duplex");P("inherits")(o,e);function f(b,w){var v=this._transformState;v.transforming=!1;var l=v.writecb;if(l===null)return this.emit("error",new A);v.writechunk=null,v.writecb=null,w!=null&&this.push(w),l(b);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function o(b){if(!(this instanceof o))return new o(b);e.call(this,b),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),this.on("prefinish",h)}function h(){var b=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(w,v){d(b,w,v)}):d(this,null,null)}o.prototype.push=function(b,w){return this._transformState.needTransform=!1,e.prototype.push.call(this,b,w)},o.prototype._transform=function(b,w,v){v(new O("_transform()"))},o.prototype._write=function(b,w,v){var l=this._transformState;if(l.writecb=v,l.writechunk=b,l.writeencoding=w,!l.transforming){var x=this._readableState;(l.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},o.prototype._read=function(b){var w=this._transformState;w.writechunk!==null&&!w.transforming?(w.transforming=!0,this._transform(w.writechunk,w.writeencoding,w.afterTransform)):w.needTransform=!0},o.prototype._destroy=function(b,w){e.prototype._destroy.call(this,b,function(v){w(v)})};function d(b,w,v){if(w)return b.emit("error",w);if(v!=null&&b.push(v),b._writableState.length)throw new c;if(b._transformState.transforming)throw new s;return b.push(null)}},{"../errors":97,"./_stream_duplex":98,inherits:36}],102:[function(P,X,J){(function(D,O){(function(){"use strict";X.exports=pe;function A(ne,ee,me){this.chunk=ne,this.encoding=ee,this.callback=me,this.next=null}function s(ne){var ee=this;this.next=null,this.entry=null,this.finish=function(){ke(ee,ne)}}var c;pe.WritableState=K;var e={deprecate:P("util-deprecate")},f=P("./internal/streams/stream"),o=P("buffer").Buffer,h=(typeof O<"u"?O:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function d(ne){return o.from(ne)}function b(ne){return o.isBuffer(ne)||ne instanceof h}var w=P("./internal/streams/destroy"),v=P("./internal/streams/state"),l=v.getHighWaterMark,x=P("../errors").codes,T=x.ERR_INVALID_ARG_TYPE,I=x.ERR_METHOD_NOT_IMPLEMENTED,F=x.ERR_MULTIPLE_CALLBACK,L=x.ERR_STREAM_CANNOT_PIPE,C=x.ERR_STREAM_DESTROYED,_=x.ERR_STREAM_NULL_VALUES,E=x.ERR_STREAM_WRITE_AFTER_END,Q=x.ERR_UNKNOWN_ENCODING,B=w.errorOrDestroy;P("inherits")(pe,f);function q(){}function K(ne,ee,me){c=c||P("./_stream_duplex"),ne=ne||{},typeof me!="boolean"&&(me=ee instanceof c),this.objectMode=!!ne.objectMode,me&&(this.objectMode=this.objectMode||!!ne.writableObjectMode),this.highWaterMark=l(this,ne,"writableHighWaterMark",me),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ae=ne.decodeStrings===!1;this.decodeStrings=!Ae,this.defaultEncoding=ne.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(xe){ce(ee,xe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ne.emitClose!==!1,this.autoDestroy=!!ne.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}K.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,me=[];ee;)me.push(ee),ee=ee.next;return me},function(){try{Object.defineProperty(K.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var W;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(W=Function.prototype[Symbol.hasInstance],Object.defineProperty(pe,Symbol.hasInstance,{value:function(ee){return W.call(this,ee)?!0:this!==pe?!1:ee&&ee._writableState instanceof K}})):W=function(ee){return ee instanceof this};function pe(ne){c=c||P("./_stream_duplex");var ee=this instanceof c;if(!ee&&!W.call(pe,this))return new pe(ne);this._writableState=new K(ne,this,ee),this.writable=!0,ne&&(typeof ne.write=="function"&&(this._write=ne.write),typeof ne.writev=="function"&&(this._writev=ne.writev),typeof ne.destroy=="function"&&(this._destroy=ne.destroy),typeof ne.final=="function"&&(this._final=ne.final)),f.call(this)}pe.prototype.pipe=function(){B(this,new L)};function te(ne,ee){var me=new E;B(ne,me),D.nextTick(ee,me)}function ue(ne,ee,me,Ae){var xe;return me===null?xe=new _:typeof me!="string"&&!ee.objectMode&&(xe=new T("chunk",["string","Buffer"],me)),xe?(B(ne,xe),D.nextTick(Ae,xe),!1):!0}pe.prototype.write=function(ne,ee,me){var Ae=this._writableState,xe=!1,Z=!Ae.objectMode&&b(ne);return Z&&!o.isBuffer(ne)&&(ne=d(ne)),typeof ee=="function"&&(me=ee,ee=null),Z?ee="buffer":ee||(ee=Ae.defaultEncoding),typeof me!="function"&&(me=q),Ae.ending?te(this,me):(Z||ue(this,Ae,ne,me))&&(Ae.pendingcb++,xe=be(this,Ae,Z,ne,ee,me)),xe},pe.prototype.cork=function(){this._writableState.corked++},pe.prototype.uncork=function(){var ne=this._writableState;ne.corked&&(ne.corked--,!ne.writing&&!ne.corked&&!ne.bufferProcessing&&ne.bufferedRequest&&re(this,ne))},pe.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new Q(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(pe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function se(ne,ee,me){return!ne.objectMode&&ne.decodeStrings!==!1&&typeof ee=="string"&&(ee=o.from(ee,me)),ee}Object.defineProperty(pe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function be(ne,ee,me,Ae,xe,Z){if(!me){var U=se(ee,Ae,xe);Ae!==U&&(me=!0,xe="buffer",Ae=U)}var M=ee.objectMode?1:Ae.length;ee.length+=M;var G=ee.length<ee.highWaterMark;if(G||(ee.needDrain=!0),ee.writing||ee.corked){var z=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:Ae,encoding:xe,isBuf:me,callback:Z,next:null},z?z.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else Y(ne,ee,!1,M,Ae,xe,Z);return G}function Y(ne,ee,me,Ae,xe,Z,U){ee.writelen=Ae,ee.writecb=U,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new C("write")):me?ne._writev(xe,ee.onwrite):ne._write(xe,Z,ee.onwrite),ee.sync=!1}function de(ne,ee,me,Ae,xe){--ee.pendingcb,me?(D.nextTick(xe,Ae),D.nextTick(ie,ne,ee),ne._writableState.errorEmitted=!0,B(ne,Ae)):(xe(Ae),ne._writableState.errorEmitted=!0,B(ne,Ae),ie(ne,ee))}function le(ne){ne.writing=!1,ne.writecb=null,ne.length-=ne.writelen,ne.writelen=0}function ce(ne,ee){var me=ne._writableState,Ae=me.sync,xe=me.writecb;if(typeof xe!="function")throw new F;if(le(me),ee)de(ne,me,Ae,ee,xe);else{var Z=ae(me)||ne.destroyed;!Z&&!me.corked&&!me.bufferProcessing&&me.bufferedRequest&&re(ne,me),Ae?D.nextTick($,ne,me,Z,xe):$(ne,me,Z,xe)}}function $(ne,ee,me,Ae){me||ve(ne,ee),ee.pendingcb--,Ae(),ie(ne,ee)}function ve(ne,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,ne.emit("drain"))}function re(ne,ee){ee.bufferProcessing=!0;var me=ee.bufferedRequest;if(ne._writev&&me&&me.next){var Ae=ee.bufferedRequestCount,xe=new Array(Ae),Z=ee.corkedRequestsFree;Z.entry=me;for(var U=0,M=!0;me;)xe[U]=me,me.isBuf||(M=!1),me=me.next,U+=1;xe.allBuffers=M,Y(ne,ee,!0,ee.length,xe,"",Z.finish),ee.pendingcb++,ee.lastBufferedRequest=null,Z.next?(ee.corkedRequestsFree=Z.next,Z.next=null):ee.corkedRequestsFree=new s(ee),ee.bufferedRequestCount=0}else{for(;me;){var G=me.chunk,z=me.encoding,ye=me.callback,Fe=ee.objectMode?1:G.length;if(Y(ne,ee,!1,Fe,G,z,ye),me=me.next,ee.bufferedRequestCount--,ee.writing)break}me===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=me,ee.bufferProcessing=!1}pe.prototype._write=function(ne,ee,me){me(new I("_write()"))},pe.prototype._writev=null,pe.prototype.end=function(ne,ee,me){var Ae=this._writableState;return typeof ne=="function"?(me=ne,ne=null,ee=null):typeof ee=="function"&&(me=ee,ee=null),ne!=null&&this.write(ne,ee),Ae.corked&&(Ae.corked=1,this.uncork()),Ae.ending||oe(this,Ae,me),this},Object.defineProperty(pe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ae(ne){return ne.ending&&ne.length===0&&ne.bufferedRequest===null&&!ne.finished&&!ne.writing}function he(ne,ee){ne._final(function(me){ee.pendingcb--,me&&B(ne,me),ee.prefinished=!0,ne.emit("prefinish"),ie(ne,ee)})}function fe(ne,ee){!ee.prefinished&&!ee.finalCalled&&(typeof ne._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,D.nextTick(he,ne,ee)):(ee.prefinished=!0,ne.emit("prefinish")))}function ie(ne,ee){var me=ae(ee);if(me&&(fe(ne,ee),ee.pendingcb===0&&(ee.finished=!0,ne.emit("finish"),ee.autoDestroy))){var Ae=ne._readableState;(!Ae||Ae.autoDestroy&&Ae.endEmitted)&&ne.destroy()}return me}function oe(ne,ee,me){ee.ending=!0,ie(ne,ee),me&&(ee.finished?D.nextTick(me):ne.once("finish",me)),ee.ended=!0,ne.writable=!1}function ke(ne,ee,me){var Ae=ne.entry;for(ne.entry=null;Ae;){var xe=Ae.callback;ee.pendingcb--,xe(me),Ae=Ae.next}ee.corkedRequestsFree.next=ne}Object.defineProperty(pe.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){this._writableState&&(this._writableState.destroyed=ee)}}),pe.prototype.destroy=w.destroy,pe.prototype._undestroy=w.undestroy,pe.prototype._destroy=function(ne,ee){ee(ne)}}).call(this)}).call(this,P("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":97,"./_stream_duplex":98,"./internal/streams/destroy":105,"./internal/streams/state":109,"./internal/streams/stream":110,_process:75,buffer:8,inherits:36,"util-deprecate":133}],103:[function(P,X,J){(function(D){(function(){"use strict";var O;function A(_,E,Q){return E=s(E),E in _?Object.defineProperty(_,E,{value:Q,enumerable:!0,configurable:!0,writable:!0}):_[E]=Q,_}function s(_){var E=c(_,"string");return typeof E=="symbol"?E:String(E)}function c(_,E){if(typeof _!="object"||_===null)return _;var Q=_[Symbol.toPrimitive];if(Q!==void 0){var B=Q.call(_,E||"default");if(typeof B!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(_)}var e=P("./end-of-stream"),f=Symbol("lastResolve"),o=Symbol("lastReject"),h=Symbol("error"),d=Symbol("ended"),b=Symbol("lastPromise"),w=Symbol("handlePromise"),v=Symbol("stream");function l(_,E){return{value:_,done:E}}function x(_){var E=_[f];if(E!==null){var Q=_[v].read();Q!==null&&(_[b]=null,_[f]=null,_[o]=null,E(l(Q,!1)))}}function T(_){D.nextTick(x,_)}function I(_,E){return function(Q,B){_.then(function(){if(E[d]){Q(l(void 0,!0));return}E[w](Q,B)},B)}}var F=Object.getPrototypeOf(function(){}),L=Object.setPrototypeOf((O={get stream(){return this[v]},next:function(){var E=this,Q=this[h];if(Q!==null)return Promise.reject(Q);if(this[d])return Promise.resolve(l(void 0,!0));if(this[v].destroyed)return new Promise(function(W,pe){D.nextTick(function(){E[h]?pe(E[h]):W(l(void 0,!0))})});var B=this[b],q;if(B)q=new Promise(I(B,this));else{var K=this[v].read();if(K!==null)return Promise.resolve(l(K,!1));q=new Promise(this[w])}return this[b]=q,q}},A(O,Symbol.asyncIterator,function(){return this}),A(O,"return",function(){var E=this;return new Promise(function(Q,B){E[v].destroy(null,function(q){if(q){B(q);return}Q(l(void 0,!0))})})}),O),F),C=function(E){var Q,B=Object.create(L,(Q={},A(Q,v,{value:E,writable:!0}),A(Q,f,{value:null,writable:!0}),A(Q,o,{value:null,writable:!0}),A(Q,h,{value:null,writable:!0}),A(Q,d,{value:E._readableState.endEmitted,writable:!0}),A(Q,w,{value:function(K,W){var pe=B[v].read();pe?(B[b]=null,B[f]=null,B[o]=null,K(l(pe,!1))):(B[f]=K,B[o]=W)},writable:!0}),Q));return B[b]=null,e(E,function(q){if(q&&q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=B[o];K!==null&&(B[b]=null,B[f]=null,B[o]=null,K(q)),B[h]=q;return}var W=B[f];W!==null&&(B[b]=null,B[f]=null,B[o]=null,W(l(void 0,!0))),B[d]=!0}),E.on("readable",T.bind(null,B)),B};X.exports=C}).call(this)}).call(this,P("_process"))},{"./end-of-stream":106,_process:75}],104:[function(P,X,J){"use strict";function D(x,T){var I=Object.keys(x);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(x);T&&(F=F.filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable})),I.push.apply(I,F)}return I}function O(x){for(var T=1;T<arguments.length;T++){var I=arguments[T]!=null?arguments[T]:{};T%2?D(Object(I),!0).forEach(function(F){A(x,F,I[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(I)):D(Object(I)).forEach(function(F){Object.defineProperty(x,F,Object.getOwnPropertyDescriptor(I,F))})}return x}function A(x,T,I){return T=f(T),T in x?Object.defineProperty(x,T,{value:I,enumerable:!0,configurable:!0,writable:!0}):x[T]=I,x}function s(x,T){if(!(x instanceof T))throw new TypeError("Cannot call a class as a function")}function c(x,T){for(var I=0;I<T.length;I++){var F=T[I];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(x,f(F.key),F)}}function e(x,T,I){return T&&c(x.prototype,T),I&&c(x,I),Object.defineProperty(x,"prototype",{writable:!1}),x}function f(x){var T=o(x,"string");return typeof T=="symbol"?T:String(T)}function o(x,T){if(typeof x!="object"||x===null)return x;var I=x[Symbol.toPrimitive];if(I!==void 0){var F=I.call(x,T||"default");if(typeof F!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(x)}var h=P("buffer"),d=h.Buffer,b=P("util"),w=b.inspect,v=w&&w.custom||"inspect";function l(x,T,I){d.prototype.copy.call(x,T,I)}X.exports=function(){function x(){s(this,x),this.head=null,this.tail=null,this.length=0}return e(x,[{key:"push",value:function(I){var F={data:I,next:null};this.length>0?this.tail.next=F:this.head=F,this.tail=F,++this.length}},{key:"unshift",value:function(I){var F={data:I,next:this.head};this.length===0&&(this.tail=F),this.head=F,++this.length}},{key:"shift",value:function(){if(this.length!==0){var I=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,I}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(I){if(this.length===0)return"";for(var F=this.head,L=""+F.data;F=F.next;)L+=I+F.data;return L}},{key:"concat",value:function(I){if(this.length===0)return d.alloc(0);for(var F=d.allocUnsafe(I>>>0),L=this.head,C=0;L;)l(L.data,F,C),C+=L.data.length,L=L.next;return F}},{key:"consume",value:function(I,F){var L;return I<this.head.data.length?(L=this.head.data.slice(0,I),this.head.data=this.head.data.slice(I)):I===this.head.data.length?L=this.shift():L=F?this._getString(I):this._getBuffer(I),L}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(I){var F=this.head,L=1,C=F.data;for(I-=C.length;F=F.next;){var _=F.data,E=I>_.length?_.length:I;if(E===_.length?C+=_:C+=_.slice(0,I),I-=E,I===0){E===_.length?(++L,F.next?this.head=F.next:this.head=this.tail=null):(this.head=F,F.data=_.slice(E));break}++L}return this.length-=L,C}},{key:"_getBuffer",value:function(I){var F=d.allocUnsafe(I),L=this.head,C=1;for(L.data.copy(F),I-=L.data.length;L=L.next;){var _=L.data,E=I>_.length?_.length:I;if(_.copy(F,F.length-I,0,E),I-=E,I===0){E===_.length?(++C,L.next?this.head=L.next:this.head=this.tail=null):(this.head=L,L.data=_.slice(E));break}++C}return this.length-=C,F}},{key:v,value:function(I,F){return w(this,O(O({},F),{},{depth:0,customInspect:!1}))}}]),x}()},{buffer:8,util:3}],105:[function(P,X,J){(function(D){(function(){"use strict";function O(o,h){var d=this,b=this._readableState&&this._readableState.destroyed,w=this._writableState&&this._writableState.destroyed;return b||w?(h?h(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,D.nextTick(e,this,o)):D.nextTick(e,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(v){!h&&v?d._writableState?d._writableState.errorEmitted?D.nextTick(s,d):(d._writableState.errorEmitted=!0,D.nextTick(A,d,v)):D.nextTick(A,d,v):h?(D.nextTick(s,d),h(v)):D.nextTick(s,d)}),this)}function A(o,h){e(o,h),s(o)}function s(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function e(o,h){o.emit("error",h)}function f(o,h){var d=o._readableState,b=o._writableState;d&&d.autoDestroy||b&&b.autoDestroy?o.destroy(h):o.emit("error",h)}X.exports={destroy:O,undestroy:c,errorOrDestroy:f}}).call(this)}).call(this,P("_process"))},{_process:75}],106:[function(P,X,J){"use strict";var D=P("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function O(e){var f=!1;return function(){if(!f){f=!0;for(var o=arguments.length,h=new Array(o),d=0;d<o;d++)h[d]=arguments[d];e.apply(this,h)}}}function A(){}function s(e){return e.setHeader&&typeof e.abort=="function"}function c(e,f,o){if(typeof f=="function")return c(e,null,f);f||(f={}),o=O(o||A);var h=f.readable||f.readable!==!1&&e.readable,d=f.writable||f.writable!==!1&&e.writable,b=function(){e.writable||v()},w=e._writableState&&e._writableState.finished,v=function(){d=!1,w=!0,h||o.call(e)},l=e._readableState&&e._readableState.endEmitted,x=function(){h=!1,l=!0,d||o.call(e)},T=function(C){o.call(e,C)},I=function(){var C;if(h&&!l)return(!e._readableState||!e._readableState.ended)&&(C=new D),o.call(e,C);if(d&&!w)return(!e._writableState||!e._writableState.ended)&&(C=new D),o.call(e,C)},F=function(){e.req.on("finish",v)};return s(e)?(e.on("complete",v),e.on("abort",I),e.req?F():e.on("request",F)):d&&!e._writableState&&(e.on("end",b),e.on("close",b)),e.on("end",x),e.on("finish",v),f.error!==!1&&e.on("error",T),e.on("close",I),function(){e.removeListener("complete",v),e.removeListener("abort",I),e.removeListener("request",F),e.req&&e.req.removeListener("finish",v),e.removeListener("end",b),e.removeListener("close",b),e.removeListener("finish",v),e.removeListener("end",x),e.removeListener("error",T),e.removeListener("close",I)}}X.exports=c},{"../../../errors":97}],107:[function(P,X,J){X.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],108:[function(P,X,J){"use strict";var D;function O(v){var l=!1;return function(){l||(l=!0,v.apply(void 0,arguments))}}var A=P("../../../errors").codes,s=A.ERR_MISSING_ARGS,c=A.ERR_STREAM_DESTROYED;function e(v){if(v)throw v}function f(v){return v.setHeader&&typeof v.abort=="function"}function o(v,l,x,T){T=O(T);var I=!1;v.on("close",function(){I=!0}),D===void 0&&(D=P("./end-of-stream")),D(v,{readable:l,writable:x},function(L){if(L)return T(L);I=!0,T()});var F=!1;return function(L){if(!I&&!F){if(F=!0,f(v))return v.abort();if(typeof v.destroy=="function")return v.destroy();T(L||new c("pipe"))}}}function h(v){v()}function d(v,l){return v.pipe(l)}function b(v){return!v.length||typeof v[v.length-1]!="function"?e:v.pop()}function w(){for(var v=arguments.length,l=new Array(v),x=0;x<v;x++)l[x]=arguments[x];var T=b(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new s("streams");var I,F=l.map(function(L,C){var _=C<l.length-1,E=C>0;return o(L,_,E,function(Q){I||(I=Q),Q&&F.forEach(h),!_&&(F.forEach(h),T(I))})});return l.reduce(d)}X.exports=w},{"../../../errors":97,"./end-of-stream":106}],109:[function(P,X,J){"use strict";var D=P("../../../errors").codes.ERR_INVALID_OPT_VALUE;function O(s,c,e){return s.highWaterMark!=null?s.highWaterMark:c?s[e]:null}function A(s,c,e,f){var o=O(c,f,e);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var h=f?e:"highWaterMark";throw new D(h,o)}return Math.floor(o)}return s.objectMode?16:16*1024}X.exports={getHighWaterMark:A}},{"../../../errors":97}],110:[function(P,X,J){X.exports=P("events").EventEmitter},{events:22}],111:[function(P,X,J){(function(D){(function(){var O=P("./lib/request"),A=P("./lib/response"),s=P("xtend"),c=P("builtin-status-codes"),e=P("url"),f=J;f.request=function(o,h){typeof o=="string"?o=e.parse(o):o=s(o);var d=D.location.protocol.search(/^https?:$/)===-1?"http:":"",b=o.protocol||d,w=o.hostname||o.host,v=o.port,l=o.path||"/";w&&w.indexOf(":")!==-1&&(w="["+w+"]"),o.url=(w?b+"//"+w:"")+(v?":"+v:"")+l,o.method=(o.method||"GET").toUpperCase(),o.headers=o.headers||{};var x=new O(o);return h&&x.on("response",h),x},f.get=function(h,d){var b=f.request(h,d);return b.end(),b},f.ClientRequest=O,f.IncomingMessage=A.IncomingMessage,f.Agent=function(){},f.Agent.defaultMaxSockets=4,f.globalAgent=new f.Agent,f.STATUS_CODES=c,f.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./lib/request":113,"./lib/response":114,"builtin-status-codes":9,url:132,xtend:135}],112:[function(P,X,J){(function(D){(function(){J.fetch=c(D.fetch)&&c(D.ReadableStream),J.writableStream=c(D.WritableStream),J.abortController=c(D.AbortController);var O;function A(){if(O!==void 0)return O;if(D.XMLHttpRequest){O=new D.XMLHttpRequest;try{O.open("GET",D.XDomainRequest?"/":"https://example.com")}catch{O=null}}else O=null;return O}function s(e){var f=A();if(!f)return!1;try{return f.responseType=e,f.responseType===e}catch{}return!1}J.arraybuffer=J.fetch||s("arraybuffer"),J.msstream=!J.fetch&&s("ms-stream"),J.mozchunkedarraybuffer=!J.fetch&&s("moz-chunked-arraybuffer"),J.overrideMimeType=J.fetch||(A()?c(A().overrideMimeType):!1);function c(e){return typeof e=="function"}O=null}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],113:[function(P,X,J){(function(D,O,A){(function(){var s=P("./capability"),c=P("inherits"),e=P("./response"),f=P("readable-stream"),o=e.IncomingMessage,h=e.readyStates;function d(l,x){return s.fetch&&x?"fetch":s.mozchunkedarraybuffer?"moz-chunked-arraybuffer":s.msstream?"ms-stream":s.arraybuffer&&l?"arraybuffer":"text"}var b=X.exports=function(l){var x=this;f.Writable.call(x),x._opts=l,x._body=[],x._headers={},l.auth&&x.setHeader("Authorization","Basic "+A.from(l.auth).toString("base64")),Object.keys(l.headers).forEach(function(F){x.setHeader(F,l.headers[F])});var T,I=!0;if(l.mode==="disable-fetch"||"requestTimeout"in l&&!s.abortController)I=!1,T=!0;else if(l.mode==="prefer-streaming")T=!1;else if(l.mode==="allow-wrong-content-type")T=!s.overrideMimeType;else if(!l.mode||l.mode==="default"||l.mode==="prefer-fast")T=!0;else throw new Error("Invalid value for opts.mode");x._mode=d(T,I),x._fetchTimer=null,x._socketTimeout=null,x._socketTimer=null,x.on("finish",function(){x._onFinish()})};c(b,f.Writable),b.prototype.setHeader=function(l,x){var T=this,I=l.toLowerCase();v.indexOf(I)===-1&&(T._headers[I]={name:l,value:x})},b.prototype.getHeader=function(l){var x=this._headers[l.toLowerCase()];return x?x.value:null},b.prototype.removeHeader=function(l){var x=this;delete x._headers[l.toLowerCase()]},b.prototype._onFinish=function(){var l=this;if(!l._destroyed){var x=l._opts;"timeout"in x&&x.timeout!==0&&l.setTimeout(x.timeout);var T=l._headers,I=null;x.method!=="GET"&&x.method!=="HEAD"&&(I=new Blob(l._body,{type:(T["content-type"]||{}).value||""}));var F=[];if(Object.keys(T).forEach(function(E){var Q=T[E].name,B=T[E].value;Array.isArray(B)?B.forEach(function(q){F.push([Q,q])}):F.push([Q,B])}),l._mode==="fetch"){var L=null;if(s.abortController){var C=new AbortController;L=C.signal,l._fetchAbortController=C,"requestTimeout"in x&&x.requestTimeout!==0&&(l._fetchTimer=O.setTimeout(function(){l.emit("requestTimeout"),l._fetchAbortController&&l._fetchAbortController.abort()},x.requestTimeout))}O.fetch(l._opts.url,{method:l._opts.method,headers:F,body:I||void 0,mode:"cors",credentials:x.withCredentials?"include":"same-origin",signal:L}).then(function(E){l._fetchResponse=E,l._resetTimers(!1),l._connect()},function(E){l._resetTimers(!0),l._destroyed||l.emit("error",E)})}else{var _=l._xhr=new O.XMLHttpRequest;try{_.open(l._opts.method,l._opts.url,!0)}catch(E){D.nextTick(function(){l.emit("error",E)});return}"responseType"in _&&(_.responseType=l._mode),"withCredentials"in _&&(_.withCredentials=!!x.withCredentials),l._mode==="text"&&"overrideMimeType"in _&&_.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in x&&(_.timeout=x.requestTimeout,_.ontimeout=function(){l.emit("requestTimeout")}),F.forEach(function(E){_.setRequestHeader(E[0],E[1])}),l._response=null,_.onreadystatechange=function(){switch(_.readyState){case h.LOADING:case h.DONE:l._onXHRProgress();break}},l._mode==="moz-chunked-arraybuffer"&&(_.onprogress=function(){l._onXHRProgress()}),_.onerror=function(){l._destroyed||(l._resetTimers(!0),l.emit("error",new Error("XHR error")))};try{_.send(I)}catch(E){D.nextTick(function(){l.emit("error",E)});return}}}};function w(l){try{var x=l.status;return x!==null&&x!==0}catch{return!1}}b.prototype._onXHRProgress=function(){var l=this;l._resetTimers(!1),!(!w(l._xhr)||l._destroyed)&&(l._response||l._connect(),l._response._onXHRProgress(l._resetTimers.bind(l)))},b.prototype._connect=function(){var l=this;l._destroyed||(l._response=new o(l._xhr,l._fetchResponse,l._mode,l._resetTimers.bind(l)),l._response.on("error",function(x){l.emit("error",x)}),l.emit("response",l._response))},b.prototype._write=function(l,x,T){var I=this;I._body.push(l),T()},b.prototype._resetTimers=function(l){var x=this;O.clearTimeout(x._socketTimer),x._socketTimer=null,l?(O.clearTimeout(x._fetchTimer),x._fetchTimer=null):x._socketTimeout&&(x._socketTimer=O.setTimeout(function(){x.emit("timeout")},x._socketTimeout))},b.prototype.abort=b.prototype.destroy=function(l){var x=this;x._destroyed=!0,x._resetTimers(!0),x._response&&(x._response._destroyed=!0),x._xhr?x._xhr.abort():x._fetchAbortController&&x._fetchAbortController.abort(),l&&x.emit("error",l)},b.prototype.end=function(l,x,T){var I=this;typeof l=="function"&&(T=l,l=void 0),f.Writable.prototype.end.call(I,l,x,T)},b.prototype.setTimeout=function(l,x){var T=this;x&&T.once("timeout",x),T._socketTimeout=l,T._resetTimers(!1)},b.prototype.flushHeaders=function(){},b.prototype.setNoDelay=function(){},b.prototype.setSocketKeepAlive=function(){};var v=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this)}).call(this,P("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},P("buffer").Buffer)},{"./capability":112,"./response":114,_process:75,buffer:8,inherits:36,"readable-stream":129}],114:[function(P,X,J){(function(D,O,A){(function(){var s=P("./capability"),c=P("inherits"),e=P("readable-stream"),f=J.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},o=J.IncomingMessage=function(h,d,b,w){var v=this;if(e.Readable.call(v),v._mode=b,v.headers={},v.rawHeaders=[],v.trailers={},v.rawTrailers=[],v.on("end",function(){D.nextTick(function(){v.emit("close")})}),b==="fetch"){let C=function(){x.read().then(function(_){if(!v._destroyed){if(w(_.done),_.done){v.push(null);return}v.push(A.from(_.value)),C()}}).catch(function(_){w(!0),v._destroyed||v.emit("error",_)})};var L=C;if(v._fetchResponse=d,v.url=d.url,v.statusCode=d.status,v.statusMessage=d.statusText,d.headers.forEach(function(_,E){v.headers[E.toLowerCase()]=_,v.rawHeaders.push(E,_)}),s.writableStream){var l=new WritableStream({write:function(_){return w(!1),new Promise(function(E,Q){v._destroyed?Q():v.push(A.from(_))?E():v._resumeFetch=E})},close:function(){w(!0),v._destroyed||v.push(null)},abort:function(_){w(!0),v._destroyed||v.emit("error",_)}});try{d.body.pipeTo(l).catch(function(_){w(!0),v._destroyed||v.emit("error",_)});return}catch{}}var x=d.body.getReader();C()}else{v._xhr=h,v._pos=0,v.url=h.responseURL,v.statusCode=h.status,v.statusMessage=h.statusText;var T=h.getAllResponseHeaders().split(/\r?\n/);if(T.forEach(function(C){var _=C.match(/^([^:]+):\s*(.*)/);if(_){var E=_[1].toLowerCase();E==="set-cookie"?(v.headers[E]===void 0&&(v.headers[E]=[]),v.headers[E].push(_[2])):v.headers[E]!==void 0?v.headers[E]+=", "+_[2]:v.headers[E]=_[2],v.rawHeaders.push(_[1],_[2])}}),v._charset="x-user-defined",!s.overrideMimeType){var I=v.rawHeaders["mime-type"];if(I){var F=I.match(/;\s*charset=([^;])(;|$)/);F&&(v._charset=F[1].toLowerCase())}v._charset||(v._charset="utf-8")}}};c(o,e.Readable),o.prototype._read=function(){var h=this,d=h._resumeFetch;d&&(h._resumeFetch=null,d())},o.prototype._onXHRProgress=function(h){var d=this,b=d._xhr,w=null;switch(d._mode){case"text":if(w=b.responseText,w.length>d._pos){var v=w.substr(d._pos);if(d._charset==="x-user-defined"){for(var l=A.alloc(v.length),x=0;x<v.length;x++)l[x]=v.charCodeAt(x)&255;d.push(l)}else d.push(v,d._charset);d._pos=w.length}break;case"arraybuffer":if(b.readyState!==f.DONE||!b.response)break;w=b.response,d.push(A.from(new Uint8Array(w)));break;case"moz-chunked-arraybuffer":if(w=b.response,b.readyState!==f.LOADING||!w)break;d.push(A.from(new Uint8Array(w)));break;case"ms-stream":if(w=b.response,b.readyState!==f.LOADING)break;var T=new O.MSStreamReader;T.onprogress=function(){T.result.byteLength>d._pos&&(d.push(A.from(new Uint8Array(T.result.slice(d._pos)))),d._pos=T.result.byteLength)},T.onload=function(){h(!0),d.push(null)},T.readAsArrayBuffer(w);break}d._xhr.readyState===f.DONE&&d._mode!=="ms-stream"&&(h(!0),d.push(null))}}).call(this)}).call(this,P("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},P("buffer").Buffer)},{"./capability":112,_process:75,buffer:8,inherits:36,"readable-stream":129}],115:[function(P,X,J){arguments[4][97][0].apply(J,arguments)},{dup:97}],116:[function(P,X,J){arguments[4][98][0].apply(J,arguments)},{"./_stream_readable":118,"./_stream_writable":120,_process:75,dup:98,inherits:36}],117:[function(P,X,J){arguments[4][99][0].apply(J,arguments)},{"./_stream_transform":119,dup:99,inherits:36}],118:[function(P,X,J){arguments[4][100][0].apply(J,arguments)},{"../errors":115,"./_stream_duplex":116,"./internal/streams/async_iterator":121,"./internal/streams/buffer_list":122,"./internal/streams/destroy":123,"./internal/streams/from":125,"./internal/streams/state":127,"./internal/streams/stream":128,_process:75,buffer:8,dup:100,events:22,inherits:36,"string_decoder/":130,util:3}],119:[function(P,X,J){arguments[4][101][0].apply(J,arguments)},{"../errors":115,"./_stream_duplex":116,dup:101,inherits:36}],120:[function(P,X,J){arguments[4][102][0].apply(J,arguments)},{"../errors":115,"./_stream_duplex":116,"./internal/streams/destroy":123,"./internal/streams/state":127,"./internal/streams/stream":128,_process:75,buffer:8,dup:102,inherits:36,"util-deprecate":133}],121:[function(P,X,J){arguments[4][103][0].apply(J,arguments)},{"./end-of-stream":124,_process:75,dup:103}],122:[function(P,X,J){arguments[4][104][0].apply(J,arguments)},{buffer:8,dup:104,util:3}],123:[function(P,X,J){arguments[4][105][0].apply(J,arguments)},{_process:75,dup:105}],124:[function(P,X,J){arguments[4][106][0].apply(J,arguments)},{"../../../errors":115,dup:106}],125:[function(P,X,J){arguments[4][107][0].apply(J,arguments)},{dup:107}],126:[function(P,X,J){arguments[4][108][0].apply(J,arguments)},{"../../../errors":115,"./end-of-stream":124,dup:108}],127:[function(P,X,J){arguments[4][109][0].apply(J,arguments)},{"../../../errors":115,dup:109}],128:[function(P,X,J){arguments[4][110][0].apply(J,arguments)},{dup:110,events:22}],129:[function(P,X,J){J=X.exports=P("./lib/_stream_readable.js"),J.Stream=J,J.Readable=J,J.Writable=P("./lib/_stream_writable.js"),J.Duplex=P("./lib/_stream_duplex.js"),J.Transform=P("./lib/_stream_transform.js"),J.PassThrough=P("./lib/_stream_passthrough.js"),J.finished=P("./lib/internal/streams/end-of-stream.js"),J.pipeline=P("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":116,"./lib/_stream_passthrough.js":117,"./lib/_stream_readable.js":118,"./lib/_stream_transform.js":119,"./lib/_stream_writable.js":120,"./lib/internal/streams/end-of-stream.js":124,"./lib/internal/streams/pipeline.js":126}],130:[function(P,X,J){"use strict";var D=P("safe-buffer").Buffer,O=D.isEncoding||function(F){switch(F=""+F,F&&F.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function A(F){if(!F)return"utf8";for(var L;;)switch(F){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return F;default:if(L)return;F=(""+F).toLowerCase(),L=!0}}function s(F){var L=A(F);if(typeof L!="string"&&(D.isEncoding===O||!O(F)))throw new Error("Unknown encoding: "+F);return L||F}J.StringDecoder=c;function c(F){this.encoding=s(F);var L;switch(this.encoding){case"utf16le":this.text=w,this.end=v,L=4;break;case"utf8":this.fillLast=h,L=4;break;case"base64":this.text=l,this.end=x,L=3;break;default:this.write=T,this.end=I;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=D.allocUnsafe(L)}c.prototype.write=function(F){if(F.length===0)return"";var L,C;if(this.lastNeed){if(L=this.fillLast(F),L===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<F.length?L?L+this.text(F,C):this.text(F,C):L||""},c.prototype.end=b,c.prototype.text=d,c.prototype.fillLast=function(F){if(this.lastNeed<=F.length)return F.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);F.copy(this.lastChar,this.lastTotal-this.lastNeed,0,F.length),this.lastNeed-=F.length};function e(F){return F<=127?0:F>>5===6?2:F>>4===14?3:F>>3===30?4:F>>6===2?-1:-2}function f(F,L,C){var _=L.length-1;if(_<C)return 0;var E=e(L[_]);return E>=0?(E>0&&(F.lastNeed=E-1),E):--_<C||E===-2?0:(E=e(L[_]),E>=0?(E>0&&(F.lastNeed=E-2),E):--_<C||E===-2?0:(E=e(L[_]),E>=0?(E>0&&(E===2?E=0:F.lastNeed=E-3),E):0))}function o(F,L,C){if((L[0]&192)!==128)return F.lastNeed=0,"\uFFFD";if(F.lastNeed>1&&L.length>1){if((L[1]&192)!==128)return F.lastNeed=1,"\uFFFD";if(F.lastNeed>2&&L.length>2&&(L[2]&192)!==128)return F.lastNeed=2,"\uFFFD"}}function h(F){var L=this.lastTotal-this.lastNeed,C=o(this,F,L);if(C!==void 0)return C;if(this.lastNeed<=F.length)return F.copy(this.lastChar,L,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);F.copy(this.lastChar,L,0,F.length),this.lastNeed-=F.length}function d(F,L){var C=f(this,F,L);if(!this.lastNeed)return F.toString("utf8",L);this.lastTotal=C;var _=F.length-(C-this.lastNeed);return F.copy(this.lastChar,0,_),F.toString("utf8",L,_)}function b(F){var L=F&&F.length?this.write(F):"";return this.lastNeed?L+"\uFFFD":L}function w(F,L){if((F.length-L)%2===0){var C=F.toString("utf16le",L);if(C){var _=C.charCodeAt(C.length-1);if(_>=55296&&_<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=F[F.length-2],this.lastChar[1]=F[F.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=F[F.length-1],F.toString("utf16le",L,F.length-1)}function v(F){var L=F&&F.length?this.write(F):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return L+this.lastChar.toString("utf16le",0,C)}return L}function l(F,L){var C=(F.length-L)%3;return C===0?F.toString("base64",L):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=F[F.length-1]:(this.lastChar[0]=F[F.length-2],this.lastChar[1]=F[F.length-1]),F.toString("base64",L,F.length-C))}function x(F){var L=F&&F.length?this.write(F):"";return this.lastNeed?L+this.lastChar.toString("base64",0,3-this.lastNeed):L}function T(F){return F.toString(this.encoding)}function I(F){return F&&F.length?this.write(F):""}},{"safe-buffer":92}],131:[function(P,X,J){(function(D,O){(function(){var A=P("process/browser.js").nextTick,s=Function.prototype.apply,c=Array.prototype.slice,e={},f=0;J.setTimeout=function(){return new o(s.call(setTimeout,window,arguments),clearTimeout)},J.setInterval=function(){return new o(s.call(setInterval,window,arguments),clearInterval)},J.clearTimeout=J.clearInterval=function(h){h.close()};function o(h,d){this._id=h,this._clearFn=d}o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},J.enroll=function(h,d){clearTimeout(h._idleTimeoutId),h._idleTimeout=d},J.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},J._unrefActive=J.active=function(h){clearTimeout(h._idleTimeoutId);var d=h._idleTimeout;d>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},d))},J.setImmediate=typeof D=="function"?D:function(h){var d=f++,b=arguments.length<2?!1:c.call(arguments,1);return e[d]=!0,A(function(){e[d]&&(b?h.apply(null,b):h.call(null),J.clearImmediate(d))}),d},J.clearImmediate=typeof O=="function"?O:function(h){delete e[h]}}).call(this)}).call(this,P("timers").setImmediate,P("timers").clearImmediate)},{"process/browser.js":75,timers:131}],132:[function(P,X,J){"use strict";var D=P("punycode");function O(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var A=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,e=["<",">",'"',"`"," ","\r",`
`,"	"],f=["{","}","|","\\","^","`"].concat(e),o=["'"].concat(f),h=["%","/","?",";","#"].concat(o),d=["/","?","#"],b=255,w=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,l={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},T={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},I=P("qs");function F(E,Q,B){if(E&&typeof E=="object"&&E instanceof O)return E;var q=new O;return q.parse(E,Q,B),q}O.prototype.parse=function(E,Q,B){if(typeof E!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof E);var q=E.indexOf("?"),K=q!==-1&&q<E.indexOf("#")?"?":"#",W=E.split(K),pe=/\\/g;W[0]=W[0].replace(pe,"/"),E=W.join(K);var te=E;if(te=te.trim(),!B&&E.split("#").length===1){var ue=c.exec(te);if(ue)return this.path=te,this.href=te,this.pathname=ue[1],ue[2]?(this.search=ue[2],Q?this.query=I.parse(this.search.substr(1)):this.query=this.search.substr(1)):Q&&(this.search="",this.query={}),this}var se=A.exec(te);if(se){se=se[0];var be=se.toLowerCase();this.protocol=be,te=te.substr(se.length)}if(B||se||te.match(/^\/\/[^@/]+@[^@/]+/)){var Y=te.substr(0,2)==="//";Y&&!(se&&x[se])&&(te=te.substr(2),this.slashes=!0)}if(!x[se]&&(Y||se&&!T[se])){for(var de=-1,le=0;le<d.length;le++){var ce=te.indexOf(d[le]);ce!==-1&&(de===-1||ce<de)&&(de=ce)}var $,ve;de===-1?ve=te.lastIndexOf("@"):ve=te.lastIndexOf("@",de),ve!==-1&&($=te.slice(0,ve),te=te.slice(ve+1),this.auth=decodeURIComponent($)),de=-1;for(var le=0;le<h.length;le++){var ce=te.indexOf(h[le]);ce!==-1&&(de===-1||ce<de)&&(de=ce)}de===-1&&(de=te.length),this.host=te.slice(0,de),te=te.slice(de),this.parseHost(),this.hostname=this.hostname||"";var re=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!re)for(var ae=this.hostname.split(/\./),le=0,he=ae.length;le<he;le++){var fe=ae[le];if(fe&&!fe.match(w)){for(var ie="",oe=0,ke=fe.length;oe<ke;oe++)fe.charCodeAt(oe)>127?ie+="x":ie+=fe[oe];if(!ie.match(w)){var ne=ae.slice(0,le),ee=ae.slice(le+1),me=fe.match(v);me&&(ne.push(me[1]),ee.unshift(me[2])),ee.length&&(te="/"+ee.join(".")+te),this.hostname=ne.join(".");break}}}this.hostname.length>b?this.hostname="":this.hostname=this.hostname.toLowerCase(),re||(this.hostname=D.toASCII(this.hostname));var Ae=this.port?":"+this.port:"",xe=this.hostname||"";this.host=xe+Ae,this.href+=this.host,re&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),te[0]!=="/"&&(te="/"+te))}if(!l[be])for(var le=0,he=o.length;le<he;le++){var Z=o[le];if(te.indexOf(Z)!==-1){var U=encodeURIComponent(Z);U===Z&&(U=escape(Z)),te=te.split(Z).join(U)}}var M=te.indexOf("#");M!==-1&&(this.hash=te.substr(M),te=te.slice(0,M));var G=te.indexOf("?");if(G!==-1?(this.search=te.substr(G),this.query=te.substr(G+1),Q&&(this.query=I.parse(this.query)),te=te.slice(0,G)):Q&&(this.search="",this.query={}),te&&(this.pathname=te),T[be]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Ae=this.pathname||"",z=this.search||"";this.path=Ae+z}return this.href=this.format(),this};function L(E){return typeof E=="string"&&(E=F(E)),E instanceof O?E.format():O.prototype.format.call(E)}O.prototype.format=function(){var E=this.auth||"";E&&(E=encodeURIComponent(E),E=E.replace(/%3A/i,":"),E+="@");var Q=this.protocol||"",B=this.pathname||"",q=this.hash||"",K=!1,W="";this.host?K=E+this.host:this.hostname&&(K=E+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(K+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(W=I.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var pe=this.search||W&&"?"+W||"";return Q&&Q.substr(-1)!==":"&&(Q+=":"),this.slashes||(!Q||T[Q])&&K!==!1?(K="//"+(K||""),B&&B.charAt(0)!=="/"&&(B="/"+B)):K||(K=""),q&&q.charAt(0)!=="#"&&(q="#"+q),pe&&pe.charAt(0)!=="?"&&(pe="?"+pe),B=B.replace(/[?#]/g,function(te){return encodeURIComponent(te)}),pe=pe.replace("#","%23"),Q+K+B+pe+q};function C(E,Q){return F(E,!1,!0).resolve(Q)}O.prototype.resolve=function(E){return this.resolveObject(F(E,!1,!0)).format()};function _(E,Q){return E?F(E,!1,!0).resolveObject(Q):Q}O.prototype.resolveObject=function(E){if(typeof E=="string"){var Q=new O;Q.parse(E,!1,!0),E=Q}for(var B=new O,q=Object.keys(this),K=0;K<q.length;K++){var W=q[K];B[W]=this[W]}if(B.hash=E.hash,E.href==="")return B.href=B.format(),B;if(E.slashes&&!E.protocol){for(var pe=Object.keys(E),te=0;te<pe.length;te++){var ue=pe[te];ue!=="protocol"&&(B[ue]=E[ue])}return T[B.protocol]&&B.hostname&&!B.pathname&&(B.pathname="/",B.path=B.pathname),B.href=B.format(),B}if(E.protocol&&E.protocol!==B.protocol){if(!T[E.protocol]){for(var se=Object.keys(E),be=0;be<se.length;be++){var Y=se[be];B[Y]=E[Y]}return B.href=B.format(),B}if(B.protocol=E.protocol,!E.host&&!x[E.protocol]){for(var he=(E.pathname||"").split("/");he.length&&!(E.host=he.shift()););E.host||(E.host=""),E.hostname||(E.hostname=""),he[0]!==""&&he.unshift(""),he.length<2&&he.unshift(""),B.pathname=he.join("/")}else B.pathname=E.pathname;if(B.search=E.search,B.query=E.query,B.host=E.host||"",B.auth=E.auth,B.hostname=E.hostname||E.host,B.port=E.port,B.pathname||B.search){var de=B.pathname||"",le=B.search||"";B.path=de+le}return B.slashes=B.slashes||E.slashes,B.href=B.format(),B}var ce=B.pathname&&B.pathname.charAt(0)==="/",$=E.host||E.pathname&&E.pathname.charAt(0)==="/",ve=$||ce||B.host&&E.pathname,re=ve,ae=B.pathname&&B.pathname.split("/")||[],he=E.pathname&&E.pathname.split("/")||[],fe=B.protocol&&!T[B.protocol];if(fe&&(B.hostname="",B.port=null,B.host&&(ae[0]===""?ae[0]=B.host:ae.unshift(B.host)),B.host="",E.protocol&&(E.hostname=null,E.port=null,E.host&&(he[0]===""?he[0]=E.host:he.unshift(E.host)),E.host=null),ve=ve&&(he[0]===""||ae[0]==="")),$)B.host=E.host||E.host===""?E.host:B.host,B.hostname=E.hostname||E.hostname===""?E.hostname:B.hostname,B.search=E.search,B.query=E.query,ae=he;else if(he.length)ae||(ae=[]),ae.pop(),ae=ae.concat(he),B.search=E.search,B.query=E.query;else if(E.search!=null){if(fe){B.host=ae.shift(),B.hostname=B.host;var ie=B.host&&B.host.indexOf("@")>0?B.host.split("@"):!1;ie&&(B.auth=ie.shift(),B.hostname=ie.shift(),B.host=B.hostname)}return B.search=E.search,B.query=E.query,(B.pathname!==null||B.search!==null)&&(B.path=(B.pathname?B.pathname:"")+(B.search?B.search:"")),B.href=B.format(),B}if(!ae.length)return B.pathname=null,B.search?B.path="/"+B.search:B.path=null,B.href=B.format(),B;for(var oe=ae.slice(-1)[0],ke=(B.host||E.host||ae.length>1)&&(oe==="."||oe==="..")||oe==="",ne=0,ee=ae.length;ee>=0;ee--)oe=ae[ee],oe==="."?ae.splice(ee,1):oe===".."?(ae.splice(ee,1),ne++):ne&&(ae.splice(ee,1),ne--);if(!ve&&!re)for(;ne--;ne)ae.unshift("..");ve&&ae[0]!==""&&(!ae[0]||ae[0].charAt(0)!=="/")&&ae.unshift(""),ke&&ae.join("/").substr(-1)!=="/"&&ae.push("");var me=ae[0]===""||ae[0]&&ae[0].charAt(0)==="/";if(fe){B.hostname=me?"":ae.length?ae.shift():"",B.host=B.hostname;var ie=B.host&&B.host.indexOf("@")>0?B.host.split("@"):!1;ie&&(B.auth=ie.shift(),B.hostname=ie.shift(),B.host=B.hostname)}return ve=ve||B.host&&ae.length,ve&&!me&&ae.unshift(""),ae.length>0?B.pathname=ae.join("/"):(B.pathname=null,B.path=null),(B.pathname!==null||B.search!==null)&&(B.path=(B.pathname?B.pathname:"")+(B.search?B.search:"")),B.auth=E.auth||B.auth,B.slashes=B.slashes||E.slashes,B.href=B.format(),B},O.prototype.parseHost=function(){var E=this.host,Q=s.exec(E);Q&&(Q=Q[0],Q!==":"&&(this.port=Q.substr(1)),E=E.substr(0,E.length-Q.length)),E&&(this.hostname=E)},J.parse=F,J.resolve=C,J.resolveObject=_,J.format=L,J.Url=O},{punycode:76,qs:78}],133:[function(P,X,J){(function(D){(function(){X.exports=O;function O(s,c){if(A("noDeprecation"))return s;var e=!1;function f(){if(!e){if(A("throwDeprecation"))throw new Error(c);A("traceDeprecation")?console.trace(c):console.warn(c),e=!0}return s.apply(this,arguments)}return f}function A(s){try{if(!D.localStorage)return!1}catch{return!1}var c=D.localStorage[s];return c==null?!1:String(c).toLowerCase()==="true"}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],134:[function(P,X,J){(function(D){(function(){"use strict";var O=P("for-each"),A=P("available-typed-arrays"),s=P("call-bind"),c=P("call-bind/callBound"),e=P("gopd"),f=c("Object.prototype.toString"),o=P("has-tostringtag/shams")(),h=typeof globalThis>"u"?D:globalThis,d=A(),b=c("String.prototype.slice"),w=Object.getPrototypeOf,v=c("Array.prototype.indexOf",!0)||function(F,L){for(var C=0;C<F.length;C+=1)if(F[C]===L)return C;return-1},l={__proto__:null};o&&e&&w?O(d,function(I){var F=new h[I];if(Symbol.toStringTag in F){var L=w(F),C=e(L,Symbol.toStringTag);if(!C){var _=w(L);C=e(_,Symbol.toStringTag)}l["$"+I]=s(C.get)}}):O(d,function(I){var F=new h[I],L=F.slice||F.set;L&&(l["$"+I]=s(L))});var x=function(F){var L=!1;return O(l,function(C,_){if(!L)try{"$"+C(F)===_&&(L=b(_,1))}catch{}}),L},T=function(F){var L=!1;return O(l,function(C,_){if(!L)try{C(F),L=b(_,1)}catch{}}),L};X.exports=function(F){if(!F||typeof F!="object")return!1;if(!o){var L=b(f(F),8,-1);return v(d,L)>-1?L:L!=="Object"?!1:T(F)}return e?x(F):null}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":1,"call-bind":11,"call-bind/callBound":10,"for-each":23,gopd:27,"has-tostringtag/shams":32}],135:[function(P,X,J){X.exports=O;var D=Object.prototype.hasOwnProperty;function O(){for(var A={},s=0;s<arguments.length;s++){var c=arguments[s];for(var e in c)D.call(c,e)&&(A[e]=c[e])}return A}},{}],136:[function(P,X,J){"use strict";X.exports=function(D){D.prototype[Symbol.iterator]=function*(){for(let O=this.head;O;O=O.next)yield O.value}}},{}],137:[function(P,X,J){"use strict";X.exports=D,D.Node=c,D.create=D;function D(e){var f=this;if(f instanceof D||(f=new D),f.tail=null,f.head=null,f.length=0,e&&typeof e.forEach=="function")e.forEach(function(d){f.push(d)});else if(arguments.length>0)for(var o=0,h=arguments.length;o<h;o++)f.push(arguments[o]);return f}D.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var f=e.next,o=e.prev;return f&&(f.prev=o),o&&(o.next=f),e===this.head&&(this.head=f),e===this.tail&&(this.tail=o),e.list.length--,e.next=null,e.prev=null,e.list=null,f},D.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var f=this.head;e.list=this,e.next=f,f&&(f.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},D.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var f=this.tail;e.list=this,e.prev=f,f&&(f.next=e),this.tail=e,this.head||(this.head=e),this.length++}},D.prototype.push=function(){for(var e=0,f=arguments.length;e<f;e++)A(this,arguments[e]);return this.length},D.prototype.unshift=function(){for(var e=0,f=arguments.length;e<f;e++)s(this,arguments[e]);return this.length},D.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},D.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},D.prototype.forEach=function(e,f){f=f||this;for(var o=this.head,h=0;o!==null;h++)e.call(f,o.value,h,this),o=o.next},D.prototype.forEachReverse=function(e,f){f=f||this;for(var o=this.tail,h=this.length-1;o!==null;h--)e.call(f,o.value,h,this),o=o.prev},D.prototype.get=function(e){for(var f=0,o=this.head;o!==null&&f<e;f++)o=o.next;if(f===e&&o!==null)return o.value},D.prototype.getReverse=function(e){for(var f=0,o=this.tail;o!==null&&f<e;f++)o=o.prev;if(f===e&&o!==null)return o.value},D.prototype.map=function(e,f){f=f||this;for(var o=new D,h=this.head;h!==null;)o.push(e.call(f,h.value,this)),h=h.next;return o},D.prototype.mapReverse=function(e,f){f=f||this;for(var o=new D,h=this.tail;h!==null;)o.push(e.call(f,h.value,this)),h=h.prev;return o},D.prototype.reduce=function(e,f){var o,h=this.head;if(arguments.length>1)o=f;else if(this.head)h=this.head.next,o=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var d=0;h!==null;d++)o=e(o,h.value,d),h=h.next;return o},D.prototype.reduceReverse=function(e,f){var o,h=this.tail;if(arguments.length>1)o=f;else if(this.tail)h=this.tail.prev,o=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var d=this.length-1;h!==null;d--)o=e(o,h.value,d),h=h.prev;return o},D.prototype.toArray=function(){for(var e=new Array(this.length),f=0,o=this.head;o!==null;f++)e[f]=o.value,o=o.next;return e},D.prototype.toArrayReverse=function(){for(var e=new Array(this.length),f=0,o=this.tail;o!==null;f++)e[f]=o.value,o=o.prev;return e},D.prototype.slice=function(e,f){f=f||this.length,f<0&&(f+=this.length),e=e||0,e<0&&(e+=this.length);var o=new D;if(f<e||f<0)return o;e<0&&(e=0),f>this.length&&(f=this.length);for(var h=0,d=this.head;d!==null&&h<e;h++)d=d.next;for(;d!==null&&h<f;h++,d=d.next)o.push(d.value);return o},D.prototype.sliceReverse=function(e,f){f=f||this.length,f<0&&(f+=this.length),e=e||0,e<0&&(e+=this.length);var o=new D;if(f<e||f<0)return o;e<0&&(e=0),f>this.length&&(f=this.length);for(var h=this.length,d=this.tail;d!==null&&h>f;h--)d=d.prev;for(;d!==null&&h>e;h--,d=d.prev)o.push(d.value);return o},D.prototype.splice=function(e,f,...o){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var h=0,d=this.head;d!==null&&h<e;h++)d=d.next;for(var b=[],h=0;d&&h<f;h++)b.push(d.value),d=this.removeNode(d);d===null&&(d=this.tail),d!==this.head&&d!==this.tail&&(d=d.prev);for(var h=0;h<o.length;h++)d=O(this,d,o[h]);return b},D.prototype.reverse=function(){for(var e=this.head,f=this.tail,o=e;o!==null;o=o.prev){var h=o.prev;o.prev=o.next,o.next=h}return this.head=f,this.tail=e,this};function O(e,f,o){var h=f===e.head?new c(o,null,f,e):new c(o,f,f.next,e);return h.next===null&&(e.tail=h),h.prev===null&&(e.head=h),e.length++,h}function A(e,f){e.tail=new c(f,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,f){e.head=new c(f,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function c(e,f,o,h){if(!(this instanceof c))return new c(e,f,o,h);this.list=h,this.value=e,f?(f.next=this,this.prev=f):this.prev=null,o?(o.prev=this,this.next=o):this.next=null}try{P("./iterator.js")(D)}catch{}},{"./iterator.js":136}],138:[function(P,X,J){var D=P("./parser"),O=P("./utils"),A=O;function s(e,f){this.name="NonSupportedSparqlFeatureError",this.feature=e,this.message=f||"SPARQL feature "+e+" non supported"}s.prototype=new Error,s.constructor=s;function c(e){this.name=ParserError,this.message=e||"Error parsing SPARQL query"}c.prototype=new Error,c.constructor=c,AbstractQueryTree=function(){},AbstractQueryTree.prototype.parseQueryString=function(e){return D.parse(e)},AbstractQueryTree.prototype.parseExecutableUnit=function(e){if(e.kind==="select")return this.parseSelect(e);if(e.kind==="ask")return this.parseSelect(e);if(e.kind==="modify")return this.parseSelect(e);if(e.kind==="construct")return this.parseSelect(e);if(e.kind==="insertdata")return this.parseInsertData(e);if(e.kind==="deletedata")return this.parseInsertData(e);if(e.kind==="load")return e;if(e.kind==="clear")return e;if(e.kind==="drop")return e;if(e.kind==="create")return e;throw new Error("unknown executable unit: "+e.kind)},AbstractQueryTree.prototype.parseSelect=function(e){if(e==null)return console.log("error parsing query"),null;var f={freshCounter:0};return e.pattern=this.build(e.pattern,f),e},AbstractQueryTree.prototype.parseInsertData=function(e){return e??(console.log("error parsing query"),null)},AbstractQueryTree.prototype.build=function(e,f){if(e.token==="groupgraphpattern")return this._buildGroupGraphPattern(e,f);if(e.token==="basicgraphpattern"){var o={kind:"BGP",value:e.triplesContext};return o=AbstractQueryTree.translatePathExpressionsInBGP(o,f),o}else if(e.token==="graphunionpattern"){var h=this.build(e.value[0],f),d=this.build(e.value[1],f);return{kind:"UNION",value:[h,d]}}else if(e.token==="graphgraphpattern"){var b=this.build(e.value,f);return{kind:"GRAPH",value:b,graph:e.graph}}else throw e.token!=null?new s(e.token,"Non implemented SPARQL graph pattern: '"+e.token+"'"):new c("Error parsing graph pattern: '"+JSON.stringify(e)+"'")},AbstractQueryTree.translatePathExpressionsInBGP=function(e,f){for(var o,h=[],d,b,w=0;w<e.value.length;w++)if(e.value[w].predicate&&e.value[w].predicate.token==="path"){o=e.value[w],d=e.value.slice(w+1);var v=AbstractQueryTree.translatePathExpression(o,f),l=null;if(v.kind==="BGP")h=h.concat(v.value);else if(v.kind==="ZERO_OR_MORE_PATH"||v.kind==="ONE_OR_MORE_PATH"){if(h.length>0?b={kind:"JOIN",lvalue:{kind:"BGP",value:h},rvalue:v}:b=v,v.kind==="ZERO_OR_MORE_PATH"){if(v.y.token==="var"&&v.y.value.indexOf("fresh:")===0&&v.x.token==="var"&&v.x.value.indexOf("fresh:")===0)for(var x=0;x<e.value.length;x++)e.value[x].object&&e.value[x].object.token==="var"&&e.value[x].object.value===v.x.value&&(l=A.clone(e.value[x],!0),l.object=v.y);else if(v.y.token==="var"&&v.y.value.indexOf("fresh:")===0)for(var x=0;x<e.value.length;x++)e.value[x].subject&&e.value[x].subject.token==="var"&&e.value[x].subject.value===v.y.value&&(l=A.clone(e.value[x],!0),l.subject=v.x)}if(d.length>0){var T=AbstractQueryTree.translatePathExpressionsInBGP({kind:"BGP",value:d},f);if(l!=null){var I=h.concat([l]).concat(d);return{kind:"UNION",value:[{kind:"JOIN",lvalue:b,rvalue:T},{kind:"BGP",value:I}]}}else return{kind:"JOIN",lvalue:b,rvalue:T}}else return b}else return v}else h.push(e.value[w]);return e.value=h,e},AbstractQueryTree.translatePathExpression=function(e,f){if(e.predicate.kind==="element")if(e.predicate.modifier==="+"){e.predicate.modifier=null;var o=AbstractQueryTree.translatePathExpression(e,f);return{kind:"ONE_OR_MORE_PATH",path:o,x:e.subject,y:e.object}}else if(e.predicate.modifier==="*"){e.predicate.modifier=null;var o=AbstractQueryTree.translatePathExpression(e,f);return{kind:"ZERO_OR_MORE_PATH",path:o,x:e.subject,y:e.object}}else return e.predicate=e.predicate.value,{kind:"BGP",value:[e]};else if(e.predicate.kind==="sequence"){for(var h=e.subject,d=e.object,b=e.graph,w,v,l=[],x=0;x<e.predicate.value.length;x++)x!=e.predicate.value.length-1?(w={token:"var",value:"fresh:"+f.freshCounter},f.freshCounter++):w=d,v={subject:h,predicate:e.predicate.value[x],object:w},b!=null&&(v.graph=A.clone(b,!0)),l.push(v),x!=e.predicate.value.length-1&&(h=A.clone(w,!0));var T={kind:"BGP",value:l};return AbstractQueryTree.translatePathExpressionsInBGP(T,f)}else throw new s("Non supported path expression "+e.predicate.kind)},AbstractQueryTree.prototype._buildGroupGraphPattern=function(e,f){for(var o=e.filters||[],h=e.binds||[],d={kind:"EMPTY_PATTERN"},b=0;b<e.patterns.length;b++){var w=e.patterns[b];if(w.token==="optionalgraphpattern"){var v=this.build(w.value,f);v.kind==="FILTER"?d={kind:"LEFT_JOIN",lvalue:d,rvalue:v.value,filter:v.filter}:d={kind:"LEFT_JOIN",lvalue:d,rvalue:v,filter:!0}}else{var v=this.build(w,f);d.kind=="EMPTY_PATTERN"?d=v:d={kind:"JOIN",lvalue:d,rvalue:v}}}if(d.binds=h,o.length!=0){if(d.kind==="EMPTY_PATTERN")return{kind:"FILTER",filter:o,value:d};if(d.kind==="LEFT_JOIN"&&d.filter===!0)return{kind:"FILTER",filter:o,value:d};if(d.kind==="LEFT_JOIN")return{kind:"FILTER",filter:o,value:d};if(d.kind==="JOIN")return{kind:"FILTER",filter:o,value:d};if(d.kind==="UNION")return{kind:"FILTER",filter:o,value:d};if(d.kind==="GRAPH")return{kind:"FILTER",filter:o,value:d};if(d.kind==="BGP")return{kind:"FILTER",filter:o,value:d};throw new Error("Unknow kind of algebra expression: "+d.kind)}else return d},AbstractQueryTree.prototype.collectBasicTriples=function(e,f){if(f==null&&(f=[]),e.kind==="select")f=this.collectBasicTriples(e.pattern,f);else if(e.kind==="BGP")f=f.concat(e.value);else if(e.kind==="ZERO_OR_MORE_PATH")f=this.collectBasicTriples(e.path);else if(e.kind==="UNION")f=this.collectBasicTriples(e.value[0],f),f=this.collectBasicTriples(e.value[1],f);else if(e.kind==="GRAPH")f=this.collectBasicTriples(e.value,f);else if(e.kind==="LEFT_JOIN"||e.kind==="JOIN")f=this.collectBasicTriples(e.lvalue,f),f=this.collectBasicTriples(e.rvalue,f);else if(e.kind==="FILTER")f=this.collectBasicTriples(e.value,f);else if(e.kind==="construct")f=this.collectBasicTriples(e.pattern,f);else if(e.kind!=="EMPTY_PATTERN")throw"Unknown pattern: "+e.kind;return f},AbstractQueryTree.prototype.bind=function(e,f){if(e.graph!=null&&e.graph.token&&e.graph.token==="var"&&f[e.graph.value]!=null&&(e.graph=f[e.graph.value]),e.filter!=null){for(var o=[],h=0;h<e.filter.length;h++)e.filter[h].value=this._bindFilter(e.filter[h].value,f),o.push(e.filter[h]);e.filter=o}if(e.kind==="select")e.pattern=this.bind(e.pattern,f);else if(e.kind==="BGP")e.value=this._bindTripleContext(e.value,f);else if(e.kind==="ZERO_OR_MORE_PATH")e.path=this._bindTripleContext(e.path,f),e.x&&e.x.token==="var"&&f[e.x.value]!=null&&(e.x=f[e.x.value]),e.y&&e.y.token==="var"&&f[e.y.value]!=null&&(e.y=f[e.y.value]);else if(e.kind==="UNION")e.value[0]=this.bind(e.value[0],f),e.value[1]=this.bind(e.value[1],f);else if(e.kind==="GRAPH")e.value=this.bind(e.value,f);else if(e.kind==="LEFT_JOIN"||e.kind==="JOIN")e.lvalue=this.bind(e.lvalue,f),e.rvalue=this.bind(e.rvalue,f);else if(e.kind==="FILTER"){var d=this;e.value=this.bind(e.value,f),e.filter=e.filter.map(function(b){return{token:"filter",value:d._bindFilter(b.value,f)}})}else if(e.kind!=="EMPTY_PATTERN")throw"Unknown pattern: "+e.kind;return e},AbstractQueryTree.prototype._bindTripleContext=function(e,f){for(var o=0;o<e.length;o++){delete e[o].graph,delete e[o].variables;for(var h in e[o]){var d=e[o][h];d.token==="var"&&f[d.value]!=null&&(e[o][h]=f[d.value])}}return e},AbstractQueryTree.prototype._bindFilter=function(e,f){if(e.expressionType!=null){var o=e.expressionType;if(o=="relationalexpression")e.op1=this._bindFilter(e.op1,f),e.op2=this._bindFilter(e.op2,f);else if(o=="conditionalor"||o=="conditionaland")for(var h=0;h<e.operands.length;h++)e.operands[h]=this._bindFilter(e.operands[h],f);else if(o=="additiveexpression"){e.summand=this._bindFilter(e.summand,f);for(var h=0;h<e.summands.length;h++)e.summands[h].expression=this._bindFilter(e.summands[h].expression,f)}else if(o=="builtincall")for(var h=0;h<e.args.length;h++)e.args[h]=this._bindFilter(e.args[h],f);else if(o=="multiplicativeexpression"){e.factor=this._bindFilter(e.factor,f);for(var h=0;h<e.factors.length;h++)e.factors[h].expression=this._bindFilter(e.factors[h].expression,f)}else if(o=="unaryexpression")e.expression=this._bindFilter(e.expression,f);else if(o=="irireforfunction")for(var h=0;h<e.factors.args;h++)e.args[h]=this._bindFilter(e.args[h],f);else if(o=="atomic"&&e.primaryexpression=="var"&&f[e.value.value]!=null){var d=f[e.value.value];d.token==="uri"?e.primaryexpression="iri":e.primaryexpression="literal",e.value=d}}return e},AbstractQueryTree.prototype.replace=function(e,f,o,h){if(e.graph!=null&&e.graph.token&&e.graph.token===f.token&&e.graph.value==f.value&&(e.graph=A.clone(o,!0)),e.filter!=null){for(var d=[],b=0;b<e.filter.length;b++)e.filter[b].value=this._replaceFilter(e.filter[b].value,f,o,h),d.push(e.filter[b]);e.filter=d}if(e.kind==="select")e.pattern=this.replace(e.pattern,f,o,h);else if(e.kind==="BGP")e.value=this._replaceTripleContext(e.value,f,o,h);else if(e.kind==="ZERO_OR_MORE_PATH")e.path=this._replaceTripleContext(e.path,f,o,h),e.x&&e.x.token===f.token&&e.value===f.value&&(e.x=A.clone(o,!0)),e.y&&e.y.token===f.token&&e.value===f.value&&(e.y=A.clone(o,!0));else if(e.kind==="UNION")e.value[0]=this.replace(e.value[0],f,o,h),e.value[1]=this.replace(e.value[1],f,o,h);else if(e.kind==="GRAPH")e.value=this.replace(e.value,f,o);else if(e.kind==="LEFT_JOIN"||e.kind==="JOIN")e.lvalue=this.replace(e.lvalue,f,o,h),e.rvalue=this.replace(e.rvalue,f,o,h);else if(e.kind==="FILTER")e.value=this._replaceFilter(e.value,f,o,h);else if(e.kind!=="EMPTY_PATTERN")throw"Unknown pattern: "+e.kind;return e},AbstractQueryTree.prototype._replaceTripleContext=function(e,f,o,h){for(var d=0;d<e.length;d++)for(var b in e[d]){var w=e[d][b];(w.token==="var"&&f.token==="var"&&w.value===f.value||w.token==="blank"&&f.token==="blank"&&w.value===f.value||(w.token==="literal"||w.token==="uri")&&(f.token==="literal"||f.token==="uri")&&w.token===f.token&&O.lexicalFormTerm(w,h)[w.token]===O.lexicalFormTerm(f,h)[w.token])&&(e[d][b]=o)}return e},AbstractQueryTree.prototype._replaceFilter=function(e,f,o,h){if(e.expressionType!=null){var d=e.expressionType;if(d=="relationalexpression")e.op1=this._replaceFilter(e.op1,f,o,h),e.op2=this._replaceFilter(e.op2,f,o,h);else if(d=="conditionalor"||d=="conditionaland")for(var b=0;b<e.operands.length;b++)e.operands[b]=this._replaceFilter(e.operands[b],f,o,h);else if(d=="additiveexpression"){e.summand=this._replaceFilter(e.summand,f,o,h);for(var b=0;b<e.summands.length;b++)e.summands[b].expression=this._replaceFilter(e.summands[b].expression,f,o,h)}else if(d=="builtincall")for(var b=0;b<e.args.length;b++)e.args[b]=this._replaceFilter(e.args[b],f,o,h);else if(d=="multiplicativeexpression"){e.factor=this._replaceFilter(e.factor,f,o,h);for(var b=0;b<e.factors.length;b++)e.factors[b].expression=this._replaceFilter(e.factors[b].expression,f,o,h)}else if(d=="unaryexpression")e.expression=this._replaceFilter(e.expression,f,o,h);else if(d=="irireforfunction")for(var b=0;b<e.factors.args;b++)e.args[b]=this._replaceFilter(e.args[b],f,o,h);else if(d=="atomic"){var w=null;(e.primaryexpression==f.token&&e.value==f.value||e.primaryexpression=="iri"&&f.token=="uri"&&e.value==f.value)&&(w=o.value),w!=null&&(o.token==="uri"?e.primaryexpression="iri":e.primaryexpression=o.token,e.value=w)}}return e},AbstractQueryTree.prototype.treeWithUnion=function(e){if(e==null||e.kind==null)return!1;if(e.kind==="select")return this.treeWithUnion(e.pattern);if(e.kind==="BGP")return this.treeWithUnion(e.value);if(e.kind==="ZERO_OR_MORE_PATH")return!1;if(e.kind==="UNION")if(e.value[0].value!=null&&e.value[0].value.variables!=null&&e.value[1].value!=null&&e.value[1].value.variables!=null){if(e.value[0].variables.join("/")===e.values[1].variables.join("/"))return this.treeWithUnion(e.value[0])?!0:this.treeWithUnion(e.value[1])}else return!0;else{if(e.kind==="GRAPH")return!1;if(e.kind==="LEFT_JOIN"||e.kind==="JOIN"){var f=this.treeWithUnion(e.lvalue);if(f)return!0;this.treeWithUnion(e.rvalue)}else return e.kind==="FILTER"||e.kind==="EMPTY_PATTERN",!1}},X.exports={AbstractQueryTree,NonSupportedSparqlFeatureError:s,SparqlParserError:c}},{"./parser":144,"./utils":156}],139:[function(P,X,J){"use strict";var D=P("./utils"),O=D,A=D.nextTick,s=-1,c=1,e=function(o,h){if(arguments.length!=0){this.order=o,this.root=this._allocateNode(),this.root.isLeaf=!0,this.root.level=0;var d=this;this._diskWrite(this.root,function(b){d.root=b,d._updateRootNode(d.root,function(w){d.comparator=function(v,l){return v<l?-1:v>l?1:0},d.merger=null,h?.(d)})})}};e.prototype._allocateNode=function(){return new f},e.prototype._diskWrite=function(o,h){A(function(){h(o)})},e.prototype._diskRead=function(o,h){A(function(){h(o)})},e.prototype._diskDelete=function(o,h){A(function(){h()})},e.prototype._updateRootNode=function(o,h){h(o)},e.prototype.search=function(o,h,d){var b=this.root,w=this;w.__search(w,o,b,h,d)},e.prototype.__search=function(o,h,d,b,w){for(var v=0;v<d.numberActives&&o.comparator(h,d.keys[v].key)===1;)v++;v<d.numberActives&&o.comparator(d.keys[v].key,h)===0?w!=null&&w==!0?b(!0):b(d.keys[v].data):d.isLeaf===!0?b(null):o._diskRead(d.children[v],function(l){o.__search(o,h,l,b,w)})},e.prototype.walk=function(o,h){this.__walk(this,this.root,o,h)},e.prototype.__walk=function(o,h,d,b){var w=h.numberActives,v=0;if(h.isLeaf){for(v=0;v<h.numberActives;v++)d(h.keys[v]);return b()}else O.whilst(function(){return v<w},function(l){o._diskRead(h.children[v],function(x){o.__walk(o,x,d,function(){o._diskRead(h.keys[v],function(T){d(T),v++,l()})})})},function(){o._diskRead(h.children[w],function(l){o.__walk(o,l,d,function(){b()})})})},e.prototype.walkNodes=function(o){this.__walkNodes(this,root,o,function(){})},e.prototype.__walkNodes=function(o,h,d,b){if(h.isLeaf)return d(h),b();d(h);var w=h.numberActives,v=0;O.whilst(function(){return v<w},function(l){o._diskRead(h.children[v],function(x){o.__walkNodes(o,x,d,function(){v++,l()})})},function(){o._diskRead(h.children[w],function(l){o.__walkNodes(o,l,d,function(){})})})},e.prototype._splitChild=function(o,h,d,b){var w=this._allocateNode();w.isLeaf=d.isLeaf,w.level=d.level,w.numberActives=this.order-1;var v=d.keys[this.order-1];d.keys[this.order-1]=null;for(var l=0;l<this.order-1;l++)w.keys[l]=d.keys[l+this.order],d.keys[l+this.order]=null,d.isLeaf||(w.children[l]=d.children[l+this.order],d.children[l+this.order]=null);for(d.isLeaf||(w.children[l]=d.children[l+this.order],d.children[l+this.order]=null),d.numberActives=this.order-1,l=o.numberActives+1;l>h+1;l--)o.children[l]=o.children[l-1];for(o.children[h+1]=w,l=o.numberActives;l>h;l--)o.keys[l]=o.keys[l-1];o.keys[h]=v,o.numberActives++;var x=this;this._diskWrite(w,function(T){x._diskWrite(o,function(I){I.children[h+1]=T,x._diskWrite(d,function(F){return b(I)})})})},e.prototype.insert=function(o,h,d){if(this.root.numberActives===2*this.order-1){var b=this._allocateNode();b.isLeaf=!1,b.level=this.root.level+1,b.numberActives=0,b.children[0]=this.root;var w=this;this._splitChild(b,0,this.root,function(v){b=v,w.root=b,w._updateRootNode(b,function(l){w._insertNonFull(l,o,h,d)})})}else this._insertNonFull(this.root,o,h,d)},e.prototype._insertNonFull=function(o,h,d,b){var w=o.numberActives-1;this.__insertNonFull(this,o,w,h,d,b)},e.prototype.__insertNonFull=function(o,h,d,b,w,v){if(h.isLeaf){for(;d>=0&&o.comparator(b,h.keys[d].key)===-1;)h.keys[d+1]=h.keys[d],d--;d>=0&&o.comparator(b,h.keys[d].key)===0?h.keys[d]={key:b,data:w}:(h.keys[d+1]={key:b,data:w},h.numberActives++),o._diskWrite(h,function(x){return v(x)})}else{for(;d>=0&&o.comparator(b,h.keys[d].key)===-1;)d--;d++;var l=o;o._diskRead(h.children[d],function(x){x.numberActives===2*l.order-1?l._splitChild(h,d,x,function(){l.comparator(b,h.keys[d].key)===1&&d++,l._diskRead(h.children[d],function(T){d=T.numberActives-1,l.__insertNonFull(o,T,d,b,w,v)})}):l._diskRead(h.children[d],function(T){d=T.numberActives-1,l.__insertNonFull(o,T,d,b,w,v)})})}},e.prototype.delete=function(o,h){var d=this.root;e.prototype.__deleteSearchNode(this,o,d,h)},e.prototype.__deleteSearchNode=function(o,h,d,b){var w=0;if(d.numberActives===0)return b(!1);for(;w<d.numberActives&&o.comparator(h,d.keys[w].key)===1;)w++;var v=w;if(w<d.numberActives&&o.comparator(h,d.keys[w].key)===0)return o.__deleteNodeFound(o,v,h,d,b);if(d.isLeaf===!0)return b(!1);var l=d;o._diskRead(d.children[w],function(x){if(x===null)return b(!1);var T=!1,I=!1,F=null,L=null;v===l.numberActives?(I=!0,L=l.children[v-1],F=l.children[v-1]):v===0?(T=!0,F=l.children[1],L=l.children[1]):(L=l.children[v-1],F=l.children[v+1]),o._diskRead(L,function(C){o._diskRead(F,function(_){I===!0&&(_=null),T===!0&&(C=null),x.numberActives===o.order-1&&l!=null?_!=null&&_.numberActives>o.order-1?o._moveKey(l,w,s,function(E){o.__deleteSearchNode(o,h,x,b)}):C!=null&&C.numberActives>o.order-1?o._moveKey(l,w,c,function(E){o.__deleteSearchNode(o,h,x,b)}):C!=null&&C.numberActives===o.order-1?o._mergeSiblings(l,w,s,function(E){o.__deleteSearchNode(o,h,E,b)}):_!=null&&_.numberActives===o.order-1&&o._mergeSiblings(l,w,c,function(E){o.__deleteSearchNode(o,h,E,b)}):o.__deleteSearchNode(o,h,x,b)})})})},e.prototype.__deleteNodeFound=function(o,h,d,b,w){if(b.isLeaf&&b.numberActives>o.order-1)return o._deleteKeyFromNode(b,h,function(){w(!0)}),!0;if(b.isLeaf&&b===o.root)return o._deleteKeyFromNode(b,h,function(){w(!0)}),!0;b.isLeaf===!1&&o._diskRead(b.children[h],function(v){v.numberActives>o.order-1?o._getMaxKeyPos(o,v,function(l){d=l.node.keys[l.index],b.keys[h]=d,o._diskWrite(b,function(x){x=v,d=d.key,o.__deleteSearchNode(o,d,x,w)})}):o._diskRead(b.children[h+1],function(l){l.numberActives>o.order-1?o._getMinKeyPos(o,l,function(x){d=x.node.keys[x.index],b.keys[h]=d,o._diskWrite(b,function(T){T=l,d=d.key,o.__deleteSearchNode(o,d,T,w)})}):v.numberActives===o.order-1&&l.numberActives===o.order-1&&o._mergeNodes(v,b.keys[h],l,function(x){b.children[h]=x,h++;for(var T=h;T<b.numberActives;T++)b.children[T]=b.children[T+1],b.keys[T-1]=b.keys[T];b.children[T]=null,b.keys[T-1]=null,b.numberActives--,b.numberActives===0&&o.root===b&&(o.root=x),o._diskWrite(b,function(I){o.__deleteSearchNode(o,d,x,w)})})})}),b.isLeaf&&b.numberActives>o.order-1&&o._deleteKeyFromNode(b,h,function(v){o.__deleteSearchNode(o,d,v,w)})},e.prototype._moveKey=function(o,h,d,b){d===c&&h--;var w=this;w._diskRead(o.children[h],function(v){w._diskRead(o.children[h+1],function(l){if(d==s){v.keys[v.numberActives]=o.keys[h],v.children[v.numberActives+1]=l.children[0],l.children[0]=null,v.numberActives++,o.keys[h]=l.keys[0];for(var x=1;x<l.numberActives;x++)l.keys[x-1]=l.keys[x],l.children[x-1]=l.children[x];l.children[l.numberActives-1]=l.children[l.numberActives],l.numberActives--}else{l.children[l.numberActives+1]=l.children[l.numberActives];for(var x=l.numberActives;x>0;x--)l.children[x]=l.children[x-1],l.keys[x]=l.keys[x-1];l.keys[0]=null,l.children[0]=null,l.children[0]=v.children[v.numberActives],l.keys[0]=o.keys[h],l.numberActives++,v.children[v.numberActives]=null,o.keys[h]=v.keys[v.numberActives-1],v.keys[v.numberActives-1]=null,v.numberActives--}w._diskWrite(v,function(T){w._diskWrite(l,function(I){w._diskWrite(o,function(F){return b(F)})})})})})},e.prototype._mergeSiblings=function(o,h,d,b){var w,v,l,x,T,I;h===o.numberActives?(h--,T=o.children[o.numberActives-1],I=o.children[o.numberActives]):(T=o.children[h],I=o.children[h+1]);var F=this;F._diskRead(T,function(L){F._diskRead(I,function(C){var _=F._allocateNode();for(_.isLeaf=L.isLeaf,_.level=L.level,v=0;v<F.order-1;v++)_.keys[v]=L.keys[v],_.children[v]=L.children[v];for(_.keys[F.order-1]=o.keys[h],_.children[F.order-1]=L.children[F.order-1],v=0;v<F.order-1;v++)_.keys[v+F.order]=C.keys[v],_.children[v+F.order]=C.children[v];for(_.children[2*F.order-1]=C.children[F.order-1],o.children[h]=_,v=h;v<o.numberActives;v++)o.keys[v]=o.keys[v+1],o.children[v+1]=o.children[v+2];for(_.numberActives=L.numberActives+C.numberActives+1,o.numberActives--,w=o.numberActives;w<2*F.order-1;w++)o.keys[w]=null;o.numberActives===0&&F.root===o&&(F.root=_,_.level?_.isLeaf=!1:_.isLeaf=!0),F._diskWrite(_,function(E){F._diskWrite(o,function(Q){F._diskDelete(L,function(){F._diskDelete(C,function(){if(F.root===E)F._updateRootNode(F.root,function(){return b(E)});else return b(E)})})})})})})},e.prototype._deleteKeyFromNode=function(o,h,d){var b=2*this.order-1;o.numberActives<b&&(b=o.numberActives);var w;if(o.isLeaf===!1)return!1;var v=o.keys[h];for(w=h;w<b-1;w++)o.keys[w]=o.keys[w+1];o.keys.pop(),o.numberActives--,this._diskWrite(o,function(l){return d(l)})},e.prototype._mergeNodes=function(o,h,d,b){var w,v;for(w=this._allocateNode(),w.isLeaf=!0,v=0;v<o.numberActives;v++)w.keys[v]=o.keys[v],w.children[v]=o.children[v];for(w.children[o.numberActives]=o.children[o.numberActives],w.keys[o.numberActives]=h,v=0;v<d.numberActives;v++)w.keys[v+o.numberActives+1]=d.keys[v],w.children[v+o.numberActives+1]=d.children[v];w.children[2*this.order-1]=d.children[d.numberActives],w.numberActives=o.numberActives+d.numberActives+1,w.isLeaf=o.isLeaf,w.level=o.level;var l=this;this._diskWrite(w,function(x){l._diskDelete(o,function(){l._diskDelete(d,function(){return b(x)})})})},e.prototype.audit=function(o){var h=[],d=[],v=this,b=function(l){for(var x=0;x<d.length;x++)if(v.comparator(d[x],l)===0){var T=" !!! duplicated key "+l;o===!0&&console.log(T),h.push(T)}},w=null,v=this;return this.walkNodes(function(l){o===!0&&(console.log("--- Node at "+l.level+" level"),console.log(" - leaf? "+l.isLeaf),console.log(" - num actives? "+l.numberActives),console.log(" - keys: "));for(var x=l.numberActives;x<l.keys.length;x++)l.keys[x]!=null&&o===!0&&(console.log(" * warning : redundant key data"),h.push(" * warning : redundant key data"));for(var x=l.numberActives+1;x<l.children.length;x++)l.children[x]!=null&&o===!0&&(console.log(" * warning : redundant children data"),h.push(" * warning : redundant key data"));if(l.isLeaf===!1)for(var x=0;x<l.numberActives;x++){var T=this._diskRead(l.children[x]).keys[this._diskRead(l.children[x]).numberActives-1].key,I=this._diskRead(l.children[x+1]).keys[0].key;if(o===!0&&console.log("   "+l.keys[x].key+"("+T+","+I+")"),v.comparator(l.keys[x].key,T)===-1){var F=" !!! value max left "+T+" > key "+l.keys[x].key;o===!0&&console.log(F),h.push(F)}if(v.comparator(l.keys[x].key,I)===1){var F=" !!! value min right "+I+" < key "+l.keys[x].key;o===!0&&console.log(F),h.push(F)}b(l.keys[x].key),d.push(l.keys[x].key)}else{if(w===null)w=l.level;else if(w!=l.level){var F=" !!! Leaf node with wrong level value";o===!0&&console.log(F),h.push(F)}for(var x=0;x<l.numberActives;x++)o===!0&&console.log(" "+l.keys[x].key),b(l.keys[x].key),d.push(l.keys[x].key)}if(l!=v.root){if(l.numberActives>2*v.order-1){if(o===!0)var F=" !!!! MAX num keys restriction violated ";console.log(F),h.push(F)}if(l.numberActives<v.order-1){if(o===!0)var F=" !!!! MIN num keys restriction violated ";console.log(F),h.push(F)}}}),h},e.prototype._getMaxKeyPos=function(o,h,d){var b={};if(h===null)return d(null);if(h.isLeaf===!0)return b.node=h,b.index=h.numberActives-1,d(b);b.node=h,b.index=h.numberActives-1,o._diskRead(h.children[h.numberActives],function(w){return o._getMaxKeyPos(o,w,d)})},e.prototype._getMinKeyPos=function(o,h,d){var b={};if(h===null&&d(null),h.isLeaf===!0)return b.node=h,b.index=0,d(b);b.node=h,b.index=0,o._diskRead(h.children[0],function(w){return o._getMinKeyPos(o,w,d)})};var f=function(){this.numberActives=0,this.isLeaf=null,this.keys=[],this.children=[],this.level=0};X.exports={Tree:e,Node:f}},{"./utils":156}],140:[function(P,X,J){var D=P("./utils"),O=P("./utils"),A=P("./quad_index").QuadIndex,s=P("./quad_index").Pattern,c=P("./rdf_model"),e=P("./abstract_query_tree").AbstractQueryTree;Callbacks={},Callbacks.ANYTHING={token:"var",value:"_"},Callbacks.added="added",Callbacks.deleted="deleted",Callbacks.eventsFlushed="eventsFlushed",Callbacks.CallbacksBackend=function(){this.aqt=new e,this.engine=arguments[0],this.indexMap={},this.observersMap={},this.queriesIndexMap={},this.emptyNotificationsMap={},this.queriesList=[],this.pendingQueries=[],this.matchedQueries=[],this.updateInProgress=null,this.indices=["SPOG","GP","OGS","POG","GSP","OS"],this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]},this.callbackCounter=0,this.callbacksMap={},this.callbacksInverseMap={},this.queryCounter=0,this.queriesMap={},this.queriesCallbacksMap={},this.queriesInverseMap={};for(var f=0;f<this.indices.length;f++){var o=this.indices[f];this.indexMap[o]={},this.queriesIndexMap[o]={}}},Callbacks.CallbacksBackend.prototype.startGraphModification=function(){this.ongoingModification!==!0&&(this.pendingQueries=[].concat(this.queriesList),this.matchedQueries=[],this.updateInProgress==null&&(this.updateInProgress={},this.updateInProgress[Callbacks.added]=[],this.updateInProgress[Callbacks.deleted]=[]))},Callbacks.CallbacksBackend.prototype.nextGraphModification=function(f,o){this.updateInProgress[f].push(o)},Callbacks.CallbacksBackend.prototype.endGraphModification=function(f){if(this.ongoingModification!==!0){var o=this;if(this.updateInProgress!=null){var h=o.updateInProgress;o.updateInProgress=null,this.sendNotification(Callbacks.deleted,h[Callbacks.deleted],function(){o.sendNotification(Callbacks.added,h[Callbacks.added],function(){o.sendEmptyNotification(Callbacks.eventsFlushed,null,function(){o.dispatchQueries(function(){f(!0)})})})})}else f(!0)}else f(!0)},Callbacks.CallbacksBackend.prototype.cancelGraphModification=function(){this.ongoingModification!==!0&&(this.updateInProgress=null)},Callbacks.CallbacksBackend.prototype.sendNotification=function(f,o,h){for(var d={},b=0;b<o.length;b++){var w=o[b];for(var v in this.indexMap){var l=this.indexMap[v],x=this.componentOrders[v];this._searchCallbacksInIndex(l,x,f,w,d),this.pendingQueries.length!=0&&(l=this.queriesIndexMap[v],this._searchQueriesInIndex(l,x,w))}}this.dispatchNotifications(d),h?.(!0)},Callbacks.CallbacksBackend.prototype.sendEmptyNotification=function(f,o,h){for(var d=this.emptyNotificationsMap[f]||[],b=0;b<d.length;b++)d[b](f,o);h()},Callbacks.CallbacksBackend.prototype.dispatchNotifications=function(f){for(var o in f){var h=this.callbacksMap[o],d=f[o][Callbacks.deleted];if(d!=null)try{h(Callbacks.deleted,d)}catch{}for(var b in f[o])if(b!=Callbacks.deleted)try{h(b,f[o][b])}catch{}}},Callbacks.CallbacksBackend.prototype._searchCallbacksInIndex=function(f,o,h,v,b){for(var w=v[1],v=v[0],l=0;l<o.length+1;l++){for(var x=f._||[],T=[],I=0;I<x.length;I++){var F=x[I];this.callbacksMap[F]!=null&&(b[F]=b[F]||{},b[F][h]=b[F][h]||[],b[F][h].push(v),T.push(F))}f._=T;var L=o[l];if(f[""+w[L]]!=null)f=f[""+w[L]];else break}},Callbacks.CallbacksBackend.prototype.subscribeEmpty=function(f,o){var h=this.emptyNotificationsMap[f]||[];h.push(o),this.emptyNotificationsMap[f]=h},Callbacks.CallbacksBackend.prototype.unsubscribeEmpty=function(f,o){var h=this.emptyNotificationsMap[f];h!=null&&(h=D.reject(h,function(d){return d===o})),this.emptyNotificationsMap[f]=h},Callbacks.CallbacksBackend.prototype.subscribe=function(f,o,h,d,b,w){var v=this._tokenizeComponents(f,o,h,d),l={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,l);var x=this;this.engine.normalizeQuad(v,l,!0,function(T){for(var I=new s(T),F=x._indexForPattern(I),L=x.componentOrders[F],C=x.indexMap[F],_=0;_<L.length;_++){var E=L[_],Q=T[E];if(Q==="_"){C._==null&&(C._=[]),x.callbackCounter++,C._.push(x.callbackCounter),x.callbacksMap[x.callbackCounter]=b,x.callbacksInverseMap[b]=x.callbackCounter;break}else _===L.length-1?(C[Q]=C[Q]||{_:[]},x.callbackCounter++,C[Q]._.push(x.callbackCounter),x.callbacksMap[x.callbackCounter]=b,x.callbacksInverseMap[b]=x.callbackCounter):(C[Q]=C[Q]||{},C=C[Q])}w?.(!0)})},Callbacks.CallbacksBackend.prototype.unsubscribe=function(f){var o=this.callbacksInverseMap[f];o!=null&&(delete this.callbacksInverseMap[f],delete this.callbacksMap[o])},Callbacks.CallbacksBackend.prototype._tokenizeComponents=function(f,o,h,d){var b={};return f==null?b.subject=Callbacks.ANYTHING:f.indexOf("_:")==0?b.subject={token:"blank",value:f}:b.subject={token:"uri",value:f},o==null?b.predicate=Callbacks.ANYTHING:b.predicate={token:"uri",value:o},h==null?b.object=Callbacks.ANYTHING:b.object={token:"uri",value:h},d==null?b.graph=Callbacks.ANYTHING:b.graph={token:"uri",value:d},b},Callbacks.CallbacksBackend.prototype._indexForPattern=function(f){for(var o=f.indexKey,h=this.indices,d=0;d<h.length;d++)for(var b=h[d],w=this.componentOrders[b],v=0;v<w.length&&D.include(o,w[v])!==!1;v++)if(v==o.length-1)return b;return"SPOG"},Callbacks.CallbacksBackend.prototype.observeNode=function(){var f,o,h,d;arguments.length===4?(f=arguments[0],o=arguments[1],h=arguments[2],d=arguments[3]):(f=arguments[0],o=this.engine.lexicon.defaultGraphUri,h=arguments[1],d=arguments[2]);var b="CONSTRUCT { <"+f+"> ?p ?o } WHERE { GRAPH <"+o+"> { <"+f+"> ?p ?o } }",w=this,v={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,v);var l=[];this.engine.execute(b,function(x,T){if(x)d&&d(!1);else{var I=T,F=!1,L=function(C,_){if(C==="eventsFlushed"&&F){F=!1;try{h(I)}catch{}}else if(C!=="eventsFlushed"){F=!0;for(var E=0;E<_.length;E++){var Q=_[E],B=c.buildRDFResource(Q.subject,l,w.engine,v),q=c.buildRDFResource(Q.predicate,l,w.engine,v),K=c.buildRDFResource(Q.object,l,w.engine,v);B!=null&&q!=null&&K!=null&&(Q=new c.Triple(B,q,K),C===Callbacks.added?I.add(Q):C===Callbacks.deleted&&I.remove(Q))}}};w.observersMap[h]=L,w.subscribeEmpty(Callbacks.eventsFlushed,L),w.subscribe(f,null,null,null,L,function(){try{h(I)}catch{}d&&d(!0)})}})},Callbacks.CallbacksBackend.prototype.stopObservingNode=function(f){var o=this.observersMap[f];return o?(this.unsubscribe(o),this.unsubscribeEmpty(Callbacks.eventsFlushed,o),!0):!1},Callbacks.CallbacksBackend.prototype.observeQuery=function(f,o,h){var d=this.aqt.parseQueryString(f),b=this.aqt.parseSelect(d.units[0]),w=this.aqt.collectBasicTriples(b),v=this,l={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,l);var x=this.queryCounter;this.queryCounter++,this.queriesMap[x]=f,this.queriesInverseMap[f]=x,this.queriesList.push(x),this.queriesCallbacksMap[x]=o,O.eachSeries(w,function(T,I){T.graph==null&&(T.graph=v.engine.lexicon.defaultGraphUriTerm),v.engine.normalizeQuad(T,l,!0,function(F){for(var L=new s(F),C=v._indexForPattern(L),_=v.componentOrders[C],E=v.queriesIndexMap[C],Q=0;Q<_.length;Q++){var B=_[Q],q=F[B];if(typeof q=="string"){E._==null&&(E._=[]),E._.push(x);break}else Q===_.length-1?(E[q]=E[q]||{_:[]},E[q]._.push(x)):(E[q]=E[q]||{},E=E[q])}I()})},function(){v.engine.execute(f,function(T,I){T?console.log("ERROR in query callback "+I):o(I)}),h?.()})},Callbacks.CallbacksBackend.prototype.stopObservingQuery=function(f){var o=this.queriesInverseMap[f];o!=null&&(delete this.queriesInverseMap[f],delete this.queriesMap[o],this.queriesList=D.reject(this.queriesList,function(h){return h===o}))},Callbacks.CallbacksBackend.prototype._searchQueriesInIndex=function(f,o,b){for(var d=b[1],b=b[0],w=0;w<o.length+1;w++){for(var v=f._||[],l=[],x=0;x<v.length;x++){var T=v[x];D.include(this.pendingQueries,T)&&(D.remove(this.pendingQueries,function(F){return F===T}),this.matchedQueries.push(T)),this.queriesMap[T]!=null&&l.push(T)}f._=l;var I=o[w];if(f[""+d[I]]!=null)f=f[""+d[I]];else break}},Callbacks.CallbacksBackend.prototype.dispatchQueries=function(f){var o=this,h,d,b={};O.eachSeries(this.matchedQueries,function(w,v){b[w]==null?(b[w]=!0,h=o.queriesMap[w],d=o.queriesCallbacksMap[w],o.engine.execute(h,function(l,x){if(!l)try{d(x)}catch{}v()})):v()},function(){f()})},Callbacks.CallbacksBackend.added=Callbacks.added,Callbacks.CallbacksBackend.deleted=Callbacks.deleted,Callbacks.CallbacksBackend.eventsFlushed=Callbacks.eventsFlushed,X.exports=Callbacks},{"./abstract_query_tree":138,"./quad_index":148,"./rdf_model":153,"./utils":156}],141:[function(P,X,J){var D=P("jsonld"),O=async function(s,c,e){var f=null;const o=await D.toRDF(s,{});var h=function(x){if(x.termType==="BlankNode")return{blank:x.value};if(x.termType==="NamedNode")return{token:"uri",value:x.value};if(x.termType==="Literal")return x.language!=null?{literal:'"'+x.value+'"@'+x.language}:x.datatype!==null?{literal:'"'+x.value+'"^^<'+x.datatype.value+">"}:{literal:'"'+x.value+'"'}};f=[];for(var d=function(x,T,I){f.push({subject:h(x),predicate:h(T),object:h(I),graph:c})},b=!1,w=o,v=0;v<w.length;v++){var l=w[v];d(l.subject,l.predicate,l.object)}e(null,f)};J.JSONLDParser={};var A=J.JSONLDParser;A.parser={async:!0,parse:function(s,c,e,f){try{typeof s=="string"&&(s=JSON.parse(s)),O(s,c,f)}catch(o){f(o)}}},X.exports={JSONLDParser:A}},{jsonld:57}],142:[function(P,X,J){var D=P("./utils"),O=P("./btree").Tree;Lexicon=function(A){var s=this;this.defaultGraphOid=0,this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph",this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri},this.oidCounter=1,D.seq(function(c){new O(2,function(e){s.uris=e,c()})},function(c){new O(2,function(e){s.literals=e,c()})},function(c){new O(2,function(e){s.knownGraphs=e,c()})},function(c){new O(2,function(e){s.oidUris=e,c()})},function(c){new O(2,function(e){s.oidLiterals=e,c()})},function(c){new O(2,function(e){s.oidBlanks=e,c()})})(function(){A?.(s)})},Lexicon.prototype.registerGraph=function(A,s,c){A!=this.defaultGraphOid?this.knownGraphs.insert(A,s,function(){c()}):c()},Lexicon.prototype.registeredGraphs=function(A,s){var c=[];this.knownGraphs.walk(function(e){A===!0?c.push(e.data):c.push(e.key)},function(){s(c)})},Lexicon.prototype.registerUri=function(A,s){var c=this;A===this.defaultGraphUri?s(this.defaultGraphOid):this.uris.search(A,function(e){if(e==null){var f=c.oidCounter,o="u"+f;c.oidCounter++,D.seq(function(h){c.uris.insert(A,[f,0],function(){h()})},function(h){c.oidUris.insert(o,A,function(){h()})})(function(){s(f)})}else f=e[0],e[1]=e[1]+1,s(f)})},Lexicon.prototype.resolveUri=function(A,s){A===this.defaultGraphUri?s(this.defaultGraphOid):this.uris.search(A,function(c){c!=null?s(c[0]):s(-1)})},Lexicon.prototype.resolveUriCost=function(A,s){A===this.defaultGraphUri?s(0):this.uris.search(A,function(c){c!=null?s(c[1]):s(-1)})},Lexicon.prototype.registerBlank=function(A){var s=this.oidCounter;this.oidCounter++;var c=""+s;this.oidBlanks.insert(c,c,function(){A(s)})},Lexicon.prototype.resolveBlank=function(A,s){var c=this;this.oidBlanks.search(A,function(e){if(e!=null)s(e);else{var f=c.oidCounter;this.oidCounter++,s(""+f)}})},Lexicon.prototype.resolveBlankCost=function(A,s){s(0)},Lexicon.prototype.registerLiteral=function(A,s){var c=this;this.literals.search(A,function(e){if(e==null){var f=c.oidCounter,o="l"+f;c.oidCounter++,D.seq(function(h){c.literals.insert(A,[f,0],function(){h()})},function(h){c.oidLiterals.insert(o,A,function(){h()})})(function(){s(f)})}else{var f=e[0];e[1]=e[1]+1,s(f)}})},Lexicon.prototype.resolveLiteral=function(A,s){this.literals.search(A,function(c){c!=null?s(c[0]):s(-1)})},Lexicon.prototype.resolveLiteralCost=function(A,s){this.literals.search(A,function(c){c!=null?s(c[1]):s(-1)})},Lexicon.prototype.parseLiteral=function(A){var c=A.lastIndexOf("@");if(c!=-1&&A[c-1]==='"'&&A.substring(c,A.length).match(/^@[a-zA-Z\-]+$/g)!=null){var f=A.substring(1,c-1),s=A.substring(c+1,A.length);return{token:"literal",value:f,lang:s}}var c=A.lastIndexOf("^^");if(c!=-1&&A[c-1]==='"'&&A[c+2]==="<"&&A[A.length-1]===">"){var f=A.substring(1,c-1),e=A.substring(c+3,A.length-1);return{token:"literal",value:f,type:e}}var f=A.substring(1,A.length-1);return{token:"literal",value:f}},Lexicon.prototype.parseUri=function(A){return{token:"uri",value:A}},Lexicon.prototype.retrieve=function(A,s){var c=this;A===this.defaultGraphOid?s({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0}):D.seq(function(e,f){c.oidUris.search("u"+A,function(o){o!=null?f(null,c.parseUri(o)):f(null,null)})},function(e,f){e==null?c.oidLiterals.search("l"+A,function(o){o!=null?f(null,c.parseLiteral(o)):f(null,null)}):f(null,e)},function(e,f){e==null?c.oidBlanks.search(""+A,function(o){o!=null?f(null,{token:"blank",value:"_:"+A}):f(null,null)}):f(null,e)})(null,function(e,f){s(f)})},Lexicon.prototype.clear=function(A){var s=this;this.defaultGraphOid=0,this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph",this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri},this.oidCounter=1,D.seq(function(c){new O(2,function(e){s.uris=e,c()})},function(c){new O(2,function(e){s.literals=e,c()})},function(c){new O(2,function(e){s.knownGraphs=e,c()})},function(c){new O(2,function(e){s.oidUris=e,c()})},function(c){new O(2,function(e){s.oidLiterals=e,c()})},function(c){new O(2,function(e){s.oidBlanks=e,c()})})(function(){A?.()})},Lexicon.prototype.unregister=function(A,s,c){var e=this;D.seq(function(f){e._unregisterTerm(A.subject.token,s.subject,f)},function(f){e._unregisterTerm(A.predicate.token,s.predicate,f)},function(f){e._unregisterTerm(A.object.token,s.object,f)},function(f){A.graph!=null?e._unregisterTerm(A.graph.token,s.graph,f):f()})(function(){c(!0)})},Lexicon.prototype._unregisterTerm=function(A,s,c){var e=this;if(A==="uri")if(s!=this.defaultGraphOid){var f="u"+s;e.oidUris.search(f,function(o){e.uris.search(o,function(h){var d=h[1];""+h[0]==""+s?d===0?D.seq(function(b){e.oidUris.delete(f,function(){b()})},function(b){e.uris.delete(o,function(){b()})},function(b){e.knownGraphs.delete(s,function(){b()})})(function(){c()}):e.uris.insert(o,[s,d-1],function(){c()}):c()})})}else c();else if(A==="literal"){this.oidCounter++;var f="l"+s;e.oidLiterals.search(f,function(h){e.literals.search(h,function(d){var b=d[1];""+d[0]==""+s?b===0?D.seq(function(w){e.oidLiterals.delete(f,function(){w()})},function(w){e.literals.delete(h,function(){w()})})(function(){c()}):e.literals.insert(h,[s,b-1],function(){c()}):c()})})}else A==="blank"?e.oidBlanks.delete(""+s,function(){c()}):c()},X.exports={Lexicon}},{"./btree":139,"./utils":156}],143:[function(P,X,J){var D=P("./utils");if(!D.isWorker()){var O=P("http"),A=P("https"),s=P("url");NetworkTransport={load:function(c,e,f,o){var h=o??3,d=s.parse(c,!0,!0),b={host:d.host,hostname:d.hostname,method:"GET",path:d.path,headers:{host:d.hostname,Accept:e}},w=null;d.protocol==="http:"?(b.port=d.port||80,w=O):d.protocol==="https:"&&(b.port=d.port||443,w=A);var v=w.request(b,function(l){var x=l.headers,T="";if((""+l.statusCode)[0]=="2")l.on("end",function(){f(null,{headers:x,data:T})}),l.on("data",function(F){T=T+F});else if((""+l.statusCode)[0]=="3")if(h==0)f(new Error("Too many redirections"));else{var I=x.Location||x.location;I!=null?NetworkTransport.load(I,e,f,h-1):f(new Error("Redirection without location header"))}else f(new Error("HTTP error: "+l.statusCode))});v.on("error",f),v.end()}},X.exports={NetworkTransport}}},{"./utils":156,http:111,https:34,url:132}],144:[function(P,X,J){X.exports=function(){"use strict";function D(s,c){function e(){this.constructor=s}e.prototype=c.prototype,s.prototype=new e}function O(s,c,e,f){this.message=s,this.expected=c,this.found=e,this.location=f,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,O)}D(O,Error),O.buildMessage=function(s,c){var e={literal:function(v){return'"'+o(v.text)+'"'},class:function(v){var l="",x;for(x=0;x<v.parts.length;x++)l+=v.parts[x]instanceof Array?h(v.parts[x][0])+"-"+h(v.parts[x][1]):h(v.parts[x]);return"["+(v.inverted?"^":"")+l+"]"},any:function(v){return"any character"},end:function(v){return"end of input"},other:function(v){return v.description}};function f(v){return v.charCodeAt(0).toString(16).toUpperCase()}function o(v){return v.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(l){return"\\x0"+f(l)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(l){return"\\x"+f(l)})}function h(v){return v.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(l){return"\\x0"+f(l)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(l){return"\\x"+f(l)})}function d(v){return e[v.type](v)}function b(v){var l=new Array(v.length),x,T;for(x=0;x<v.length;x++)l[x]=d(v[x]);if(l.sort(),l.length>0){for(x=1,T=1;x<l.length;x++)l[x-1]!==l[x]&&(l[T]=l[x],T++);l.length=T}switch(l.length){case 1:return l[0];case 2:return l[0]+" or "+l[1];default:return l.slice(0,-1).join(", ")+", or "+l[l.length-1]}}function w(v){return v?'"'+o(v)+'"':"end of input"}return"Expected "+b(s)+" but "+w(c)+" found."};function A(s,c){c=c!==void 0?c:{};var e={},f={DOCUMENT:ko},o=ko,h=Se("[1] QueryUnit"),d=Se("[2] Query"),b=function(t,n,u){return{token:"query",kind:"query",prologue:t,units:[n],inlineData:u}},w=Se("[3] Prologue"),v=function(t,n){return{token:"prologue",base:t,prefixes:n}},l=Se("[4] BaseDecl"),x="BASE",T=_e("BASE",!1),I="base",F=_e("base",!1),L=function(t){Qg(t);var n={};return n.token="base",n.value=t,n},C=Se("[5] PrefixDecl"),_="PREFIX",E=_e("PREFIX",!1),Q="prefix",B=_e("prefix",!1),q=function(t,n){Pg(t,n);var u={};return u.token="prefix",u.prefix=t,u.local=n,u},K=Se("[6] SelectQuery"),W=function(t,n,u,a){for(var g={named:[],implicit:[]},y=0;y<n.length;y++){var N=n[y];N.kind==="default"?g.implicit.push(N.graph):g.named.push(N.graph)}g.named.length===0&&g.implicit.length===0&&g.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});var k={};return k.kind="select",k.token="executableunit",k.dataset=g,k.projection=t.vars,k.modifier=t.modifier,k.pattern=u,a!=null&&a.limit!=null&&(k.limit=a.limit),a!=null&&a.offset!=null&&(k.offset=a.offset),a!=null&&a.order!=null&&a.order!=""&&(k.order=a.order),a!=null&&a.group!=null&&(k.group=a.group),k},pe=Se("[7] SubSelect"),te=function(t,n,u){var a={};return a.kind="select",a.token="subselect",a.projection=t.vars,a.modifier=t.modifier,a.pattern=n,u!=null&&u.limit!=null&&(a.limit=u.limit),u!=null&&u.offset!=null&&(a.offset=u.offset),u!=null&&u.order!=null&&u.order!=""&&(a.order=u.order),u!=null&&u.group!=null&&(a.group=u.group),a},ue=Se("[8] SelectClause"),se="SELECT",be=_e("SELECT",!1),Y="select",de=_e("select",!1),le="DISTINCT",ce=_e("DISTINCT",!1),$="distinct",ve=_e("distinct",!1),re="REDUCED",ae=_e("REDUCED",!1),he="reduced",fe=_e("reduced",!1),ie="(",oe=_e("(",!1),ke="AS",ne=_e("AS",!1),ee="as",me=_e("as",!1),Ae=")",xe=_e(")",!1),Z="*",U=_e("*",!1),M=function(t,n){var u=[];if(n.length===3&&n[1]==="*")return{vars:[{token:"variable",kind:"*"}],modifier:sl(t)};for(var a=0;a<n.length;a++){var g=n[a];g.length===3?u.push({token:"variable",kind:"var",value:g[1]}):u.push({token:"variable",kind:"aliased",expression:g[3],alias:g[7]})}return{vars:u,modifier:sl(t)}},G=Se("[9] ConstructQuery"),z="CONSTRUCT",ye=_e("CONSTRUCT",!1),Fe="construct",Ce=_e("construct",!1),Ne=function(t,n,u,a){for(var g={named:[],implicit:[]},y=0;y<n.length;y++){var N=n[y];N.kind==="default"?g.implicit.push(N.graph):g.named.push(N.graph)}g.named.length===0&&g.implicit.length===0&&g.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});var k={};return k.kind="construct",k.token="executableunit",k.dataset=g,k.template=t,k.pattern=u,a!=null&&a.limit!=null&&(k.limit=a.limit),a!=null&&a.offset!=null&&(k.offset=a.offset),a!=null&&a.order!=null&&a.order!=""&&(k.order=a.order),k},Le="WHERE",Ue=_e("WHERE",!1),qe="where",Ge=_e("where",!1),Je="{",$e=_e("{",!1),ze="}",Ke=_e("}",!1),ht=function(t,n,u){for(var a={named:[],implicit:[]},g=0;g<t.length;g++){var y=t[g];y.kind==="default"?a.implicit.push(y.graph):a.named.push(y.graph)}a.named.length===0&&a.implicit.length===0&&a.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});var N={};return N.kind="construct",N.token="executableunit",N.dataset=a,N.template=n,N.pattern={token:"basicgraphpattern",triplesContext:n.triplesContext},u!=null&&u.limit!=null&&(N.limit=u.limit),u!=null&&u.offset!=null&&(N.offset=u.offset),u!=null&&u.order!=null&&u.order!=""&&(N.order=u.order),N},sr=Se("[10] DescribeQuery"),Nt="DESCRIBE",je=_e("DESCRIBE",!1),Te=Se("[11] AskQuery"),Be="ASK",He=_e("ASK",!1),Ve="ask",De=_e("ask",!1),dt=function(t,n){for(var u={named:[],implicit:[]},a=0;a<t.length;a++){var g=t[a];g.kind==="implicit"?u.implicit.push(g.graph):u.named.push(g.graph)}u.named.length===0&&u.implicit.length===0&&u.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});var y={};return y.kind="ask",y.token="executableunit",y.dataset=u,y.pattern=n,y},xt=Se("[12] DatasetClause"),it="FROM",vt=_e("FROM",!1),Mt="from",St=_e("from",!1),ot=function(t){return t},mr=Se("[13] DefaultGraphClause"),xr=function(t){return{graph:t,kind:"default",token:"graphClause"}},wr=Se("[14] NamedGraphClause"),ft="NAMED",Ot=_e("NAMED",!1),pt="named",Lt=_e("named",!1),ar=function(t){return{graph:t,kind:"named",token:"graphCluase"}},_r=Se("[15] SourceSelector"),kr=Se("[16] WhereClause"),Bt=function(t){return t},Er=Se("[17] SolutionModifier"),or=function(t,n,u){var a={};return u!=null&&(u.limit!=null&&(a.limit=u.limit),u.offset!=null&&(a.offset=u.offset)),t!=null&&(a.group=t),a.order=n,a},Ar=Se("[18] GroupClause"),Sr="GROUP",lr=_e("GROUP",!1),wt="group",Ut=_e("group",!1),Gt="BY",ur=_e("BY",!1),jr="by",vn=_e("by",!1),ol=function(t){return t},ll=Se("[19] GroupCondition"),ul=function(t){return t},fl=function(t){return t},cl=function(t,n){return n.length!=0?{token:"aliased_expression",expression:t,alias:n[2]}:t},yn=function(t){return t},pl=Se("[20] HavingClause"),gn="HAVING",hl=_e("HAVING",!1),dl=Se("[21] HavingCondition"),vl=Se("[22] OrderClause"),bn="ORDER",yl=_e("ORDER",!1),mn="order",gl=_e("order",!1),bl=function(t){return t},ml=Se("[23] OrderCondition"),xn="ASC",xl=_e("ASC",!1),wn="asc",wl=_e("asc",!1),_n="DESC",_l=_e("DESC",!1),kn="desc",kl=_e("desc",!1),El=function(t,n){return{direction:t.toUpperCase(),expression:n}},Al=function(t){if(t.token==="var")var t={token:"expression",expressionType:"atomic",primaryexpression:"var",value:t};return{direction:"ASC",expression:t}},Sl=Se("[24] LimitOffsetClauses"),jl=function(t){for(var n={},u=0;u<t.length;u++){var a=t[u];a!=null&&a.limit!=null?n.limit=a.limit:a!=null&&a.offset!=null&&(n.offset=a.offset)}return n},Tl=Se("[25] LimitClause"),En="LIMIT",Fl=_e("LIMIT",!1),An="limit",Il=_e("limit",!1),Cl=function(t){return{limit:parseInt(t.value)}},Rl=Se("[26] OffsetClause"),Sn="OFFSET",Nl=_e("OFFSET",!1),jn="offset",Ol=_e("offset",!1),Ll=function(t){return{offset:parseInt(t.value)}},Dl=Se("[27] BindingsClause"),Tn="BINDINGS",Pl=_e("BINDINGS",!1),Ql=Se("[28] BindingValue"),Tr="UNDEF",Fn=_e("UNDEF",!1),Ml=Se("[28]	ValuesClause	  ::=	( 'VALUES' DataBlock )?"),Fr="VALUES",In=_e("VALUES",!1),Ir="values",Cn=_e("values",!1),Bl=function(t){return t!=null?t[1]:null},Ul=Se("[29] UpdateUnit"),Gl=Se("[30] Update"),_t=";",kt=_e(";",!1),ql=function(t,n,u){var a={};a.token="query",a.kind="update",a.prologue=t;var g=[n];return u!=null&&u.length!=null&&u[3]!=null&&u[3].units!=null&&(g=g.concat(u[3].units)),a.units=g,a},Hl=Se("[31] Update1"),Jl=Se("[32] Load"),Rn="LOAD",zl=_e("LOAD",!1),Nn="load",Vl=_e("load",!1),On="INTO",Wl=_e("INTO",!1),Ln="into",Xl=_e("into",!1),Kl=function(t,n){var u={};return u.kind="load",u.token="executableunit",u.sourceGraph=t,n!=null&&(u.destinyGraph=n[2]),u},$l=Se("[33] Clear"),Dn="CLEAR",Zl=_e("CLEAR",!1),Pn="clear",Yl=_e("clear",!1),qt="SILENT",mi=_e("SILENT",!1),Ht="silent",xi=_e("silent",!1),eu=function(t){var n={};return n.kind="clear",n.token="executableunit",n.destinyGraph=t,n},tu=Se("[34] Drop"),Qn="DROP",ru=_e("DROP",!1),Mn="drop",iu=_e("drop",!1),nu=function(t){var n={};return n.kind="drop",n.token="executableunit",n.destinyGraph=t,n},su=Se("[35] Create"),Bn="CREATE",au=_e("CREATE",!1),Un="create",ou=_e("create",!1),lu=function(t){var n={};return n.kind="create",n.token="executableunit",n.destinyGraph=t,n},uu=Se("[36] InsertData"),Cr="INSERT",Gn=_e("INSERT",!1),Rr="insert",qn=_e("insert",!1),Nr="DATA",Hn=_e("DATA",!1),Or="data",Jn=_e("data",!1),fu=function(t){var n={};return n.kind="insertdata",n.token="executableunit",n.quads=t,n},cu=Se("[37] DeleteData"),Jt="DELETE",wi=_e("DELETE",!1),zt="delete",_i=_e("delete",!1),pu=function(t){var n={};return n.kind="deletedata",n.token="executableunit",n.quads=t,n},hu=Se("[38] DeleteWhere"),du=function(t){var n={};n.kind="modify",n.pattern=t,n.with=null,n.using=null;var u=[],a=t.patterns[0];a.triplesContext==null&&a.patterns!=null?a=a.patterns[0].triplesContext:a=a.triplesContext;for(var g=0;g<a.length;g++){var y={},N=a[g];y.subject=N.subject,y.predicate=N.predicate,y.object=N.object,y.graph=N.graph,u.push(y)}return n.delete=u,n},vu=Se("[39] Modify"),zn="WITH",yu=_e("WITH",!1),Vn="with",gu=_e("with",!1),bu=function(t,n,u,a){var g={};return g.kind="modify",t!=""&&t!=null?g.with=t[2]:g.with=null,n.length===3&&(n[2]===""||n[2]==null)?(g.delete=n[0],g.insert=null):n.length===3&&n[0].length!=null&&n[1].length!=null&&n[2].length!=null?(g.delete=n[0],g.insert=n[2]):(g.insert=n,g.delete=null),u!=""&&(g.using=u),g.pattern=a,g},mu=Se("[40] DeleteClause"),Wn=function(t){return t},xu=Se("[41] InsertClause"),wu=Se("[42] UsingClause"),Xn="USING",_u=_e("USING",!1),Kn="using",ku=_e("using",!1),Eu=function(t){return t.length!=null?{kind:"named",uri:t[2]}:{kind:"default",uri:t}},Au=Se("[43] GraphRef"),Vt="GRAPH",ki=_e("GRAPH",!1),Wt="graph",Ei=_e("graph",!1),Su=function(t){return t},ju=Se("[44] GraphRefAll"),$n="DEFAULT",Tu=_e("DEFAULT",!1),Zn="default",Fu=_e("default",!1),Iu=function(){return"default"},Cu=function(){return"named"},Yn="ALL",Ru=_e("ALL",!1),es="all",Nu=_e("all",!1),Ou=function(){return"all"},Lu=Se("[45] QuadPattern"),ts=function(t){return t.quadsContext},Du=Se("[46] QuadData"),Pu=Se("[47] Quads"),nt=".",st=_e(".",!1),Qu=function(t,n){var u=[];if(t!=null&&t.triplesContext!=null)for(var a=0;a<t.triplesContext.length;a++){var g=t.triplesContext[a];g.graph=null,u.push(g)}if(n&&n.length>0&&n[0].length>0&&(u=u.concat(n[0][0].quadsContext),n[0][2]!=null&&n[0][2].triplesContext!=null))for(var a=0;a<n[0][2].triplesContext.length;a++){var g=n[0][2].triplesContext[a];g.graph=null,u.push(g)}return{token:"quads",quadsContext:u}},Mu=Se("[48] QuadsNotTriples"),Bu=function(t,n){var u=[];if(n!=null)for(var a=0;a<n.triplesContext.length;a++){var g=n.triplesContext[a];g.graph=t,u.push(g)}return{token:"quadsnottriples",quadsContext:u}},Uu=Se("[49] TriplesTemplate"),Gu=function(t,n){var u=t.triplesContext;return n!=null&&typeof n=="object"&&n.length!=null&&n[3]!=null&&n[3].triplesContext!=null&&(u=u.concat(n[3].triplesContext)),{token:"triplestemplate",triplesContext:u}},qu=Se("[50] GroupGraphPattern"),Ai=function(t){return t},Hu=Se("[51] GroupGraphPatternSub"),Ju=function(t,n){var u=[];t!=null&&t!=[]&&u.push(t);for(var a=0;a<n.length;a++)for(var g=0;g<n[a].length;g++)n[a][g]!=null&&n[a][g].token!=null&&u.push(n[a][g]);for(var y=[],N=[],k=[],V=[],a=0;a<u.length;a++)if(u[a].token!=="triplespattern"&&u[a].token!=="filter"&&u[a].token!=="bind"){if(N.length!=0||k.length!=0){for(var H=[],g=0;g<N.length;g++)H=H.concat(N[g].triplesContext);H.length>0&&y.push({token:"basicgraphpattern",triplesContext:H}),N=[]}y.push(u[a])}else u[a].token==="triplespattern"?N.push(u[a]):u[a].token==="bind"?V.push(u[a]):k.push(u[a]);if(N.length!=0||k.length!=0){for(var H=[],g=0;g<N.length;g++)H=H.concat(N[g].triplesContext);H.length>0&&y.push({token:"basicgraphpattern",triplesContext:H})}return{token:"groupgraphpattern",patterns:y,filters:k,binds:V}},zu=Se("[54] TriplesBlock"),Vu=function(t,n){var u=t.triplesContext;return n!=null&&typeof n=="object"&&n!=null&&n.length!=null&&n[2]!=null&&n[2].triplesContext!=null&&(u=u.concat(n[2].triplesContext)),{token:"triplespattern",triplesContext:u}},Wu=Se("[53] GraphPatternNotTriples"),Xu=Se("[54] OptionalGraphPattern"),rs="OPTIONAL",Ku=_e("OPTIONAL",!1),is="optional",$u=_e("optional",!1),Zu=function(t){return{token:"optionalgraphpattern",value:t}},Yu=Se("[55] GraphGraphPattern"),ef=function(t,n){for(var u=0;u<n.patterns.length;u++)for(var a=[],g=n.patterns[u],y=0;y<g.triplesContext.length;y++){var N=g.triplesContext[y];N.graph=t}return n.token="groupgraphpattern",n},tf=Se("[56] ServiceGraphPattern"),ns="SERVICE",rf=_e("SERVICE",!1),nf=function(t,n){return{token:"servicegraphpattern",status:"todo",value:[t,n]}},sf=Se("[57] MinusGraphPattern"),ss="MINUS",af=_e("MINUS",!1),as="minus",of=_e("minus",!1),lf=function(t){return{token:"minusgraphpattern",status:"todo",value:t}},uf=Se("[58] GroupOrUnionGraphPattern"),Lr="UNION",os=_e("UNION",!1),Dr="union",ls=_e("union",!1),ff=function(t,n){if(n.length===0)return t;for(var u={token:"graphunionpattern",value:[t]},a=0;a<n.length;a++)if(a==n.length-1)u.value.push(n[a][3]);else{u.value.push(n[a][3]);var g={token:"graphunionpattern",value:[u]};u=g}return u},cf=Se("[59] Filter"),us="FILTER",pf=_e("FILTER",!1),fs="filter",hf=_e("filter",!1),df=function(t){return{token:"filter",value:t}},vf=Se("[60] Bind"),cs="BIND",yf=_e("BIND",!1),ps="bind",gf=_e("bind",!1),bf=function(t,n){return{token:"bind",expression:t,as:n}},mf=Se("[60] Constraint"),xf=Se("[61] InlineData"),wf=function(t){return t},_f=Se("[62] DataBlock"),kf=Se("[63] InlineDataOneVar"),Ef=function(t,n){var u={token:"inlineData",values:[{var:t,value:n}]};return u},Af=Se("[64] InlineDataFull"),Sf=function(t,n){var u={token:"inlineData",values:[],todo:!0};return u},jf=Se("[65] DataBlockValue"),Tf=Se("[61] FunctionCall"),Ff=function(t,n){var u={};return u.token="expression",u.expressionType="irireforfunction",u.iriref=t,u.args=n.value,u},If=Se("[62] ArgList"),hs=function(){var t={};return t.token="args",t.value=[],t},Ye=",",et=_e(",",!1),Cf=function(t,n,u){for(var a=[],g=0;g<u.length;g++)a.push(u[g][2]);var y={};return y.token="args",y.value=[n].concat(a),t!=null&&t.toUpperCase()==="DISTINCT"?y.distinct=!0:y.distinct=!1,y},Rf=Se("[63] ExpressionList"),Nf=function(t,n){for(var u=[],a=0;a<n.length;a++)u.push(n[a][2]);var g={};return g.token="args",g.value=[t].concat(u),g},Of=Se("[64] ConstructTemplate"),Lf=function(t){return t},Df=Se("[65] ConstructTriples"),Pf=function(t,n){var u=t.triplesContext,a=null;return n!=null&&typeof n=="object"&&n.length!=null&&n[3]!=null&&n[3].triplesContext!=null&&(u=u.concat(n[3].triplesContext)),{token:"triplestemplate",triplesContext:u}},Qf=Se("[66] TriplesSameSubject"),Mf=function(t,n){var u=n.triplesContext,a=t;if(n.pairs)for(var g=0;g<n.pairs.length;g++){var y=n.pairs[g],N=null;y[1].length!=null&&(y[1]=y[1][0]),a.token&&a.token==="triplesnodecollection"?(N={subject:a.chainSubject[0],predicate:y[0],object:y[1]},u.push(N),u=u.concat(a.triplesContext)):(N={subject:a,predicate:y[0],object:y[1]},u.push(N))}var k={};return k.token="triplessamesubject",k.triplesContext=u,k.chainSubject=a,k},Bf=function(t,n){var u=t.triplesContext,a=t.chainSubject;if(n.pairs)for(var g=0;g<n.pairs.length;g++){var y=n.pairs[g];if(y[1].length!=null&&(y[1]=y[1][0]),t.token==="triplesnodecollection")for(var N=0;N<a.length;N++){var k=a[N];if(k.triplesContext!=null){var V={subject:k.chainSubject,predicate:y[0],object:y[1]};u.concat(k.triplesContext)}else{var V={subject:a[N],predicate:y[0],object:y[1]};u.push(V)}}else{var V={subject:a,predicate:y[0],object:y[1]};u.push(V)}}var H={};return H.token="triplessamesubject",H.triplesContext=u,H.chainSubject=a,H},Uf=Se("[83] PropertyListPathNotEmpty"),Gf=function(t,n,u){var a={};a.token="propertylist";for(var g=[],y=[],N=[],k=0;k<n.length;k++)n[k].triplesContext!=null?(g=g.concat(n[k].triplesContext),n[k].token==="triplesnodecollection"&&n[k].chainSubject.length!=null?y.push([t,n[k].chainSubject[0]]):y.push([t,n[k].chainSubject])):y.push([t,n[k]]);for(var k=0;k<u.length;k++)for(var V=u[k][3],H=V[0],we=V[2]||[],ge=0;ge<we.length;ge++)we[ge].triplesContext!=null?(g=g.concat(we[ge].triplesContext),y.push([H,we[ge].chainSubject])):y.push([H,we[ge]]);return a.pairs=y,a.triplesContext=g,a},qf=Se("[67] PropertyListNotEmpty"),Hf=function(t,n,u){var a={};a.token="propertylist";for(var g=[],y=[],N=[],k=0;k<n.length;k++)n[k].triplesContext!=null?(g=g.concat(n[k].triplesContext),n[k].token==="triplesnodecollection"&&n[k].chainSubject.length!=null?y.push([t,n[k].chainSubject[0]]):y.push([t,n[k].chainSubject])):y.push([t,n[k]]);for(var k=0;k<u.length;k++)for(var V=u[k][3],H=V[0],we=V[2]||[],ge=0;ge<we.length;ge++)we[ge].triplesContext!=null?(g=g.concat(we[ge].triplesContext),y.push([H,we[ge].chainSubject])):y.push([H,we[ge]]);return a.pairs=y,a.triplesContext=g,a},Jf=Se("[68] PropertyList"),zf=Se("[86] ObjectListPath"),Vf=function(t,n){var u=[];u.push(t);for(var a=0;a<n.length;a++)for(var g=0;g<n[a].length;g++)typeof n[a][g]=="object"&&n[a][g].token!=null&&u.push(n[a][g]);return u},Wf=Se("[69] ObjectList"),Xf=function(t,n){var u=[];u.push(t);for(var a=0;a<n.length;a++)for(var g=0;g<n[a].length;g++)typeof n[a][g]=="object"&&n[a][g].token!=null&&u.push(n[a][g]);return u},Kf=Se("[87] ObjectPath"),$f=Se("[70] Object"),Zf=Se("[71] Verb"),Pr="a",Qr=_e("a",!1),ds=function(){return{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}},Yf=Se("[72] TriplesSameSubjectPath"),ec=function(t,n){var u=n.triplesContext,a=t;if(n.pairs)for(var g=0;g<n.pairs.length;g++){var y=n.pairs[g],N=null;y[1].length!=null&&(y[1]=y[1][0]),a.token&&a.token==="triplesnodecollection"?(N={subject:a.chainSubject[0],predicate:y[0],object:y[1]},N.predicate.token==="path"&&N.predicate.kind==="element"&&(N.predicate=N.predicate.value),u.push(N),u=u.concat(a.triplesContext)):(N={subject:a,predicate:y[0],object:y[1]},N.predicate.token==="path"&&N.predicate.kind==="element"&&(N.predicate=N.predicate.value),u.push(N))}var k={};return k.token="triplessamesubject",k.triplesContext=u,k.chainSubject=a,k},tc=function(t,n){var u=t.triplesContext,a=t.chainSubject;if(n!=null&&n.pairs!=null)for(var g=0;g<n.pairs.length;g++){var y=n.pairs[g];if(y[1].length!=null&&(y[1]=y[1][0]),t.token==="triplesnodecollection")for(var N=0;N<a.length;N++){var k=a[N];if(k.triplesContext!=null){var V={subject:k.chainSubject,predicate:y[0],object:y[1]};u.concat(k.triplesContext)}else{var V={subject:a[N],predicate:y[0],object:y[1]};u.push(V)}}else{var V={subject:a,predicate:y[0],object:y[1]};u.push(V)}}var H={};return H.token="triplessamesubject",H.triplesContext=u,H.chainSubject=a,H},rc=Se("[73] PropertyListNotEmptyPath"),ic=function(t,n,u){var a={};a.token="propertylist";for(var g=[],y=[],N=[],k=0;k<n.length;k++)n[k].triplesContext!=null?(g=g.concat(n[k].triplesContext),n[k].token==="triplesnodecollection"&&n[k].chainSubject.length!=null?y.push([t,n[k].chainSubject[0]]):y.push([t,n[k].chainSubject])):y.push([t,n[k]]);for(var k=0;k<u.length;k++)for(var V=u[k][3],H=V[0],we=V[1]||[],ge=0;ge<we.length;ge++)we[ge].triplesContext!=null?(g=g.concat(we[ge].triplesContext),y.push([H,we[ge].chainSubject])):y.push([H,we[ge]]);return a.pairs=y,a.triplesContext=g,a},nc=Se("[74] PropertyListPath"),sc=Se("[75]"),ac=function(t){var n={};return n.token="path",n.kind="element",n.value=t,t},oc=Se("[76] VerbSimple"),lc=Se("[77] Path"),uc=Se("[78] PathAlternative"),Mr="|",Br=_e("|",!1),fc=function(t,n){if(n==null||n.length===0)return t;for(var u=[],a=0;a<n.length;a++)u.push(n[1]);var g={};return g.token="path",g.kind="alternative",g.value=u,g},cc=Se("[79] PathSequence"),Dt="/",Pt=_e("/",!1),pc=function(t,n){if(n==null||n.length===0)return t;for(var u=[t],a=0;a<n.length;a++)u.push(n[a][1]);var g={};return g.token="path",g.kind="sequence",g.value=u,g},hc=Se("[88] PathElt"),dc=function(t,n){if(t.token&&t.token!="path"&&n=="")return t;if(t.token&&t.token!=u&&n!=""){var u={};return u.token="path",u.kind="element",u.value=t,u.modifier=n,u}else return t.modifier=n,t},vc=Se("[81] PathEltOrInverse"),vs="^",ys=_e("^",!1),yc=function(t){var n={};return n.token="path",n.kind="inversePath",n.value=t,n},gc=Se("[82] PathMod"),Si="?",ji=_e("?",!1),jt="+",Tt=_e("+",!1),bc=Se("[83] PathPrimary"),Ti="!",Fi=_e("!",!1),mc=Se("[85] PathOneInPropertySet"),xc=Se("[86] Integer"),wc=Se("[100] TriplesNodePath"),_c=function(t){for(var n=[],u=[],a=null,g=0;g<t.length;g++){at++;var y=null;t[g].chainSubject==null&&t[g].triplesContext==null?y=t[g]:(y=t[g].chainSubject,n=n.concat(t[g].triplesContext)),a={subject:{token:"blank",value:"_:"+at},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:y},g==0&&u.push(a.subject),n.push(a),g===t.length-1?a={subject:{token:"blank",value:"_:"+at},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:a={subject:{token:"blank",value:"_:"+at},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(at+1)}},n.push(a)}return{token:"triplesnodecollection",triplesContext:n,chainSubject:u}},kc=Se("[87] TriplesNode"),Ec=function(t){for(var n=[],u=[],a=null,g=0;g<t.length;g++){at++;var y=null;t[g].chainSubject==null&&t[g].triplesContext==null?y=t[g]:(y=t[g].chainSubject,n=n.concat(y.triplesContext)),a={subject:{token:"blank",value:"_:"+at},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:y},g==0&&u.push(a.subject),n.push(a),g===t.length-1?a={subject:{token:"blank",value:"_:"+at},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:a={subject:{token:"blank",value:"_:"+at},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(at+1)}},n.push(a)}return{token:"triplesnodecollection",triplesContext:n,chainSubject:u}},Ac=Se("[101] BlankNodePropertyListPath"),Ii="[",Ci=_e("[",!1),Ri="]",Ni=_e("]",!1),Sc=function(t){at++;for(var n={token:"blank",value:"_:"+at},u=[],a=0;a<t.pairs.length;a++){var g=t.pairs[a],y={};y.subject=n,y.predicate=g[0],g[1].length!=null&&(g[1]=g[1][0]),y.object=g[1],u.push(y)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:t.triplesContext.concat(u),chainSubject:n}},jc=Se("[88] BlankNodePropertyList"),Tc=function(t){at++;for(var n={token:"blank",value:"_:"+at},u=[],a=0;a<t.pairs.length;a++){var g=t.pairs[a],y={};y.subject=n,y.predicate=g[0],g[1].length!=null&&(g[1]=g[1][0]),y.object=g[1],u.push(y)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:t.triplesContext.concat(u),chainSubject:n}},Fc=Se("[103] CollectionPath"),gs=function(t){return t},Ic=Se("[89] Collection"),Cc=Se("[105] GraphNodePath"),bs=function(t){return t[1]},Rc=Se("[90] GraphNode"),Nc=Se("[91] VarOrTerm"),Oc=Se("[92] VarOrIRIref"),Lc=Se("[93] Var"),Dc=function(t){var n={};return n.token="var",n.value=t,n},Pc=Se("[94] GraphTerm"),Qc=Se("[95] Expression"),Mc=Se("[96] ConditionalOrExpression"),Ur="||",ms=_e("||",!1),Bc=function(t,n){if(n.length===0)return t;var u={};u.token="expression",u.expressionType="conditionalor";for(var a=[t],g=0;g<n.length;g++)a.push(n[g][3]);return u.operands=a,u},Uc=Se("[97] ConditionalAndExpression"),Gr="&&",xs=_e("&&",!1),Gc=function(t,n){if(n.length===0)return t;var u={};u.token="expression",u.expressionType="conditionaland";for(var a=[t],g=0;g<n.length;g++)a.push(n[g][3]);return u.operands=a,u},qc=Se("[98] ValueLogical"),Hc=Se("[99] RelationalExpression"),qr="=",Hr=_e("=",!1),Jr="!=",ws=_e("!=",!1),Oi="<",Li=_e("<",!1),Di=">",Pi=_e(">",!1),zr="<=",_s=_e("<=",!1),Vr=">=",ks=_e(">=",!1),Wr="I",Xr=_e("I",!1),Kr="i",$r=_e("i",!1),Xt="N",Kt=_e("N",!1),$t="n",Zt=_e("n",!1),Es="O",As=_e("O",!1),Ss="o",js=_e("o",!1),Ts="T",Fs=_e("T",!1),Is="t",Cs=_e("t",!1),Jc=function(t,n){if(n.length===0)return t;if(n[0][1]==="i"||n[0][1]==="I"||n[0][1]==="n"||n[0][1]==="N"){var u={};if(n[0][1]==="i"||n[0][1]==="I"){var a="=";u.expressionType="conditionalor"}else{var a="!=";u.expressionType="conditionaland"}for(var g=t,y=[],N=0;N<n[0].length;N++)if(n[0][N].token==="args"){y=n[0][N].value;break}u.token="expression",u.operands=[];for(var k=0;k<y.length;k++){var V={};V.token="expression",V.expressionType="relationalexpression",V.operator=a,V.op1=g,V.op2=y[k],u.operands.push(V)}return u}else{var u={};return u.expressionType="relationalexpression",u.operator=n[0][1],u.op1=t,u.op2=n[0][3],u.token="expression",u}},zc=Se("[100] NumericExpression"),Vc=Se("[101] AdditiveExpression"),yt="-",gt=_e("-",!1),Wc=function(t,n){if(n.length===0)return t;var u={};u.token="expression",u.expressionType="additiveexpression",u.summand=t,u.summands=[];for(var a=0;a<n.length;a++){var g=n[a],y={};if(g.length==4&&typeof g[1]=="string")y.operator=g[1],y.expression=g[3];else{var N={},k=y[0],H=y[1][1],V=y[1][3],H=null;k.value<0?(y.operator="-",k.value=-k.value):y.operator="+",N.token="expression",N.expressionType="multiplicativeexpression",N.operator=k,N.factors=[{operator:H,expression:V}],y.expression=N}u.summands.push(y)}return u},Xc=Se("[102] MultiplicativeExpression"),Kc=function(t,n){if(n.length===0)return t;var u={};u.token="expression",u.expressionType="multiplicativeexpression",u.factor=t,u.factors=[];for(var a=0;a<n.length;a++){var g=n[a],y={};y.operator=g[1],y.expression=g[3],u.factors.push(y)}return u},$c=Se("[103] UnaryExpression"),Zc=function(t){var n={};return n.token="expression",n.expressionType="unaryexpression",n.unaryexpression="!",n.expression=t,n},Yc=function(t){var n={};return n.token="expression",n.expressionType="unaryexpression",n.unaryexpression="+",n.expression=t,n},ep=function(t){var n={};return n.token="expression",n.expressionType="unaryexpression",n.unaryexpression="-",n.expression=t,n},tp=Se("[104] PrimaryExpression"),rp=function(t){var n={};return n.token="expression",n.expressionType="atomic",n.primaryexpression="rdfliteral",n.value=t,n},ip=function(t){var n={};return n.token="expression",n.expressionType="atomic",n.primaryexpression="numericliteral",n.value=t,n},np=function(t){var n={};return n.token="expression",n.expressionType="atomic",n.primaryexpression="booleanliteral",n.value=t,n},sp=function(t){var n={};return n.token="expression",n.expressionType="atomic",n.primaryexpression="var",n.value=t,n},ap=Se("[105] BrackettedExpression"),op=function(t){return t},lp=Se("[106] BuiltInCall"),Rs="STR",up=_e("STR",!1),Ns="str",fp=_e("str",!1),cp=function(t){var n={};return n.token="expression",n.expressionType="builtincall",n.builtincall="str",n.args=[t],n},Os="LANG",pp=_e("LANG",!1),Ls="lang",hp=_e("lang",!1),dp=function(t){var n={};return n.token="expression",n.expressionType="builtincall",n.builtincall="lang",n.args=[t],n},Ds="LANGMATCHES",vp=_e("LANGMATCHES",!1),Ps="langmatches",yp=_e("langmatches",!1),gp=function(t,n){var u={};return u.token="expression",u.expressionType="builtincall",u.builtincall="langmatches",u.args=[t,n],u},Qs="DATATYPE",bp=_e("DATATYPE",!1),Ms="datatype",mp=_e("datatype",!1),xp=function(t){var n={};return n.token="expression",n.expressionType="builtincall",n.builtincall="datatype",n.args=[t],n},Bs="BOUND",wp=_e("BOUND",!1),Us="bound",_p=_e("bound",!1),kp=function(t){var n={};return n.token="expression",n.expressionType="builtincall",n.builtincall="bound",n.args=[t],n},Gs="IRI",Ep=_e("IRI",!1),qs="iri",Ap=_e("iri",!1),Sp=function(t){var n={};return n.token="expression",n.expressionType="builtincall",n.builtincall="iri",n.args=[t],n},Hs="URI",jp=_e("URI",!1),Js="uri",Tp=_e("uri",!1),Fp=function(t){var n={};return n.token="expression",n.expressionType="builtincall",n.builtincall="uri",n.args=[t],n},zs="BNODE",Ip=_e("BNODE",!1),Vs="bnode",Cp=_e("bnode",!1),Rp=function(t){var n={};return n.token="expression",n.expressionType="builtincall",n.builtincall="bnode",t.length===5?n.args=[t[2]]:n.args=null,n},Ws="COALESCE",Np=_e("COALESCE",!1),Xs="coalesce",Op=_e("coalesce",!1),Lp=function(t){var n={};return n.token="expression",n.expressionType="builtincall",n.builtincall="coalesce",n.args=t,n},Ks="IF",Dp=_e("IF",!1),$s="if",Pp=_e("if",!1),Qp=function(t,n,u){var a={};return a.token="expression",a.expressionType="builtincall",a.builtincall="if",a.args=[t,n,u],a},Zs="ISLITERAL",Mp=_e("ISLITERAL",!1),Ys="isliteral",Bp=_e("isliteral",!1),ea="isLITERAL",Up=_e("isLITERAL",!1),Gp=function(t){var n={};return n.token="expression",n.expressionType="builtincall",n.builtincall="isliteral",n.args=[t],n},ta="ISBLANK",qp=_e("ISBLANK",!1),ra="isblank",Hp=_e("isblank",!1),ia="isBLANK",Jp=_e("isBLANK",!1),zp=function(t){var n={};return n.token="expression",n.expressionType="builtincall",n.builtincall="isblank",n.args=[t],n},na="SAMETERM",Vp=_e("SAMETERM",!1),sa="sameterm",Wp=_e("sameterm",!1),Xp=function(t,n){var u={};return u.token="expression",u.expressionType="builtincall",u.builtincall="sameterm",u.args=[t,n],u},aa="ISURI",Kp=_e("ISURI",!1),oa="isuri",$p=_e("isuri",!1),la="isURI",Zp=_e("isURI",!1),ua="ISIRI",Yp=_e("ISIRI",!1),fa="isiri",eh=_e("isiri",!1),ca="isIRI",th=_e("isIRI",!1),rh=function(t){var n={};return n.token="expression",n.expressionType="builtincall",n.builtincall="isuri",n.args=[t],n},pa="custom:",ih=_e("custom:",!1),ha="CUSTOM:",nh=_e("CUSTOM:",!1),da=/^[a-zA-Z0-9_]/,va=Me([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),sh=function(t,n,u){var a={};a.token="expression",a.expressionType="custom",a.name=t.join("");for(var g=[],y=0;y<n.length;y++)g.push(n[y][1]);return g.push(u),a.args=g,a},ah=Se("[107] RegexExpression"),ya="REGEX",oh=_e("REGEX",!1),ga="regex",lh=_e("regex",!1),uh=function(t,n,u){var a={};return a.token="expression",a.expressionType="regex",a.text=t,a.pattern=n,u!=null&&(a.flags=u[2]),a},fh=Se("[108] ExistsFunc"),Zr="EXISTS",ba=_e("EXISTS",!1),Yr="exists",ma=_e("exists",!1),ch=function(t){var n={};return n.token="expression",n.expressionType="builtincall",n.builtincall="exists",n.args=[t],n},ph=Se("[109] NotExistsFunc"),xa="NOT",hh=_e("NOT",!1),wa="not",dh=_e("not",!1),vh=function(t){var n={};return n.token="expression",n.expressionType="builtincall",n.builtincall="notexists",n.args=[t],n},yh=Se("[110] Aggregate"),_a="COUNT",gh=_e("COUNT",!1),ka="count",bh=_e("count",!1),mh=function(t,n){var u={};return u.token="expression",u.expressionType="aggregate",u.aggregateType="count",u.distinct=t!=""&&t!=null?"DISTINCT":t,u.expression=n,u},Ea="GROUP_CONCAT",xh=_e("GROUP_CONCAT",!1),Aa="group_concat",wh=_e("group_concat",!1),Sa="SEPARATOR",_h=_e("SEPARATOR",!1),kh=function(t,n,u){var a={};return a.token="expression",a.expressionType="aggregate",a.aggregateType="group_concat",a.distinct=t!=""&&t!=null?"DISTINCT":t,a.expression=n,a.separator=u,a},ja="SUM",Eh=_e("SUM",!1),Ta="sum",Ah=_e("sum",!1),Sh=function(t,n){var u={};return u.token="expression",u.expressionType="aggregate",u.aggregateType="sum",u.distinct=t!=""&&t!=null?"DISTINCT":t,u.expression=n,u},Fa="MIN",jh=_e("MIN",!1),Ia="min",Th=_e("min",!1),Fh=function(t,n){var u={};return u.token="expression",u.expressionType="aggregate",u.aggregateType="min",u.distinct=t!=""&&t!=null?"DISTINCT":t,u.expression=n,u},Ca="MAX",Ih=_e("MAX",!1),Ra="max",Ch=_e("max",!1),Rh=function(t,n){var u={};return u.token="expression",u.expressionType="aggregate",u.aggregateType="max",u.distinct=t!=""&&t!=null?"DISTINCT":t,u.expression=n,u},Na="AVG",Nh=_e("AVG",!1),Oa="avg",Oh=_e("avg",!1),Lh=function(t,n){var u={};return u.token="expression",u.expressionType="aggregate",u.aggregateType="avg",u.distinct=t!=""&&t!=null?"DISTINCT":t,u.expression=n,u},Dh=Se("[117] IRIrefOrFunction"),Ph=function(t,n){var u={};return u.token="expression",u.expressionType="irireforfunction",u.iriref=t,u.args=n!=null?n.value:n,u},Qh=Se("[112] RDFLiteral"),La="^^",Mh=_e("^^",!1),Bh=function(t,n){return typeof n=="string"&&n.length>0?{token:"literal",value:t.value,lang:n.slice(1),type:null}:n!=null&&typeof n=="object"?(n.shift(),{token:"literal",value:t.value,lang:null,type:n[0]}):{token:"literal",value:t.value,lang:null,type:null}},Uh=Se("[113] NumericLiteral"),Gh=Se("[114] NumericLiteralUnsigned"),qh=Se("[115] NumericLiteralPositive"),Hh=Se("[116] NumericLiteralNegative"),Jh=Se("[117] BooleanLiteral"),Da="TRUE",zh=_e("TRUE",!1),Pa="true",Vh=_e("true",!1),Wh=function(){var t={};return t.token="literal",t.lang=null,t.type="http://www.w3.org/2001/XMLSchema#boolean",t.value=!0,t},Qa="FALSE",Xh=_e("FALSE",!1),Ma="false",Kh=_e("false",!1),$h=function(){var t={};return t.token="literal",t.lang=null,t.type="http://www.w3.org/2001/XMLSchema#boolean",t.value=!1,t},Zh=Se("[118] String"),ei=function(t){return{token:"string",value:t}},Yh=Se("[119] IRIref"),ed=function(t){return{token:"uri",prefix:null,suffix:null,value:t}},Ba=function(t){return t},td=Se("[120] PrefixedName"),rd=function(t){return{token:"uri",prefix:t[0],suffix:t[1],value:null}},id=function(t){return{token:"uri",prefix:t,suffix:"",value:null}},nd=Se("[121] BlankNode"),sd=function(t){return{token:"blank",value:t}},ad=function(){return at++,{token:"blank",value:"_:"+at}},od=Se("[122] IRI_REF"),Ua=/^[^<>"{}|\^`\\]/,Ga=Me(["<",">",'"',"{","}","|","^","`","\\"],!0,!1),ld=function(t){return t.join("")},ud=Se("[123] PNAME_NS"),fr=":",cr=_e(":",!1),fd=Se("[124] PNAME_LN"),cd=function(t,n){return[t,n]},pd=Se("[125] BLANK_NODE_LABEL"),qa="_:",hd=_e("_:",!1),dd=function(t){return t},vd=Se("[126] VAR1"),Ha=function(t){return t},yd=Se("[127] VAR2"),Ja="$",za=_e("$",!1),gd=Se("[128] LANGTAG"),Va="@",Wa=_e("@",!1),Xa=/^[a-zA-Z]/,Ka=Me([["a","z"],["A","Z"]],!1,!1),ti=/^[a-zA-Z0-9]/,ri=Me([["a","z"],["A","Z"],["0","9"]],!1,!1),bd=function(t,n){return n.length===0?("@"+t.join("")).toLowerCase():("@"+t.join("")+"-"+n[0][1].join("")).toLowerCase()},md=Se("[129] INTEGER"),We=/^[0-9]/,Xe=Me([["0","9"]],!1,!1),xd=function(t){var n={};return n.token="literal",n.lang=null,n.type="http://www.w3.org/2001/XMLSchema#integer",n.value=It(t),n},wd=Se("[130] DECIMAL"),_d=function(t,n,u){var a={};return a.token="literal",a.lang=null,a.type="http://www.w3.org/2001/XMLSchema#decimal",a.value=It([t,n,u]),a},kd=function(t,n){var u={};return u.token="literal",u.lang=null,u.type="http://www.w3.org/2001/XMLSchema#decimal",u.value=It([t,n]),u},Ed=Se("[131] DOUBLE"),Ad=function(t,n,u,a){var g={};return g.token="literal",g.lang=null,g.type="http://www.w3.org/2001/XMLSchema#double",g.value=It([t,n,u,a]),g},Sd=function(t,n,u){var a={};return a.token="literal",a.lang=null,a.type="http://www.w3.org/2001/XMLSchema#double",a.value=It([t,n,u]),a},jd=function(t,n){var u={};return u.token="literal",u.lang=null,u.type="http://www.w3.org/2001/XMLSchema#double",u.value=It([t,n]),u},Td=Se("[132] INTEGER_POSITIVE"),Fd=function(t){return t.value="+"+t.value,t},Id=Se("[133] DECIMAL_POSITIVE"),$a=function(t){return t.value="+"+t.value,t},Cd=Se("[134] DOUBLE_POSITIVE"),Rd=Se("[135] INTEGER_NEGATIVE"),Qi=function(t){return t.value="-"+t.value,t},Nd=Se("[136] DECIMAL_NEGATIVE"),Od=Se("[137] DOUBLE_NEGATIVE"),Ld=Se("[138] EXPONENT"),Dd=/^[eE]/,Pd=Me(["e","E"],!1,!1),Qd=/^[+\-]/,Md=Me(["+","-"],!1,!1),Bd=function(t,n,u){return It([t,n,u])},Ud=Se("[139] STRING_LITERAL1"),Mi="'",Bi=_e("'",!1),Za=/^[^'\\\n\r]/,Ya=Me(["'","\\",`
`,"\r"],!0,!1),ii=function(t){return It(t)},Gd=Se("[140] STRING_LITERAL2"),eo='"',to=_e('"',!1),ro=/^[^"\\\n\r]/,io=Me(['"',"\\",`
`,"\r"],!0,!1),qd=Se("[141] STRING_LITERAL_LONG1"),ni="'''",no=_e("'''",!1),so=/^[^'\\]/,ao=Me(["'","\\"],!0,!1),Hd=Se("[142] STRING_LITERAL_LONG2"),si='"""',oo=_e('"""',!1),lo=/^[^"\\]/,uo=Me(['"',"\\"],!0,!1),Jd=Se("[143] ECHAR"),fo="\\",co=_e("\\",!1),zd=/^[tbnrf"']/,Vd=Me(["t","b","n","r","f",'"',"'"],!1,!1),Wd=Se("[144] NIL"),Xd=function(){return{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}},Kd=Se("[145] WS"),$d=/^[ ]/,Zd=Me([" "],!1,!1),Yd=/^[\t]/,ev=Me(["	"],!1,!1),tv=/^[\r]/,rv=Me(["\r"],!1,!1),iv=/^[\n]/,nv=Me([`
`],!1,!1),sv=Se(" COMMENT"),po="#",ho=_e("#",!1),vo=/^[^\n\r]/,yo=Me([`
`,"\r"],!0,!1),av=Se("[146] ANON"),ov=Se("[147] PN_CHARS_BASE"),lv=/^[A-Z]/,uv=Me([["A","Z"]],!1,!1),fv=/^[a-z]/,cv=Me([["a","z"]],!1,!1),pv=/^[\xC0-\xD6]/,hv=Me([["\xC0","\xD6"]],!1,!1),dv=/^[\xD8-\xF6]/,vv=Me([["\xD8","\xF6"]],!1,!1),yv=/^[\xF8-\u02FF]/,gv=Me([["\xF8","\u02FF"]],!1,!1),bv=/^[\u0370-\u037D]/,mv=Me([["\u0370","\u037D"]],!1,!1),xv=/^[\u037F-\u1FFF]/,wv=Me([["\u037F","\u1FFF"]],!1,!1),_v=/^[\u200C-\u200D]/,kv=Me([["\u200C","\u200D"]],!1,!1),Ev=/^[\u2070-\u218F]/,Av=Me([["\u2070","\u218F"]],!1,!1),Sv=/^[\u2C00-\u2FEF]/,jv=Me([["\u2C00","\u2FEF"]],!1,!1),Tv=/^[\u3001-\uD7FF]/,Fv=Me([["\u3001","\uD7FF"]],!1,!1),Iv=/^[\uF900-\uFDCF]/,Cv=Me([["\uF900","\uFDCF"]],!1,!1),Rv=/^[\uFDF0-\uFFFD]/,Nv=Me([["\uFDF0","\uFFFD"]],!1,!1),Ov=/^[\u1000-\uEFFF]/,Lv=Me([["\u1000","\uEFFF"]],!1,!1),Dv=Se("[148] PN_CHARS_U"),go="_",bo=_e("_",!1),Pv=Se("[149] VARNAME"),Ui=/^[\xB7]/,Gi=Me(["\xB7"],!1,!1),qi=/^[\u0300-\u036F]/,Hi=Me([["\u0300","\u036F"]],!1,!1),Ji=/^[\u203F-\u2040]/,zi=Me([["\u203F","\u2040"]],!1,!1),Qv=function(t,n){return t+n.join("")},Mv=Se("[150] PN_CHARS"),Bv=Se("[151] PN_PREFIX"),Uv=function(t,n){if(n[n.length-1]==".")throw new Error("Wrong PN_PREFIX, cannot finish with '.'");return t+n.join("")},Gv=Se("[152] PN_LOCAL"),qv=function(t,n){return t+(n||[]).join("")},Hv=Se("[170] PLX"),Jv=Se("[171] PERCENT"),mo="%",xo=_e("%",!1),zv=function(t){return t.join("")},Vv=Se("[172] HEX"),Wv=/^[A-F]/,Xv=Me([["A","F"]],!1,!1),Kv=/^[a-f]/,$v=Me([["a","f"]],!1,!1),Zv=Se("[173] PN_LOCAL_ESC"),Yv="~",ey=_e("~",!1),ty="&",ry=_e("&",!1),iy=function(t){return"\\"+t},r=0,Ee=0,ai=[{line:1,column:1}],bt=0,Vi=[],m=0,oi;if("startRule"in c){if(!(c.startRule in f))throw new Error(`Can't start parsing from rule "`+c.startRule+'".');o=f[c.startRule]}function Mg(){return s.substring(Ee,r)}function Bg(){return pr(Ee,r)}function Ug(t,n){throw n=n!==void 0?n:pr(Ee,r),_o([Se(t)],s.substring(Ee,r),n)}function Gg(t,n){throw n=n!==void 0?n:pr(Ee,r),sy(t,n)}function _e(t,n){return{type:"literal",text:t,ignoreCase:n}}function Me(t,n,u){return{type:"class",parts:t,inverted:n,ignoreCase:u}}function qg(){return{type:"any"}}function ny(){return{type:"end"}}function Se(t){return{type:"other",description:t}}function wo(t){var n=ai[t],u;if(n)return n;for(u=t-1;!ai[u];)u--;for(n=ai[u],n={line:n.line,column:n.column};u<t;)s.charCodeAt(u)===10?(n.line++,n.column=1):n.column++,u++;return ai[t]=n,n}function pr(t,n){var u=wo(t),a=wo(n);return{start:{offset:t,line:u.line,column:u.column},end:{offset:n,line:a.line,column:a.column}}}function R(t){r<bt||(r>bt&&(bt=r,Vi=[]),Vi.push(t))}function sy(t,n){return new O(t,null,null,n)}function _o(t,n,u){return new O(O.buildMessage(t,n),t,n,u)}function ko(){var t;return t=ay(),t}function ay(){var t;return t=oy(),t===e&&(t=ky()),t}function oy(){var t,n;return m++,t=ly(),m--,t===e&&(n=e,m===0&&R(h)),t}function ly(){var t,n,u,a;return m++,t=r,n=Eo(),n!==e?(u=fy(),u===e&&(u=py(),u===e&&(u=hy(),u===e&&(u=dy()))),u!==e?(a=_y(),a!==e?(Ee=t,n=b(n,u,a),t=n):(r=t,t=e)):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(d)),t}function Eo(){var t,n,u,a,g;if(m++,t=r,n=uy(),n===e&&(n=null),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e){for(a=[],g=Ao();g!==e;)a.push(g),g=Ao();a!==e?(Ee=t,n=v(n,a),t=n):(r=t,t=e)}else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(w)),t}function uy(){var t,n,u,a,g;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.substr(r,4)===x?(u=x,r+=4):(u=e,m===0&&R(T)),u===e&&(s.substr(r,4)===I?(u=I,r+=4):(u=e,m===0&&R(F))),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();a!==e?(g=yi(),g!==e?(Ee=t,n=L(g),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(l)),t}function Ao(){var t,n,u,a,g,y,N;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.substr(r,6)===_?(u=_,r+=6):(u=e,m===0&&R(E)),u===e&&(s.substr(r,6)===Q?(u=Q,r+=6):(u=e,m===0&&R(B))),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e)if(g=fn(),g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();y!==e?(N=yi(),N!==e?(Ee=t,n=q(g,N),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(C)),t}function fy(){var t,n,u,a,g,y,N,k,V,H;if(m++,t=r,n=So(),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e){for(a=[],g=mt();g!==e;)a.push(g),g=mt();if(a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(y=hr(),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(k=dr(),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();V!==e?(H=wy(),H!==e?(Ee=t,n=W(n,a,y,k),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e}else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(K)),t}function cy(){var t,n,u,a;return m++,t=r,n=So(),n!==e?(u=hr(),u!==e?(a=dr(),a!==e?(Ee=t,n=te(n,u,a),t=n):(r=t,t=e)):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(pe)),t}function So(){var t,n,u,a,g,y,N,k,V,H,we,ge,Ie,Re,Oe,Qe,ut,Ze,Ct,Rt;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.substr(r,6)===se?(u=se,r+=6):(u=e,m===0&&R(be)),u===e&&(s.substr(r,6)===Y?(u=Y,r+=6):(u=e,m===0&&R(de))),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e)if(s.substr(r,8)===le?(g=le,r+=8):(g=e,m===0&&R(ce)),g===e&&(s.substr(r,8)===$?(g=$,r+=8):(g=e,m===0&&R(ve))),g===e&&(s.substr(r,7)===re?(g=re,r+=7):(g=e,m===0&&R(ae)),g===e&&(s.substr(r,7)===he?(g=he,r+=7):(g=e,m===0&&R(fe)))),g===e&&(g=null),g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();if(y!==e){for(N=[],k=r,V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e)if(H=tt(),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();we!==e?(V=[V,H,we],k=V):(r=k,k=e)}else r=k,k=e;else r=k,k=e;if(k===e){for(k=r,V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e)if(s.charCodeAt(r)===40?(H=ie,r++):(H=e,m===0&&R(oe)),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();if(we!==e)if(ge=Pe(),ge!==e){for(Ie=[],Re=j();Re!==e;)Ie.push(Re),Re=j();if(Ie!==e)if(s.substr(r,2)===ke?(Re=ke,r+=2):(Re=e,m===0&&R(ne)),Re===e&&(s.substr(r,2)===ee?(Re=ee,r+=2):(Re=e,m===0&&R(me))),Re!==e){for(Oe=[],Qe=j();Qe!==e;)Oe.push(Qe),Qe=j();if(Oe!==e)if(Qe=tt(),Qe!==e){for(ut=[],Ze=j();Ze!==e;)ut.push(Ze),Ze=j();if(ut!==e)if(s.charCodeAt(r)===41?(Ze=Ae,r++):(Ze=e,m===0&&R(xe)),Ze!==e){for(Ct=[],Rt=j();Rt!==e;)Ct.push(Rt),Rt=j();Ct!==e?(V=[V,H,we,ge,Ie,Re,Oe,Qe,ut,Ze,Ct],k=V):(r=k,k=e)}else r=k,k=e;else r=k,k=e}else r=k,k=e;else r=k,k=e}else r=k,k=e;else r=k,k=e}else r=k,k=e;else r=k,k=e}else r=k,k=e;else r=k,k=e}if(k!==e)for(;k!==e;){for(N.push(k),k=r,V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e)if(H=tt(),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();we!==e?(V=[V,H,we],k=V):(r=k,k=e)}else r=k,k=e;else r=k,k=e;if(k===e){for(k=r,V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e)if(s.charCodeAt(r)===40?(H=ie,r++):(H=e,m===0&&R(oe)),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();if(we!==e)if(ge=Pe(),ge!==e){for(Ie=[],Re=j();Re!==e;)Ie.push(Re),Re=j();if(Ie!==e)if(s.substr(r,2)===ke?(Re=ke,r+=2):(Re=e,m===0&&R(ne)),Re===e&&(s.substr(r,2)===ee?(Re=ee,r+=2):(Re=e,m===0&&R(me))),Re!==e){for(Oe=[],Qe=j();Qe!==e;)Oe.push(Qe),Qe=j();if(Oe!==e)if(Qe=tt(),Qe!==e){for(ut=[],Ze=j();Ze!==e;)ut.push(Ze),Ze=j();if(ut!==e)if(s.charCodeAt(r)===41?(Ze=Ae,r++):(Ze=e,m===0&&R(xe)),Ze!==e){for(Ct=[],Rt=j();Rt!==e;)Ct.push(Rt),Rt=j();Ct!==e?(V=[V,H,we,ge,Ie,Re,Oe,Qe,ut,Ze,Ct],k=V):(r=k,k=e)}else r=k,k=e;else r=k,k=e}else r=k,k=e;else r=k,k=e}else r=k,k=e;else r=k,k=e}else r=k,k=e;else r=k,k=e}else r=k,k=e;else r=k,k=e}}else N=e;if(N===e){for(N=r,k=[],V=j();V!==e;)k.push(V),V=j();if(k!==e)if(s.charCodeAt(r)===42?(V=Z,r++):(V=e,m===0&&R(U)),V!==e){for(H=[],we=j();we!==e;)H.push(we),we=j();H!==e?(k=[k,V,H],N=k):(r=N,N=e)}else r=N,N=e;else r=N,N=e}N!==e?(Ee=t,n=M(g,N),t=n):(r=t,t=e)}else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(ue)),t}function py(){var t,n,u,a,g,y,N,k,V,H,we,ge,Ie,Re,Oe;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.substr(r,9)===z?(u=z,r+=9):(u=e,m===0&&R(ye)),u===e&&(s.substr(r,9)===Fe?(u=Fe,r+=9):(u=e,m===0&&R(Ce))),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e)if(g=Jy(),g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();if(y!==e){for(N=[],k=mt();k!==e;)N.push(k),k=mt();if(N!==e){for(k=[],V=j();V!==e;)k.push(V),V=j();if(k!==e)if(V=hr(),V!==e){for(H=[],we=j();we!==e;)H.push(we),we=j();H!==e?(we=dr(),we!==e?(Ee=t,n=Ne(g,N,V,we),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e}else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e;if(t===e){for(t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.substr(r,9)===z?(u=z,r+=9):(u=e,m===0&&R(ye)),u===e&&(s.substr(r,9)===Fe?(u=Fe,r+=9):(u=e,m===0&&R(Ce))),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e){for(g=[],y=mt();y!==e;)g.push(y),y=mt();if(g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();if(y!==e)if(s.substr(r,5)===Le?(N=Le,r+=5):(N=e,m===0&&R(Ue)),N===e&&(s.substr(r,5)===qe?(N=qe,r+=5):(N=e,m===0&&R(Ge))),N!==e){for(k=[],V=j();V!==e;)k.push(V),V=j();if(k!==e)if(s.charCodeAt(r)===123?(V=Je,r++):(V=e,m===0&&R($e)),V!==e){for(H=[],we=j();we!==e;)H.push(we),we=j();if(H!==e)if(we=Yt(),we===e&&(we=null),we!==e){for(ge=[],Ie=j();Ie!==e;)ge.push(Ie),Ie=j();if(ge!==e)if(s.charCodeAt(r)===125?(Ie=ze,r++):(Ie=e,m===0&&R(Ke)),Ie!==e){for(Re=[],Oe=j();Oe!==e;)Re.push(Oe),Oe=j();Re!==e?(Oe=dr(),Oe!==e?(Ee=t,n=ht(g,we,Oe),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e}else r=t,t=e}else r=t,t=e;else r=t,t=e}return m--,t===e&&(n=e,m===0&&R(G)),t}function hy(){var t,n,u,a,g,y;if(m++,t=r,s.substr(r,8)===Nt?(n=Nt,r+=8):(n=e,m===0&&R(je)),n!==e){if(u=[],a=ir(),a!==e)for(;a!==e;)u.push(a),a=ir();else u=e;if(u===e&&(s.charCodeAt(r)===42?(u=Z,r++):(u=e,m===0&&R(U))),u!==e){for(a=[],g=mt();g!==e;)a.push(g),g=mt();a!==e?(g=hr(),g===e&&(g=null),g!==e?(y=dr(),y!==e?(n=[n,u,a,g,y],t=n):(r=t,t=e)):(r=t,t=e)):(r=t,t=e)}else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(sr)),t}function dy(){var t,n,u,a,g,y,N;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.substr(r,3)===Be?(u=Be,r+=3):(u=e,m===0&&R(He)),u===e&&(s.substr(r,3)===Ve?(u=Ve,r+=3):(u=e,m===0&&R(De))),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e){for(g=[],y=mt();y!==e;)g.push(y),y=mt();if(g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();y!==e?(N=hr(),N!==e?(Ee=t,n=dt(g,N),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e}else r=t,t=e}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Te)),t}function mt(){var t,n,u,a,g,y;if(m++,t=r,s.substr(r,4)===it?(n=it,r+=4):(n=e,m===0&&R(vt)),n===e&&(s.substr(r,4)===Mt?(n=Mt,r+=4):(n=e,m===0&&R(St))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=vy(),a===e&&(a=yy()),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(Ee=t,n=ot(a),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(xt)),t}function vy(){var t,n,u;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();return n!==e?(u=jo(),u!==e?(Ee=t,n=xr(u),t=n):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(mr)),t}function yy(){var t,n,u,a;if(m++,t=r,s.substr(r,5)===ft?(n=ft,r+=5):(n=e,m===0&&R(Ot)),n===e&&(s.substr(r,5)===pt?(n=pt,r+=5):(n=e,m===0&&R(Lt))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();u!==e?(a=jo(),a!==e?(Ee=t,n=ar(a),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(wr)),t}function jo(){var t,n;return m++,t=rt(),m--,t===e&&(n=e,m===0&&R(_r)),t}function hr(){var t,n,u,a,g,y;if(m++,t=r,s.substr(r,5)===Le?(n=Le,r+=5):(n=e,m===0&&R(Ue)),n===e&&(s.substr(r,5)===qe?(n=qe,r+=5):(n=e,m===0&&R(Ge))),n===e&&(n=null),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=ct(),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(Ee=t,n=Bt(a),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(kr)),t}function dr(){var t,n,u,a,g;return m++,t=r,n=gy(),n===e&&(n=null),n!==e?(u=by(),u===e&&(u=null),u!==e?(a=my(),a===e&&(a=null),a!==e?(g=xy(),g===e&&(g=null),g!==e?(Ee=t,n=or(n,a,g),t=n):(r=t,t=e)):(r=t,t=e)):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(Er)),t}function gy(){var t,n,u,a,g,y,N;if(m++,t=r,s.substr(r,5)===Sr?(n=Sr,r+=5):(n=e,m===0&&R(lr)),n===e&&(s.substr(r,5)===wt?(n=wt,r+=5):(n=e,m===0&&R(Ut))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.substr(r,2)===Gt?(a=Gt,r+=2):(a=e,m===0&&R(ur)),a===e&&(s.substr(r,2)===jr?(a=jr,r+=2):(a=e,m===0&&R(vn))),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e){if(y=[],N=To(),N!==e)for(;N!==e;)y.push(N),N=To();else y=e;y!==e?(Ee=t,n=ol(y),t=n):(r=t,t=e)}else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Ar)),t}function To(){var t,n,u,a,g,y,N,k,V,H,we;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(u=un(),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();a!==e?(Ee=t,n=ul(u),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e;if(t===e){for(t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(u=qo(),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();a!==e?(Ee=t,n=fl(u),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e;if(t===e){for(t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.charCodeAt(r)===40?(u=ie,r++):(u=e,m===0&&R(oe)),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e)if(g=Pe(),g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();if(y!==e){if(N=r,s.substr(r,2)===ke?(k=ke,r+=2):(k=e,m===0&&R(ne)),k===e&&(s.substr(r,2)===ee?(k=ee,r+=2):(k=e,m===0&&R(me))),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();V!==e?(H=tt(),H!==e?(k=[k,V,H],N=k):(r=N,N=e)):(r=N,N=e)}else r=N,N=e;if(N===e&&(N=null),N!==e){for(k=[],V=j();V!==e;)k.push(V),V=j();if(k!==e)if(s.charCodeAt(r)===41?(V=Ae,r++):(V=e,m===0&&R(xe)),V!==e){for(H=[],we=j();we!==e;)H.push(we),we=j();H!==e?(Ee=t,n=cl(g,N),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e}else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e;if(t===e){for(t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(u=tt(),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();a!==e?(Ee=t,n=yn(u),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}}}return m--,t===e&&(n=e,m===0&&R(ll)),t}function by(){var t,n,u,a;if(m++,t=r,s.substr(r,6)===gn?(n=gn,r+=6):(n=e,m===0&&R(hl)),n!==e){if(u=[],a=Fo(),a!==e)for(;a!==e;)u.push(a),a=Fo();else u=e;u!==e?(n=[n,u],t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(pl)),t}function Fo(){var t,n;return m++,t=Xi(),m--,t===e&&(n=e,m===0&&R(dl)),t}function my(){var t,n,u,a,g,y,N,k;if(m++,t=r,s.substr(r,5)===bn?(n=bn,r+=5):(n=e,m===0&&R(yl)),n===e&&(s.substr(r,5)===mn?(n=mn,r+=5):(n=e,m===0&&R(gl))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.substr(r,2)===Gt?(a=Gt,r+=2):(a=e,m===0&&R(ur)),a===e&&(s.substr(r,2)===jr?(a=jr,r+=2):(a=e,m===0&&R(vn))),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e){if(y=[],N=Io(),N!==e)for(;N!==e;)y.push(N),N=Io();else y=e;if(y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(Ee=t,n=bl(y),t=n):(r=t,t=e)}else r=t,t=e}else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(vl)),t}function Io(){var t,n,u,a,g,y;if(m++,t=r,s.substr(r,3)===xn?(n=xn,r+=3):(n=e,m===0&&R(xl)),n===e&&(s.substr(r,3)===wn?(n=wn,r+=3):(n=e,m===0&&R(wl)),n===e&&(s.substr(r,4)===_n?(n=_n,r+=4):(n=e,m===0&&R(_l)),n===e&&(s.substr(r,4)===kn?(n=kn,r+=4):(n=e,m===0&&R(kl))))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=ln(),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(Ee=t,n=El(n,a),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e)if(t=r,n=Xi(),n===e&&(n=tt()),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();u!==e?(Ee=t,n=Al(n),t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(ml)),t}function xy(){var t,n,u,a;return m++,t=r,n=r,u=Co(),u!==e?(a=Ro(),a===e&&(a=null),a!==e?(u=[u,a],n=u):(r=n,n=e)):(r=n,n=e),n===e&&(n=r,u=Ro(),u!==e?(a=Co(),a===e&&(a=null),a!==e?(u=[u,a],n=u):(r=n,n=e)):(r=n,n=e)),n!==e&&(Ee=t,n=jl(n)),t=n,m--,t===e&&(n=e,m===0&&R(Sl)),t}function Co(){var t,n,u,a,g,y;if(m++,t=r,s.substr(r,5)===En?(n=En,r+=5):(n=e,m===0&&R(Fl)),n===e&&(s.substr(r,5)===An?(n=An,r+=5):(n=e,m===0&&R(Il))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=nr(),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(Ee=t,n=Cl(a),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Tl)),t}function Ro(){var t,n,u,a,g,y;if(m++,t=r,s.substr(r,6)===Sn?(n=Sn,r+=6):(n=e,m===0&&R(Nl)),n===e&&(s.substr(r,6)===jn?(n=jn,r+=6):(n=e,m===0&&R(Ol))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=nr(),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(Ee=t,n=Ll(a),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Rl)),t}function wy(){var t,n,u,a,g,y,N,k,V;if(m++,t=r,s.substr(r,8)===Tn?(n=Tn,r+=8):(n=e,m===0&&R(Pl)),n!==e){for(u=[],a=tt();a!==e;)u.push(a),a=tt();if(u!==e)if(s.charCodeAt(r)===123?(a=Je,r++):(a=e,m===0&&R($e)),a!==e){if(g=[],y=r,s.charCodeAt(r)===40?(N=ie,r++):(N=e,m===0&&R(oe)),N!==e){if(k=[],V=li(),V!==e)for(;V!==e;)k.push(V),V=li();else k=e;k!==e?(s.charCodeAt(r)===41?(V=Ae,r++):(V=e,m===0&&R(xe)),V!==e?(N=[N,k,V],y=N):(r=y,y=e)):(r=y,y=e)}else r=y,y=e;for(y===e&&(y=At());y!==e;){if(g.push(y),y=r,s.charCodeAt(r)===40?(N=ie,r++):(N=e,m===0&&R(oe)),N!==e){if(k=[],V=li(),V!==e)for(;V!==e;)k.push(V),V=li();else k=e;k!==e?(s.charCodeAt(r)===41?(V=Ae,r++):(V=e,m===0&&R(xe)),V!==e?(N=[N,k,V],y=N):(r=y,y=e)):(r=y,y=e)}else r=y,y=e;y===e&&(y=At())}g!==e?(s.charCodeAt(r)===125?(y=ze,r++):(y=e,m===0&&R(Ke)),y!==e?(n=[n,u,a,g,y],t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;return t===e&&(t=null),m--,t===e&&(n=e,m===0&&R(Dl)),t}function li(){var t,n;return m++,t=rt(),t===e&&(t=hi(),t===e&&(t=di(),t===e&&(t=vi(),t===e&&(s.substr(r,5)===Tr?(t=Tr,r+=5):(t=e,m===0&&R(Fn)))))),m--,t===e&&(n=e,m===0&&R(Ql)),t}function _y(){var t,n,u,a;return m++,t=r,n=r,s.substr(r,6)===Fr?(u=Fr,r+=6):(u=e,m===0&&R(In)),u===e&&(s.substr(r,6)===Ir?(u=Ir,r+=6):(u=e,m===0&&R(Cn))),u!==e?(a=Go(),a!==e?(u=[u,a],n=u):(r=n,n=e)):(r=n,n=e),n===e&&(n=null),n!==e&&(Ee=t,n=Bl(n)),t=n,m--,t===e&&(n=e,m===0&&R(Ml)),t}function ky(){var t,n;return m++,t=No(),m--,t===e&&(n=e,m===0&&R(Ul)),t}function No(){var t,n,u,a,g,y,N,k,V;if(m++,t=r,n=Eo(),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=Ey(),a!==e){for(g=r,y=[],N=j();N!==e;)y.push(N),N=j();if(y!==e)if(s.charCodeAt(r)===59?(N=_t,r++):(N=e,m===0&&R(kt)),N!==e){for(k=[],V=j();V!==e;)k.push(V),V=j();k!==e?(V=No(),V===e&&(V=null),V!==e?(y=[y,N,k,V],g=y):(r=g,g=e)):(r=g,g=e)}else r=g,g=e;else r=g,g=e;g===e&&(g=null),g!==e?(Ee=t,n=ql(n,a,g),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Gl)),t}function Ey(){var t,n;return m++,t=Ay(),t===e&&(t=Sy(),t===e&&(t=jy(),t===e&&(t=Ty(),t===e&&(t=Fy(),t===e&&(t=Iy(),t===e&&(t=Cy(),t===e&&(t=Ry()))))))),m--,t===e&&(n=e,m===0&&R(Hl)),t}function Ay(){var t,n,u,a,g,y,N,k,V;if(m++,t=r,s.substr(r,4)===Rn?(n=Rn,r+=4):(n=e,m===0&&R(zl)),n===e&&(s.substr(r,4)===Nn?(n=Nn,r+=4):(n=e,m===0&&R(Vl))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=rt(),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e){if(y=r,s.substr(r,4)===On?(N=On,r+=4):(N=e,m===0&&R(Wl)),N===e&&(s.substr(r,4)===Ln?(N=Ln,r+=4):(N=e,m===0&&R(Xl))),N!==e){for(k=[],V=j();V!==e;)k.push(V),V=j();k!==e?(V=Wi(),V!==e?(N=[N,k,V],y=N):(r=y,y=e)):(r=y,y=e)}else r=y,y=e;y===e&&(y=null),y!==e?(Ee=t,n=Kl(a,y),t=n):(r=t,t=e)}else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Jl)),t}function Sy(){var t,n,u,a,g,y;if(m++,t=r,s.substr(r,5)===Dn?(n=Dn,r+=5):(n=e,m===0&&R(Zl)),n===e&&(s.substr(r,5)===Pn?(n=Pn,r+=5):(n=e,m===0&&R(Yl))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.substr(r,6)===qt?(a=qt,r+=6):(a=e,m===0&&R(mi)),a===e&&(s.substr(r,6)===Ht?(a=Ht,r+=6):(a=e,m===0&&R(xi))),a===e&&(a=null),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(y=Do(),y!==e?(Ee=t,n=eu(y),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R($l)),t}function jy(){var t,n,u,a,g,y;if(m++,t=r,s.substr(r,4)===Qn?(n=Qn,r+=4):(n=e,m===0&&R(ru)),n===e&&(s.substr(r,4)===Mn?(n=Mn,r+=4):(n=e,m===0&&R(iu))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.substr(r,6)===qt?(a=qt,r+=6):(a=e,m===0&&R(mi)),a===e&&(s.substr(r,6)===Ht?(a=Ht,r+=6):(a=e,m===0&&R(xi))),a===e&&(a=null),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(y=Do(),y!==e?(Ee=t,n=nu(y),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(tu)),t}function Ty(){var t,n,u,a,g,y;if(m++,t=r,s.substr(r,6)===Bn?(n=Bn,r+=6):(n=e,m===0&&R(au)),n===e&&(s.substr(r,6)===Un?(n=Un,r+=6):(n=e,m===0&&R(ou))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.substr(r,6)===qt?(a=qt,r+=6):(a=e,m===0&&R(mi)),a===e&&(s.substr(r,6)===Ht?(a=Ht,r+=6):(a=e,m===0&&R(xi))),a===e&&(a=null),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(y=Wi(),y!==e?(Ee=t,n=lu(y),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(su)),t}function Fy(){var t,n,u,a,g,y;if(m++,t=r,s.substr(r,6)===Cr?(n=Cr,r+=6):(n=e,m===0&&R(Gn)),n===e&&(s.substr(r,6)===Rr?(n=Rr,r+=6):(n=e,m===0&&R(qn))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.substr(r,4)===Nr?(a=Nr,r+=4):(a=e,m===0&&R(Hn)),a===e&&(s.substr(r,4)===Or?(a=Or,r+=4):(a=e,m===0&&R(Jn))),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(y=Qo(),y!==e?(Ee=t,n=fu(y),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(uu)),t}function Iy(){var t,n,u,a,g;if(m++,t=r,s.substr(r,6)===Jt?(n=Jt,r+=6):(n=e,m===0&&R(wi)),n===e&&(s.substr(r,6)===zt?(n=zt,r+=6):(n=e,m===0&&R(_i))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();u!==e?(s.substr(r,4)===Nr?(a=Nr,r+=4):(a=e,m===0&&R(Hn)),a===e&&(s.substr(r,4)===Or?(a=Or,r+=4):(a=e,m===0&&R(Jn))),a!==e?(g=Qo(),g!==e?(Ee=t,n=pu(g),t=n):(r=t,t=e)):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(cu)),t}function Cy(){var t,n,u,a,g,y;if(m++,t=r,s.substr(r,6)===Jt?(n=Jt,r+=6):(n=e,m===0&&R(wi)),n===e&&(s.substr(r,6)===zt?(n=zt,r+=6):(n=e,m===0&&R(_i))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.substr(r,5)===Le?(a=Le,r+=5):(a=e,m===0&&R(Ue)),a===e&&(s.substr(r,5)===qe?(a=qe,r+=5):(a=e,m===0&&R(Ge))),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(y=ct(),y!==e?(Ee=t,n=du(y),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(hu)),t}function Ry(){var t,n,u,a,g,y,N,k,V,H,we,ge;if(m++,t=r,n=r,s.substr(r,4)===zn?(u=zn,r+=4):(u=e,m===0&&R(yu)),u===e&&(s.substr(r,4)===Vn?(u=Vn,r+=4):(u=e,m===0&&R(gu))),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();a!==e?(g=rt(),g!==e?(u=[u,a,g],n=u):(r=n,n=e)):(r=n,n=e)}else r=n,n=e;if(n===e&&(n=null),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e){if(a=r,g=Ny(),g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();y!==e?(N=Oo(),N===e&&(N=null),N!==e?(g=[g,y,N],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;if(a===e&&(a=Oo()),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e){for(y=[],N=Lo();N!==e;)y.push(N),N=Lo();if(y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(s.substr(r,5)===Le?(k=Le,r+=5):(k=e,m===0&&R(Ue)),k===e&&(s.substr(r,5)===qe?(k=qe,r+=5):(k=e,m===0&&R(Ge))),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e)if(H=ct(),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();we!==e?(Ee=t,n=bu(n,a,y,H),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e}else r=t,t=e}else r=t,t=e}else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(vu)),t}function Ny(){var t,n,u;return m++,t=r,s.substr(r,6)===Jt?(n=Jt,r+=6):(n=e,m===0&&R(wi)),n===e&&(s.substr(r,6)===zt?(n=zt,r+=6):(n=e,m===0&&R(_i))),n!==e?(u=Po(),u!==e?(Ee=t,n=Wn(u),t=n):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(mu)),t}function Oo(){var t,n,u;return m++,t=r,s.substr(r,6)===Cr?(n=Cr,r+=6):(n=e,m===0&&R(Gn)),n===e&&(s.substr(r,6)===Rr?(n=Rr,r+=6):(n=e,m===0&&R(qn))),n!==e?(u=Po(),u!==e?(Ee=t,n=Wn(u),t=n):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(xu)),t}function Lo(){var t,n,u,a,g,y,N,k;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.substr(r,5)===Xn?(u=Xn,r+=5):(u=e,m===0&&R(_u)),u===e&&(s.substr(r,5)===Kn?(u=Kn,r+=5):(u=e,m===0&&R(ku))),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e){if(g=rt(),g===e)if(g=r,s.substr(r,5)===ft?(y=ft,r+=5):(y=e,m===0&&R(Ot)),y===e&&(s.substr(r,5)===pt?(y=pt,r+=5):(y=e,m===0&&R(Lt))),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=rt(),k!==e?(y=[y,N,k],g=y):(r=g,g=e)):(r=g,g=e)}else r=g,g=e;g!==e?(Ee=t,n=Eu(g),t=n):(r=t,t=e)}else r=t,t=e}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(wu)),t}function Wi(){var t,n,u,a;if(m++,t=r,s.substr(r,5)===Vt?(n=Vt,r+=5):(n=e,m===0&&R(ki)),n===e&&(s.substr(r,5)===Wt?(n=Wt,r+=5):(n=e,m===0&&R(Ei))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();u!==e?(a=rt(),a!==e?(Ee=t,n=Su(a),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Au)),t}function Do(){var t,n;return m++,t=r,n=Wi(),n!==e&&(Ee=t,n=Bt(n)),t=n,t===e&&(t=r,s.substr(r,7)===$n?(n=$n,r+=7):(n=e,m===0&&R(Tu)),n===e&&(s.substr(r,7)===Zn?(n=Zn,r+=7):(n=e,m===0&&R(Fu))),n!==e&&(Ee=t,n=Iu()),t=n,t===e&&(t=r,s.substr(r,5)===ft?(n=ft,r+=5):(n=e,m===0&&R(Ot)),n===e&&(s.substr(r,5)===pt?(n=pt,r+=5):(n=e,m===0&&R(Lt))),n!==e&&(Ee=t,n=Cu()),t=n,t===e&&(t=r,s.substr(r,3)===Yn?(n=Yn,r+=3):(n=e,m===0&&R(Ru)),n===e&&(s.substr(r,3)===es?(n=es,r+=3):(n=e,m===0&&R(Nu))),n!==e&&(Ee=t,n=Ou()),t=n))),m--,t===e&&(n=e,m===0&&R(ju)),t}function Po(){var t,n,u,a,g,y,N,k,V;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.charCodeAt(r)===123?(u=Je,r++):(u=e,m===0&&R($e)),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e)if(g=Mo(),g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();if(y!==e)if(s.charCodeAt(r)===125?(N=ze,r++):(N=e,m===0&&R(Ke)),N!==e){for(k=[],V=j();V!==e;)k.push(V),V=j();k!==e?(Ee=t,n=ts(g),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Lu)),t}function Qo(){var t,n,u,a,g,y,N,k,V;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.charCodeAt(r)===123?(u=Je,r++):(u=e,m===0&&R($e)),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e)if(g=Mo(),g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();if(y!==e)if(s.charCodeAt(r)===125?(N=ze,r++):(N=e,m===0&&R(Ke)),N!==e){for(k=[],V=j();V!==e;)k.push(V),V=j();k!==e?(Ee=t,n=ts(g),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Du)),t}function Mo(){var t,n,u,a,g,y,N;if(m++,t=r,n=Yt(),n===e&&(n=null),n!==e){for(u=[],a=r,g=Bo(),g!==e?(s.charCodeAt(r)===46?(y=nt,r++):(y=e,m===0&&R(st)),y===e&&(y=null),y!==e?(N=Yt(),N===e&&(N=null),N!==e?(g=[g,y,N],a=g):(r=a,a=e)):(r=a,a=e)):(r=a,a=e);a!==e;)u.push(a),a=r,g=Bo(),g!==e?(s.charCodeAt(r)===46?(y=nt,r++):(y=e,m===0&&R(st)),y===e&&(y=null),y!==e?(N=Yt(),N===e&&(N=null),N!==e?(g=[g,y,N],a=g):(r=a,a=e)):(r=a,a=e)):(r=a,a=e);u!==e?(Ee=t,n=Qu(n,u),t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Pu)),t}function Bo(){var t,n,u,a,g,y,N,k,V,H,we,ge,Ie;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.substr(r,5)===Vt?(u=Vt,r+=5):(u=e,m===0&&R(ki)),u===e&&(s.substr(r,5)===Wt?(u=Wt,r+=5):(u=e,m===0&&R(Ei))),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e)if(g=ir(),g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();if(y!==e)if(s.charCodeAt(r)===123?(N=Je,r++):(N=e,m===0&&R($e)),N!==e){for(k=[],V=j();V!==e;)k.push(V),V=j();if(k!==e)if(V=Yt(),V===e&&(V=null),V!==e){for(H=[],we=j();we!==e;)H.push(we),we=j();if(H!==e)if(s.charCodeAt(r)===125?(we=ze,r++):(we=e,m===0&&R(Ke)),we!==e){for(ge=[],Ie=j();Ie!==e;)ge.push(Ie),Ie=j();ge!==e?(Ee=t,n=Bu(g,V),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Mu)),t}function Yt(){var t,n,u,a,g,y,N;if(m++,t=r,n=zo(),n!==e){for(u=r,a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e)if(s.charCodeAt(r)===46?(g=nt,r++):(g=e,m===0&&R(st)),g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();y!==e?(N=Yt(),N===e&&(N=null),N!==e?(a=[a,g,y,N],u=a):(r=u,u=e)):(r=u,u=e)}else r=u,u=e;else r=u,u=e;u===e&&(u=null),u!==e?(Ee=t,n=Gu(n,u),t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Uu)),t}function ct(){var t,n,u,a,g,y;if(m++,t=r,s.charCodeAt(r)===123?(n=Je,r++):(n=e,m===0&&R($e)),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=cy(),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(s.charCodeAt(r)===125?(y=ze,r++):(y=e,m===0&&R(Ke)),y!==e?(Ee=t,n=Ai(a),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e)if(t=r,s.charCodeAt(r)===123?(n=Je,r++):(n=e,m===0&&R($e)),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=Oy(),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(s.charCodeAt(r)===125?(y=ze,r++):(y=e,m===0&&R(Ke)),y!==e?(Ee=t,n=Ai(a),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(qu)),t}function Oy(){var t,n,u,a,g,y,N,k,V,H;if(m++,t=r,n=ui(),n===e&&(n=null),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e){if(a=[],g=r,y=Uo(),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(s.charCodeAt(r)===46?(k=nt,r++):(k=e,m===0&&R(st)),k===e&&(k=null),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();V!==e?(H=ui(),H===e&&(H=null),H!==e?(y=[y,N,k,V,H],g=y):(r=g,g=e)):(r=g,g=e)}else r=g,g=e;else r=g,g=e}else r=g,g=e;for(;g!==e;)if(a.push(g),g=r,y=Uo(),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(s.charCodeAt(r)===46?(k=nt,r++):(k=e,m===0&&R(st)),k===e&&(k=null),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();V!==e?(H=ui(),H===e&&(H=null),H!==e?(y=[y,N,k,V,H],g=y):(r=g,g=e)):(r=g,g=e)}else r=g,g=e;else r=g,g=e}else r=g,g=e;a!==e?(Ee=t,n=Ju(n,a),t=n):(r=t,t=e)}else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Hu)),t}function ui(){var t,n,u,a,g,y;if(m++,t=r,n=Wy(),n!==e){for(u=r,a=[],g=j();g!==e;)a.push(g),g=j();a!==e?(s.charCodeAt(r)===46?(g=nt,r++):(g=e,m===0&&R(st)),g!==e?(y=ui(),y===e&&(y=null),y!==e?(a=[a,g,y],u=a):(r=u,u=e)):(r=u,u=e)):(r=u,u=e),u===e&&(u=null),u!==e?(Ee=t,n=Vu(n,u),t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(zu)),t}function Uo(){var t,n;return m++,t=My(),t===e&&(t=Ly(),t===e&&(t=Qy(),t===e&&(t=Dy(),t===e&&(t=Py(),t===e&&(t=By(),t===e&&(t=Uy(),t===e&&(t=Gy()))))))),m--,t===e&&(n=e,m===0&&R(Wu)),t}function Ly(){var t,n,u,a,g;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.substr(r,8)===rs?(u=rs,r+=8):(u=e,m===0&&R(Ku)),u===e&&(s.substr(r,8)===is?(u=is,r+=8):(u=e,m===0&&R($u))),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();a!==e?(g=ct(),g!==e?(Ee=t,n=Zu(g),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Xu)),t}function Dy(){var t,n,u,a,g,y,N;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.substr(r,5)===Vt?(u=Vt,r+=5):(u=e,m===0&&R(ki)),u===e&&(s.substr(r,5)===Wt?(u=Wt,r+=5):(u=e,m===0&&R(Ei))),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e)if(g=ir(),g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();y!==e?(N=ct(),N!==e?(Ee=t,n=ef(g,N),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Yu)),t}function Py(){var t,n,u,a;return m++,t=r,s.substr(r,7)===ns?(n=ns,r+=7):(n=e,m===0&&R(rf)),n!==e?(u=ir(),u!==e?(a=ct(),a!==e?(Ee=t,n=nf(u,a),t=n):(r=t,t=e)):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(tf)),t}function Qy(){var t,n,u,a;if(m++,t=r,s.substr(r,5)===ss?(n=ss,r+=5):(n=e,m===0&&R(af)),n===e&&(s.substr(r,5)===as?(n=as,r+=5):(n=e,m===0&&R(of))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();u!==e?(a=ct(),a!==e?(Ee=t,n=lf(a),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(sf)),t}function My(){var t,n,u,a,g,y,N,k;if(m++,t=r,n=ct(),n!==e){for(u=[],a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.substr(r,5)===Lr?(y=Lr,r+=5):(y=e,m===0&&R(os)),y===e&&(s.substr(r,5)===Dr?(y=Dr,r+=5):(y=e,m===0&&R(ls))),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=ct(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;for(;a!==e;){for(u.push(a),a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.substr(r,5)===Lr?(y=Lr,r+=5):(y=e,m===0&&R(os)),y===e&&(s.substr(r,5)===Dr?(y=Dr,r+=5):(y=e,m===0&&R(ls))),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=ct(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e}u!==e?(Ee=t,n=ff(n,u),t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(uf)),t}function By(){var t,n,u,a,g;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.substr(r,6)===us?(u=us,r+=6):(u=e,m===0&&R(pf)),u===e&&(s.substr(r,6)===fs?(u=fs,r+=6):(u=e,m===0&&R(hf))),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();a!==e?(g=Xi(),g!==e?(Ee=t,n=df(g),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(cf)),t}function Uy(){var t,n,u,a,g,y,N,k,V,H,we,ge,Ie;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.substr(r,4)===cs?(u=cs,r+=4):(u=e,m===0&&R(yf)),u===e&&(s.substr(r,4)===ps?(u=ps,r+=4):(u=e,m===0&&R(gf))),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e)if(s.charCodeAt(r)===40?(g=ie,r++):(g=e,m===0&&R(oe)),g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();if(y!==e)if(N=Pe(),N!==e){for(k=[],V=j();V!==e;)k.push(V),V=j();if(k!==e)if(s.substr(r,2)===ee?(V=ee,r+=2):(V=e,m===0&&R(me)),V===e&&(s.substr(r,2)===ke?(V=ke,r+=2):(V=e,m===0&&R(ne))),V!==e){for(H=[],we=j();we!==e;)H.push(we),we=j();if(H!==e)if(we=tt(),we!==e){for(ge=[],Ie=j();Ie!==e;)ge.push(Ie),Ie=j();ge!==e?(s.charCodeAt(r)===41?(Ie=Ae,r++):(Ie=e,m===0&&R(xe)),Ie!==e?(Ee=t,n=bf(N,we),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(vf)),t}function Xi(){var t,n;return m++,t=ln(),t===e&&(t=un(),t===e&&(t=qo())),m--,t===e&&(n=e,m===0&&R(mf)),t}function Gy(){var t,n,u,a,g;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.substr(r,6)===Fr?(u=Fr,r+=6):(u=e,m===0&&R(In)),u===e&&(s.substr(r,6)===Ir?(u=Ir,r+=6):(u=e,m===0&&R(Cn))),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();a!==e?(g=Go(),g!==e?(Ee=t,n=wf(g),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(xf)),t}function Go(){var t,n;return m++,t=qy(),t===e&&(t=Hy()),m--,t===e&&(n=e,m===0&&R(_f)),t}function qy(){var t,n,u,a,g,y,N,k;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(u=tt(),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e)if(s.charCodeAt(r)===123?(g=Je,r++):(g=e,m===0&&R($e)),g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();if(y!==e){for(N=[],k=er();k!==e;)N.push(k),k=er();N!==e?(s.charCodeAt(r)===125?(k=ze,r++):(k=e,m===0&&R(Ke)),k!==e?(Ee=t,n=Ef(u,N),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(kf)),t}function Hy(){var t,n,u,a,g,y,N,k,V,H,we,ge,Ie,Re,Oe,Qe;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e){if(u=At(),u===e)if(u=r,s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e){for(y=[],N=tt();N!==e;)y.push(N),N=tt();if(y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(s.charCodeAt(r)===41?(k=Ae,r++):(k=e,m===0&&R(xe)),k!==e?(a=[a,g,y,N,k],u=a):(r=u,u=e)):(r=u,u=e)}else r=u,u=e}else r=u,u=e}else r=u,u=e;if(u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e)if(s.charCodeAt(r)===123?(g=Je,r++):(g=e,m===0&&R($e)),g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();if(y!==e){for(N=[],k=r,V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e)if(s.charCodeAt(r)===40?(H=ie,r++):(H=e,m===0&&R(oe)),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();if(we!==e){for(ge=[],Ie=er();Ie!==e;)ge.push(Ie),Ie=er();if(ge!==e){for(Ie=[],Re=j();Re!==e;)Ie.push(Re),Re=j();if(Ie!==e)if(s.charCodeAt(r)===41?(Re=Ae,r++):(Re=e,m===0&&R(xe)),Re!==e){for(Oe=[],Qe=j();Qe!==e;)Oe.push(Qe),Qe=j();Oe!==e?(V=[V,H,we,ge,Ie,Re,Oe],k=V):(r=k,k=e)}else r=k,k=e;else r=k,k=e}else r=k,k=e}else r=k,k=e}else r=k,k=e;else r=k,k=e;for(k===e&&(k=At());k!==e;){for(N.push(k),k=r,V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e)if(s.charCodeAt(r)===40?(H=ie,r++):(H=e,m===0&&R(oe)),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();if(we!==e){for(ge=[],Ie=er();Ie!==e;)ge.push(Ie),Ie=er();if(ge!==e){for(Ie=[],Re=j();Re!==e;)Ie.push(Re),Re=j();if(Ie!==e)if(s.charCodeAt(r)===41?(Re=Ae,r++):(Re=e,m===0&&R(xe)),Re!==e){for(Oe=[],Qe=j();Qe!==e;)Oe.push(Qe),Qe=j();Oe!==e?(V=[V,H,we,ge,Ie,Re,Oe],k=V):(r=k,k=e)}else r=k,k=e;else r=k,k=e}else r=k,k=e}else r=k,k=e}else r=k,k=e;else r=k,k=e;k===e&&(k=At())}if(N!==e){for(k=[],V=j();V!==e;)k.push(V),V=j();k!==e?(s.charCodeAt(r)===125?(V=ze,r++):(V=e,m===0&&R(Ke)),V!==e?(Ee=t,n=Sf(u,N),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e}else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Af)),t}function er(){var t,n,u,a,g;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(u=yi(),u===e&&(u=hi(),u===e&&(u=di(),u===e&&(u=vi(),u===e&&(s.substr(r,5)===Tr?(u=Tr,r+=5):(u=e,m===0&&R(Fn)))))),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();a!==e?(Ee=t,n=yn(u),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(jf)),t}function qo(){var t,n,u,a;if(m++,t=r,n=rt(),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();u!==e?(a=Ho(),a!==e?(Ee=t,n=Ff(n,a),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Tf)),t}function Ho(){var t,n,u,a,g,y,N,k,V,H,we,ge;if(m++,t=r,n=At(),n!==e&&(Ee=t,n=hs()),t=n,t===e)if(t=r,s.charCodeAt(r)===40?(n=ie,r++):(n=e,m===0&&R(oe)),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.substr(r,8)===le?(a=le,r+=8):(a=e,m===0&&R(ce)),a===e&&(s.substr(r,8)===$?(a=$,r+=8):(a=e,m===0&&R(ve))),a===e&&(a=null),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(y=Pe(),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e){if(k=[],V=r,s.charCodeAt(r)===44?(H=Ye,r++):(H=e,m===0&&R(et)),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();we!==e?(ge=Pe(),ge!==e?(H=[H,we,ge],V=H):(r=V,V=e)):(r=V,V=e)}else r=V,V=e;for(;V!==e;)if(k.push(V),V=r,s.charCodeAt(r)===44?(H=Ye,r++):(H=e,m===0&&R(et)),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();we!==e?(ge=Pe(),ge!==e?(H=[H,we,ge],V=H):(r=V,V=e)):(r=V,V=e)}else r=V,V=e;k!==e?(s.charCodeAt(r)===41?(V=Ae,r++):(V=e,m===0&&R(xe)),V!==e?(Ee=t,n=Cf(a,y,k),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(If)),t}function vr(){var t,n,u,a,g,y,N,k,V,H;if(m++,t=r,n=At(),n!==e&&(Ee=t,n=hs()),t=n,t===e)if(t=r,s.charCodeAt(r)===40?(n=ie,r++):(n=e,m===0&&R(oe)),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=rt(),a===e&&(a=Pe()),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e){if(y=[],N=r,s.charCodeAt(r)===44?(k=Ye,r++):(k=e,m===0&&R(et)),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();V!==e?(H=rt(),H===e&&(H=Pe()),H!==e?(k=[k,V,H],N=k):(r=N,N=e)):(r=N,N=e)}else r=N,N=e;for(;N!==e;)if(y.push(N),N=r,s.charCodeAt(r)===44?(k=Ye,r++):(k=e,m===0&&R(et)),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();V!==e?(H=rt(),H===e&&(H=Pe()),H!==e?(k=[k,V,H],N=k):(r=N,N=e)):(r=N,N=e)}else r=N,N=e;y!==e?(s.charCodeAt(r)===41?(N=Ae,r++):(N=e,m===0&&R(xe)),N!==e?(Ee=t,n=Nf(a,y),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Rf)),t}function Jy(){var t,n,u,a,g,y;if(m++,t=r,s.charCodeAt(r)===123?(n=Je,r++):(n=e,m===0&&R($e)),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=Jo(),a===e&&(a=null),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(s.charCodeAt(r)===125?(y=ze,r++):(y=e,m===0&&R(Ke)),y!==e?(Ee=t,n=Lf(a),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Of)),t}function Jo(){var t,n,u,a,g,y,N;if(m++,t=r,n=zo(),n!==e){for(u=r,a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e)if(s.charCodeAt(r)===46?(g=nt,r++):(g=e,m===0&&R(st)),g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();y!==e?(N=Jo(),N===e&&(N=null),N!==e?(a=[a,g,y,N],u=a):(r=u,u=e)):(r=u,u=e)}else r=u,u=e;else r=u,u=e;u===e&&(u=null),u!==e?(Ee=t,n=Pf(n,u),t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Df)),t}function zo(){var t,n,u,a,g;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(u=ci(),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();a!==e?(g=Ki(),g!==e?(Ee=t,n=Mf(u,g),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e;if(t===e){for(t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(u=Zo(),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();a!==e?(g=Vy(),g!==e?(Ee=t,n=Bf(u,g),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}return m--,t===e&&(n=e,m===0&&R(Qf)),t}function zy(){var t,n,u,a,g,y,N,k,V,H,we,ge,Ie;if(m++,t=r,n=tr(),n===e&&(n=rr()),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=Vo(),a!==e){for(g=[],y=r,N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(s.charCodeAt(r)===59?(k=_t,r++):(k=e,m===0&&R(kt)),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e){if(H=r,we=tr(),we===e&&(we=rr()),we!==e){for(ge=[],Ie=j();Ie!==e;)ge.push(Ie),Ie=j();ge!==e?(Ie=Qt(),Ie!==e?(we=[we,ge,Ie],H=we):(r=H,H=e)):(r=H,H=e)}else r=H,H=e;H===e&&(H=null),H!==e?(N=[N,k,V,H],y=N):(r=y,y=e)}else r=y,y=e}else r=y,y=e;else r=y,y=e;for(;y!==e;){for(g.push(y),y=r,N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(s.charCodeAt(r)===59?(k=_t,r++):(k=e,m===0&&R(kt)),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e){if(H=r,we=tr(),we===e&&(we=rr()),we!==e){for(ge=[],Ie=j();Ie!==e;)ge.push(Ie),Ie=j();ge!==e?(Ie=Qt(),Ie!==e?(we=[we,ge,Ie],H=we):(r=H,H=e)):(r=H,H=e)}else r=H,H=e;H===e&&(H=null),H!==e?(N=[N,k,V,H],y=N):(r=y,y=e)}else r=y,y=e}else r=y,y=e;else r=y,y=e}g!==e?(Ee=t,n=Gf(n,a,g),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Uf)),t}function Ki(){var t,n,u,a,g,y,N,k,V,H,we,ge,Ie;if(m++,t=r,n=Yi(),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=Qt(),a!==e){for(g=[],y=r,N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(s.charCodeAt(r)===59?(k=_t,r++):(k=e,m===0&&R(kt)),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e){if(H=r,we=Yi(),we!==e){for(ge=[],Ie=j();Ie!==e;)ge.push(Ie),Ie=j();ge!==e?(Ie=Qt(),Ie!==e?(we=[we,ge,Ie],H=we):(r=H,H=e)):(r=H,H=e)}else r=H,H=e;H===e&&(H=null),H!==e?(N=[N,k,V,H],y=N):(r=y,y=e)}else r=y,y=e}else r=y,y=e;else r=y,y=e;for(;y!==e;){for(g.push(y),y=r,N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(s.charCodeAt(r)===59?(k=_t,r++):(k=e,m===0&&R(kt)),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e){if(H=r,we=Yi(),we!==e){for(ge=[],Ie=j();Ie!==e;)ge.push(Ie),Ie=j();ge!==e?(Ie=Qt(),Ie!==e?(we=[we,ge,Ie],H=we):(r=H,H=e)):(r=H,H=e)}else r=H,H=e;H===e&&(H=null),H!==e?(N=[N,k,V,H],y=N):(r=y,y=e)}else r=y,y=e}else r=y,y=e;else r=y,y=e}g!==e?(Ee=t,n=Hf(n,a,g),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(qf)),t}function Vy(){var t,n;return m++,t=Ki(),t===e&&(t=null),m--,t===e&&(n=e,m===0&&R(Jf)),t}function Vo(){var t,n,u,a,g,y,N,k;if(m++,t=r,n=$i(),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e){if(a=[],g=r,s.charCodeAt(r)===44?(y=Ye,r++):(y=e,m===0&&R(et)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=$i(),k!==e?(y=[y,N,k],g=y):(r=g,g=e)):(r=g,g=e)}else r=g,g=e;for(;g!==e;)if(a.push(g),g=r,s.charCodeAt(r)===44?(y=Ye,r++):(y=e,m===0&&R(et)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=$i(),k!==e?(y=[y,N,k],g=y):(r=g,g=e)):(r=g,g=e)}else r=g,g=e;a!==e?(Ee=t,n=Vf(n,a),t=n):(r=t,t=e)}else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(zf)),t}function Qt(){var t,n,u,a,g,y,N,k;if(m++,t=r,n=Zi(),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e){if(a=[],g=r,s.charCodeAt(r)===44?(y=Ye,r++):(y=e,m===0&&R(et)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=Zi(),k!==e?(y=[y,N,k],g=y):(r=g,g=e)):(r=g,g=e)}else r=g,g=e;for(;g!==e;)if(a.push(g),g=r,s.charCodeAt(r)===44?(y=Ye,r++):(y=e,m===0&&R(et)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=Zi(),k!==e?(y=[y,N,k],g=y):(r=g,g=e)):(r=g,g=e)}else r=g,g=e;a!==e?(Ee=t,n=Xf(n,a),t=n):(r=t,t=e)}else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Wf)),t}function $i(){var t,n;return m++,t=nn(),m--,t===e&&(n=e,m===0&&R(Kf)),t}function Zi(){var t,n;return m++,t=sn(),m--,t===e&&(n=e,m===0&&R($f)),t}function Yi(){var t,n;return m++,t=ir(),t===e&&(t=r,s.charCodeAt(r)===97?(n=Pr,r++):(n=e,m===0&&R(Qr)),n!==e&&(Ee=t,n=ds()),t=n),m--,t===e&&(n=e,m===0&&R(Zf)),t}function Wy(){var t,n,u,a,g;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(u=ci(),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();a!==e?(g=Wo(),g!==e?(Ee=t,n=ec(u,g),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e;if(t===e){for(t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(u=$o(),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();a!==e?(g=Xy(),g!==e?(Ee=t,n=tc(u,g),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}return m--,t===e&&(n=e,m===0&&R(Yf)),t}function Wo(){var t,n,u,a,g,y,N,k,V,H,we,ge;if(m++,t=r,n=tr(),n===e&&(n=rr()),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=Vo(),a!==e){for(g=[],y=r,N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(s.charCodeAt(r)===59?(k=_t,r++):(k=e,m===0&&R(kt)),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();V!==e?(H=r,we=tr(),we===e&&(we=rr()),we!==e?(ge=Qt(),ge!==e?(we=[we,ge],H=we):(r=H,H=e)):(r=H,H=e),H===e&&(H=null),H!==e?(N=[N,k,V,H],y=N):(r=y,y=e)):(r=y,y=e)}else r=y,y=e;else r=y,y=e;for(;y!==e;){for(g.push(y),y=r,N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(s.charCodeAt(r)===59?(k=_t,r++):(k=e,m===0&&R(kt)),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();V!==e?(H=r,we=tr(),we===e&&(we=rr()),we!==e?(ge=Qt(),ge!==e?(we=[we,ge],H=we):(r=H,H=e)):(r=H,H=e),H===e&&(H=null),H!==e?(N=[N,k,V,H],y=N):(r=y,y=e)):(r=y,y=e)}else r=y,y=e;else r=y,y=e}g!==e?(Ee=t,n=ic(n,a,g),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(rc)),t}function Xy(){var t,n;return m++,t=zy(),t===e&&(t=null),m--,t===e&&(n=e,m===0&&R(nc)),t}function tr(){var t,n;return m++,t=r,n=Xo(),n!==e&&(Ee=t,n=ac(n)),t=n,m--,t===e&&(n=e,m===0&&R(sc)),t}function rr(){var t,n;return m++,t=tt(),m--,t===e&&(n=e,m===0&&R(oc)),t}function Xo(){var t,n;return m++,t=Ky(),m--,t===e&&(n=e,m===0&&R(lc)),t}function Ky(){var t,n,u,a,g,y;if(m++,t=r,n=en(),n!==e){for(u=[],a=r,s.charCodeAt(r)===124?(g=Mr,r++):(g=e,m===0&&R(Br)),g!==e?(y=en(),y!==e?(g=[g,y],a=g):(r=a,a=e)):(r=a,a=e);a!==e;)u.push(a),a=r,s.charCodeAt(r)===124?(g=Mr,r++):(g=e,m===0&&R(Br)),g!==e?(y=en(),y!==e?(g=[g,y],a=g):(r=a,a=e)):(r=a,a=e);u!==e?(Ee=t,n=fc(n,u),t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(uc)),t}function en(){var t,n,u,a,g,y;if(m++,t=r,n=tn(),n!==e){for(u=[],a=r,s.charCodeAt(r)===47?(g=Dt,r++):(g=e,m===0&&R(Pt)),g!==e?(y=tn(),y!==e?(g=[g,y],a=g):(r=a,a=e)):(r=a,a=e);a!==e;)u.push(a),a=r,s.charCodeAt(r)===47?(g=Dt,r++):(g=e,m===0&&R(Pt)),g!==e?(y=tn(),y!==e?(g=[g,y],a=g):(r=a,a=e)):(r=a,a=e);u!==e?(Ee=t,n=pc(n,u),t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(cc)),t}function Ko(){var t,n,u;return m++,t=r,n=Zy(),n!==e?(u=$y(),u===e&&(u=null),u!==e?(Ee=t,n=dc(n,u),t=n):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(hc)),t}function tn(){var t,n,u;return m++,t=Ko(),t===e&&(t=r,s.charCodeAt(r)===94?(n=vs,r++):(n=e,m===0&&R(ys)),n!==e?(u=Ko(),u!==e?(Ee=t,n=yc(u),t=n):(r=t,t=e)):(r=t,t=e)),m--,t===e&&(n=e,m===0&&R(vc)),t}function $y(){var t,n,u,a,g,y,N,k,V;return m++,s.charCodeAt(r)===42?(t=Z,r++):(t=e,m===0&&R(U)),t===e&&(s.charCodeAt(r)===63?(t=Si,r++):(t=e,m===0&&R(ji)),t===e&&(s.charCodeAt(r)===43?(t=jt,r++):(t=e,m===0&&R(Tt)),t===e&&(t=r,s.charCodeAt(r)===123?(n=Je,r++):(n=e,m===0&&R($e)),n!==e?(u=r,a=rn(),a!==e?(g=r,s.charCodeAt(r)===44?(y=Ye,r++):(y=e,m===0&&R(et)),y!==e?(s.charCodeAt(r)===125?(N=ze,r++):(N=e,m===0&&R(Ke)),N===e&&(N=r,k=rn(),k!==e?(s.charCodeAt(r)===125?(V=ze,r++):(V=e,m===0&&R(Ke)),V!==e?(k=[k,V],N=k):(r=N,N=e)):(r=N,N=e)),N!==e?(y=[y,N],g=y):(r=g,g=e)):(r=g,g=e),g===e&&(s.charCodeAt(r)===125?(g=ze,r++):(g=e,m===0&&R(Ke))),g!==e?(a=[a,g],u=a):(r=u,u=e)):(r=u,u=e),u===e&&(u=r,s.charCodeAt(r)===44?(a=Ye,r++):(a=e,m===0&&R(et)),a!==e?(g=rn(),g!==e?(s.charCodeAt(r)===125?(y=ze,r++):(y=e,m===0&&R(Ke)),y!==e?(a=[a,g,y],u=a):(r=u,u=e)):(r=u,u=e)):(r=u,u=e)),u!==e?(n=[n,u],t=n):(r=t,t=e)):(r=t,t=e)))),m--,t===e&&(n=e,m===0&&R(gc)),t}function Zy(){var t,n,u,a;return m++,t=rt(),t===e&&(t=r,s.charCodeAt(r)===97?(n=Pr,r++):(n=e,m===0&&R(Qr)),n!==e&&(Ee=t,n=ds()),t=n,t===e&&(t=r,s.charCodeAt(r)===33?(n=Ti,r++):(n=e,m===0&&R(Fi)),n!==e?(u=Yy(),u!==e?(n=[n,u],t=n):(r=t,t=e)):(r=t,t=e),t===e&&(t=r,s.charCodeAt(r)===40?(n=ie,r++):(n=e,m===0&&R(oe)),n!==e?(u=Xo(),u!==e?(s.charCodeAt(r)===41?(a=Ae,r++):(a=e,m===0&&R(xe)),a!==e?(Ee=t,n=Ai(u),t=n):(r=t,t=e)):(r=t,t=e)):(r=t,t=e)))),m--,t===e&&(n=e,m===0&&R(bc)),t}function Yy(){var t,n,u,a,g,y,N,k;if(t=fi(),t===e)if(t=r,s.charCodeAt(r)===40?(n=ie,r++):(n=e,m===0&&R(oe)),n!==e){if(u=r,a=fi(),a!==e){for(g=[],y=r,s.charCodeAt(r)===124?(N=Mr,r++):(N=e,m===0&&R(Br)),N!==e?(k=fi(),k!==e?(N=[N,k],y=N):(r=y,y=e)):(r=y,y=e);y!==e;)g.push(y),y=r,s.charCodeAt(r)===124?(N=Mr,r++):(N=e,m===0&&R(Br)),N!==e?(k=fi(),k!==e?(N=[N,k],y=N):(r=y,y=e)):(r=y,y=e);g!==e?(a=[a,g],u=a):(r=u,u=e)}else r=u,u=e;u===e&&(u=null),u!==e?(s.charCodeAt(r)===41?(a=Ae,r++):(a=e,m===0&&R(xe)),a!==e?(n=[n,u,a],t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;return t}function fi(){var t,n,u;return m++,t=rt(),t===e&&(s.charCodeAt(r)===97?(t=Pr,r++):(t=e,m===0&&R(Qr)),t===e&&(t=r,s.charCodeAt(r)===94?(n=vs,r++):(n=e,m===0&&R(ys)),n!==e?(u=rt(),u===e&&(s.charCodeAt(r)===97?(u=Pr,r++):(u=e,m===0&&R(Qr))),u!==e?(n=[n,u],t=n):(r=t,t=e)):(r=t,t=e))),m--,t===e&&(n=e,m===0&&R(mc)),t}function rn(){var t,n;return m++,t=nr(),m--,t===e&&(n=e,m===0&&R(xc)),t}function $o(){var t,n;return m++,t=r,n=rg(),n!==e&&(Ee=t,n=_c(n)),t=n,t===e&&(t=eg()),m--,t===e&&(n=e,m===0&&R(wc)),t}function Zo(){var t,n;return m++,t=r,n=ig(),n!==e&&(Ee=t,n=Ec(n)),t=n,t===e&&(t=tg()),m--,t===e&&(n=e,m===0&&R(kc)),t}function eg(){var t,n,u,a,g,y,N,k;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.charCodeAt(r)===91?(u=Ii,r++):(u=e,m===0&&R(Ci)),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e)if(g=Wo(),g!==e)if(s.charCodeAt(r)===93?(y=Ri,r++):(y=e,m===0&&R(Ni)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(Ee=t,n=Sc(g),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Ac)),t}function tg(){var t,n,u,a,g,y,N,k,V;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.charCodeAt(r)===91?(u=Ii,r++):(u=e,m===0&&R(Ci)),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e)if(g=Ki(),g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();if(y!==e)if(s.charCodeAt(r)===93?(N=Ri,r++):(N=e,m===0&&R(Ni)),N!==e){for(k=[],V=j();V!==e;)k.push(V),V=j();k!==e?(Ee=t,n=Tc(g),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(jc)),t}function rg(){var t,n,u,a,g,y,N,k,V;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.charCodeAt(r)===40?(u=ie,r++):(u=e,m===0&&R(oe)),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e){if(g=[],y=nn(),y!==e)for(;y!==e;)g.push(y),y=nn();else g=e;if(g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();if(y!==e)if(s.charCodeAt(r)===41?(N=Ae,r++):(N=e,m===0&&R(xe)),N!==e){for(k=[],V=j();V!==e;)k.push(V),V=j();k!==e?(Ee=t,n=gs(g),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e}else r=t,t=e}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Fc)),t}function ig(){var t,n,u,a,g,y,N,k,V;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(s.charCodeAt(r)===40?(u=ie,r++):(u=e,m===0&&R(oe)),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e){if(g=[],y=sn(),y!==e)for(;y!==e;)g.push(y),y=sn();else g=e;if(g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();if(y!==e)if(s.charCodeAt(r)===41?(N=Ae,r++):(N=e,m===0&&R(xe)),N!==e){for(k=[],V=j();V!==e;)k.push(V),V=j();k!==e?(Ee=t,n=gs(g),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e}else r=t,t=e}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Ic)),t}function nn(){var t,n,u,a,g,y;for(m++,t=r,n=r,u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=ci(),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(u=[u,a,g],n=u):(r=n,n=e)}else r=n,n=e;else r=n,n=e;if(n===e){for(n=r,u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=$o(),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(u=[u,a,g],n=u):(r=n,n=e)}else r=n,n=e;else r=n,n=e}return n!==e&&(Ee=t,n=bs(n)),t=n,m--,t===e&&(n=e,m===0&&R(Cc)),t}function sn(){var t,n,u,a,g,y;for(m++,t=r,n=r,u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=ci(),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(u=[u,a,g],n=u):(r=n,n=e)}else r=n,n=e;else r=n,n=e;if(n===e){for(n=r,u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=Zo(),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(u=[u,a,g],n=u):(r=n,n=e)}else r=n,n=e;else r=n,n=e}return n!==e&&(Ee=t,n=bs(n)),t=n,m--,t===e&&(n=e,m===0&&R(Rc)),t}function ci(){var t,n;return m++,t=tt(),t===e&&(t=ng()),m--,t===e&&(n=e,m===0&&R(Nc)),t}function ir(){var t,n;return m++,t=tt(),t===e&&(t=rt()),m--,t===e&&(n=e,m===0&&R(Oc)),t}function tt(){var t,n,u,a,g;for(m++,t=r,n=[],u=j();u!==e;)n.push(u),u=j();if(n!==e)if(u=mg(),u===e&&(u=xg()),u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();a!==e?(Ee=t,n=Dc(u),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Lc)),t}function ng(){var t,n;return m++,t=rt(),t===e&&(t=hi(),t===e&&(t=di(),t===e&&(t=vi(),t===e&&(t=yg(),t===e&&(t=At()))))),m--,t===e&&(n=e,m===0&&R(Pc)),t}function Pe(){var t,n;return m++,t=sg(),m--,t===e&&(n=e,m===0&&R(Qc)),t}function sg(){var t,n,u,a,g,y,N,k;if(m++,t=r,n=an(),n!==e){for(u=[],a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.substr(r,2)===Ur?(y=Ur,r+=2):(y=e,m===0&&R(ms)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=an(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;for(;a!==e;){for(u.push(a),a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.substr(r,2)===Ur?(y=Ur,r+=2):(y=e,m===0&&R(ms)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=an(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e}u!==e?(Ee=t,n=Bc(n,u),t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Mc)),t}function an(){var t,n,u,a,g,y,N,k;if(m++,t=r,n=on(),n!==e){for(u=[],a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.substr(r,2)===Gr?(y=Gr,r+=2):(y=e,m===0&&R(xs)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=on(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;for(;a!==e;){for(u.push(a),a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.substr(r,2)===Gr?(y=Gr,r+=2):(y=e,m===0&&R(xs)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=on(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e}u!==e?(Ee=t,n=Gc(n,u),t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Uc)),t}function on(){var t,n;return m++,t=ag(),m--,t===e&&(n=e,m===0&&R(qc)),t}function ag(){var t,n,u,a,g,y,N,k,V,H,we,ge,Ie;if(m++,t=r,n=lt(),n!==e){for(u=[],a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.charCodeAt(r)===61?(y=qr,r++):(y=e,m===0&&R(Hr)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=lt(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;if(a===e){for(a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.substr(r,2)===Jr?(y=Jr,r+=2):(y=e,m===0&&R(ws)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=lt(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;if(a===e){for(a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.charCodeAt(r)===60?(y=Oi,r++):(y=e,m===0&&R(Li)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=lt(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;if(a===e){for(a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.charCodeAt(r)===62?(y=Di,r++):(y=e,m===0&&R(Pi)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=lt(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;if(a===e){for(a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.substr(r,2)===zr?(y=zr,r+=2):(y=e,m===0&&R(_s)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=lt(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;if(a===e){for(a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.substr(r,2)===Vr?(y=Vr,r+=2):(y=e,m===0&&R(ks)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=lt(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;if(a===e){for(a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.charCodeAt(r)===73?(y=Wr,r++):(y=e,m===0&&R(Xr)),y===e&&(s.charCodeAt(r)===105?(y=Kr,r++):(y=e,m===0&&R($r))),y!==e)if(s.charCodeAt(r)===78?(N=Xt,r++):(N=e,m===0&&R(Kt)),N===e&&(s.charCodeAt(r)===110?(N=$t,r++):(N=e,m===0&&R(Zt))),N!==e){for(k=[],V=j();V!==e;)k.push(V),V=j();k!==e?(V=vr(),V!==e?(g=[g,y,N,k,V],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;else r=a,a=e;if(a===e){for(a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.charCodeAt(r)===78?(y=Xt,r++):(y=e,m===0&&R(Kt)),y===e&&(s.charCodeAt(r)===110?(y=$t,r++):(y=e,m===0&&R(Zt))),y!==e)if(s.charCodeAt(r)===79?(N=Es,r++):(N=e,m===0&&R(As)),N===e&&(s.charCodeAt(r)===111?(N=Ss,r++):(N=e,m===0&&R(js))),N!==e)if(s.charCodeAt(r)===84?(k=Ts,r++):(k=e,m===0&&R(Fs)),k===e&&(s.charCodeAt(r)===116?(k=Is,r++):(k=e,m===0&&R(Cs))),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e)if(s.charCodeAt(r)===73?(H=Wr,r++):(H=e,m===0&&R(Xr)),H===e&&(s.charCodeAt(r)===105?(H=Kr,r++):(H=e,m===0&&R($r))),H!==e)if(s.charCodeAt(r)===78?(we=Xt,r++):(we=e,m===0&&R(Kt)),we===e&&(s.charCodeAt(r)===110?(we=$t,r++):(we=e,m===0&&R(Zt))),we!==e){for(ge=[],Ie=j();Ie!==e;)ge.push(Ie),Ie=j();ge!==e?(Ie=vr(),Ie!==e?(g=[g,y,N,k,V,H,we,ge,Ie],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;else r=a,a=e}else r=a,a=e;else r=a,a=e;else r=a,a=e;else r=a,a=e}}}}}}}for(;a!==e;){for(u.push(a),a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.charCodeAt(r)===61?(y=qr,r++):(y=e,m===0&&R(Hr)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=lt(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;if(a===e){for(a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.substr(r,2)===Jr?(y=Jr,r+=2):(y=e,m===0&&R(ws)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=lt(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;if(a===e){for(a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.charCodeAt(r)===60?(y=Oi,r++):(y=e,m===0&&R(Li)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=lt(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;if(a===e){for(a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.charCodeAt(r)===62?(y=Di,r++):(y=e,m===0&&R(Pi)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=lt(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;if(a===e){for(a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.substr(r,2)===zr?(y=zr,r+=2):(y=e,m===0&&R(_s)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=lt(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;if(a===e){for(a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.substr(r,2)===Vr?(y=Vr,r+=2):(y=e,m===0&&R(ks)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=lt(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;if(a===e){for(a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.charCodeAt(r)===73?(y=Wr,r++):(y=e,m===0&&R(Xr)),y===e&&(s.charCodeAt(r)===105?(y=Kr,r++):(y=e,m===0&&R($r))),y!==e)if(s.charCodeAt(r)===78?(N=Xt,r++):(N=e,m===0&&R(Kt)),N===e&&(s.charCodeAt(r)===110?(N=$t,r++):(N=e,m===0&&R(Zt))),N!==e){for(k=[],V=j();V!==e;)k.push(V),V=j();k!==e?(V=vr(),V!==e?(g=[g,y,N,k,V],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;else r=a,a=e;if(a===e){for(a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.charCodeAt(r)===78?(y=Xt,r++):(y=e,m===0&&R(Kt)),y===e&&(s.charCodeAt(r)===110?(y=$t,r++):(y=e,m===0&&R(Zt))),y!==e)if(s.charCodeAt(r)===79?(N=Es,r++):(N=e,m===0&&R(As)),N===e&&(s.charCodeAt(r)===111?(N=Ss,r++):(N=e,m===0&&R(js))),N!==e)if(s.charCodeAt(r)===84?(k=Ts,r++):(k=e,m===0&&R(Fs)),k===e&&(s.charCodeAt(r)===116?(k=Is,r++):(k=e,m===0&&R(Cs))),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e)if(s.charCodeAt(r)===73?(H=Wr,r++):(H=e,m===0&&R(Xr)),H===e&&(s.charCodeAt(r)===105?(H=Kr,r++):(H=e,m===0&&R($r))),H!==e)if(s.charCodeAt(r)===78?(we=Xt,r++):(we=e,m===0&&R(Kt)),we===e&&(s.charCodeAt(r)===110?(we=$t,r++):(we=e,m===0&&R(Zt))),we!==e){for(ge=[],Ie=j();Ie!==e;)ge.push(Ie),Ie=j();ge!==e?(Ie=vr(),Ie!==e?(g=[g,y,N,k,V,H,we,ge,Ie],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;else r=a,a=e}else r=a,a=e;else r=a,a=e;else r=a,a=e;else r=a,a=e}}}}}}}}u!==e?(Ee=t,n=Jc(n,u),t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Hc)),t}function lt(){var t,n;return m++,t=og(),m--,t===e&&(n=e,m===0&&R(zc)),t}function og(){var t,n,u,a,g,y,N,k,V,H;if(m++,t=r,n=yr(),n!==e){for(u=[],a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.charCodeAt(r)===43?(y=jt,r++):(y=e,m===0&&R(Tt)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=yr(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;if(a===e){for(a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.charCodeAt(r)===45?(y=yt,r++):(y=e,m===0&&R(gt)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=yr(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;if(a===e)if(a=r,g=gr(),g===e&&(g=gr()),g!==e){for(y=r,N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(s.charCodeAt(r)===42?(k=Z,r++):(k=e,m===0&&R(U)),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();V!==e?(H=Et(),H!==e?(N=[N,k,V,H],y=N):(r=y,y=e)):(r=y,y=e)}else r=y,y=e;else r=y,y=e;if(y===e){for(y=r,N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(s.charCodeAt(r)===47?(k=Dt,r++):(k=e,m===0&&R(Pt)),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();V!==e?(H=Et(),H!==e?(N=[N,k,V,H],y=N):(r=y,y=e)):(r=y,y=e)}else r=y,y=e;else r=y,y=e}y===e&&(y=null),y!==e?(g=[g,y],a=g):(r=a,a=e)}else r=a,a=e}for(;a!==e;){for(u.push(a),a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.charCodeAt(r)===43?(y=jt,r++):(y=e,m===0&&R(Tt)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=yr(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;if(a===e){for(a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.charCodeAt(r)===45?(y=yt,r++):(y=e,m===0&&R(gt)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=yr(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;if(a===e)if(a=r,g=gr(),g===e&&(g=gr()),g!==e){for(y=r,N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(s.charCodeAt(r)===42?(k=Z,r++):(k=e,m===0&&R(U)),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();V!==e?(H=Et(),H!==e?(N=[N,k,V,H],y=N):(r=y,y=e)):(r=y,y=e)}else r=y,y=e;else r=y,y=e;if(y===e){for(y=r,N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(s.charCodeAt(r)===47?(k=Dt,r++):(k=e,m===0&&R(Pt)),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();V!==e?(H=Et(),H!==e?(N=[N,k,V,H],y=N):(r=y,y=e)):(r=y,y=e)}else r=y,y=e;else r=y,y=e}y===e&&(y=null),y!==e?(g=[g,y],a=g):(r=a,a=e)}else r=a,a=e}}u!==e?(Ee=t,n=Wc(n,u),t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Vc)),t}function yr(){var t,n,u,a,g,y,N,k;if(m++,t=r,n=Et(),n!==e){for(u=[],a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.charCodeAt(r)===42?(y=Z,r++):(y=e,m===0&&R(U)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=Et(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;if(a===e){for(a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.charCodeAt(r)===47?(y=Dt,r++):(y=e,m===0&&R(Pt)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=Et(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e}for(;a!==e;){for(u.push(a),a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.charCodeAt(r)===42?(y=Z,r++):(y=e,m===0&&R(U)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=Et(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e;if(a===e){for(a=r,g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.charCodeAt(r)===47?(y=Dt,r++):(y=e,m===0&&R(Pt)),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(k=Et(),k!==e?(g=[g,y,N,k],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e}}u!==e?(Ee=t,n=Kc(n,u),t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Xc)),t}function Et(){var t,n,u,a;if(m++,t=r,s.charCodeAt(r)===33?(n=Ti,r++):(n=e,m===0&&R(Fi)),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();u!==e?(a=pi(),a!==e?(Ee=t,n=Zc(a),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;if(t===e){if(t=r,s.charCodeAt(r)===43?(n=jt,r++):(n=e,m===0&&R(Tt)),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();u!==e?(a=pi(),a!==e?(Ee=t,n=Yc(a),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;if(t===e){if(t=r,s.charCodeAt(r)===45?(n=yt,r++):(n=e,m===0&&R(gt)),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();u!==e?(a=pi(),a!==e?(Ee=t,n=ep(a),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;t===e&&(t=pi())}}return m--,t===e&&(n=e,m===0&&R($c)),t}function pi(){var t,n;return m++,t=ln(),t===e&&(t=un(),t===e&&(t=pg(),t===e&&(t=r,n=hi(),n!==e&&(Ee=t,n=rp(n)),t=n,t===e&&(t=r,n=di(),n!==e&&(Ee=t,n=ip(n)),t=n,t===e&&(t=r,n=vi(),n!==e&&(Ee=t,n=np(n)),t=n,t===e&&(t=cg(),t===e&&(t=r,n=tt(),n!==e&&(Ee=t,n=sp(n)),t=n))))))),m--,t===e&&(n=e,m===0&&R(tp)),t}function ln(){var t,n,u,a,g,y;if(m++,t=r,s.charCodeAt(r)===40?(n=ie,r++):(n=e,m===0&&R(oe)),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(a=Pe(),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(s.charCodeAt(r)===41?(y=Ae,r++):(y=e,m===0&&R(xe)),y!==e?(Ee=t,n=op(a),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(ap)),t}function un(){var t,n,u,a,g,y,N,k,V,H,we,ge,Ie,Re,Oe,Qe;if(m++,t=r,s.substr(r,3)===Rs?(n=Rs,r+=3):(n=e,m===0&&R(up)),n===e&&(s.substr(r,3)===Ns?(n=Ns,r+=3):(n=e,m===0&&R(fp))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(y=Pe(),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(s.charCodeAt(r)===41?(k=Ae,r++):(k=e,m===0&&R(xe)),k!==e?(Ee=t,n=cp(y),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e){if(t=r,s.substr(r,4)===Os?(n=Os,r+=4):(n=e,m===0&&R(pp)),n===e&&(s.substr(r,4)===Ls?(n=Ls,r+=4):(n=e,m===0&&R(hp))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(y=Pe(),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(s.charCodeAt(r)===41?(k=Ae,r++):(k=e,m===0&&R(xe)),k!==e?(Ee=t,n=dp(y),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e){if(t=r,s.substr(r,11)===Ds?(n=Ds,r+=11):(n=e,m===0&&R(vp)),n===e&&(s.substr(r,11)===Ps?(n=Ps,r+=11):(n=e,m===0&&R(yp))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(y=Pe(),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(s.charCodeAt(r)===44?(k=Ye,r++):(k=e,m===0&&R(et)),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e)if(H=Pe(),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();we!==e?(s.charCodeAt(r)===41?(ge=Ae,r++):(ge=e,m===0&&R(xe)),ge!==e?(Ee=t,n=gp(y,H),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e){if(t=r,s.substr(r,8)===Qs?(n=Qs,r+=8):(n=e,m===0&&R(bp)),n===e&&(s.substr(r,8)===Ms?(n=Ms,r+=8):(n=e,m===0&&R(mp))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(y=Pe(),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(s.charCodeAt(r)===41?(k=Ae,r++):(k=e,m===0&&R(xe)),k!==e?(Ee=t,n=xp(y),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e){if(t=r,s.substr(r,5)===Bs?(n=Bs,r+=5):(n=e,m===0&&R(wp)),n===e&&(s.substr(r,5)===Us?(n=Us,r+=5):(n=e,m===0&&R(_p))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(y=tt(),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(s.charCodeAt(r)===41?(k=Ae,r++):(k=e,m===0&&R(xe)),k!==e?(Ee=t,n=kp(y),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e){if(t=r,s.substr(r,3)===Gs?(n=Gs,r+=3):(n=e,m===0&&R(Ep)),n===e&&(s.substr(r,3)===qs?(n=qs,r+=3):(n=e,m===0&&R(Ap))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(y=Pe(),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(s.charCodeAt(r)===41?(k=Ae,r++):(k=e,m===0&&R(xe)),k!==e?(Ee=t,n=Sp(y),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e){if(t=r,s.substr(r,3)===Hs?(n=Hs,r+=3):(n=e,m===0&&R(jp)),n===e&&(s.substr(r,3)===Js?(n=Js,r+=3):(n=e,m===0&&R(Tp))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(y=Pe(),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(s.charCodeAt(r)===41?(k=Ae,r++):(k=e,m===0&&R(xe)),k!==e?(Ee=t,n=Fp(y),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e){if(t=r,s.substr(r,5)===zs?(n=zs,r+=5):(n=e,m===0&&R(Ip)),n===e&&(s.substr(r,5)===Vs?(n=Vs,r+=5):(n=e,m===0&&R(Cp))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e){if(a=r,s.charCodeAt(r)===40?(g=ie,r++):(g=e,m===0&&R(oe)),g!==e){for(y=[],N=j();N!==e;)y.push(N),N=j();if(y!==e)if(N=Pe(),N!==e){for(k=[],V=j();V!==e;)k.push(V),V=j();k!==e?(s.charCodeAt(r)===41?(V=Ae,r++):(V=e,m===0&&R(xe)),V!==e?(g=[g,y,N,k,V],a=g):(r=a,a=e)):(r=a,a=e)}else r=a,a=e;else r=a,a=e}else r=a,a=e;a===e&&(a=At()),a!==e?(Ee=t,n=Rp(a),t=n):(r=t,t=e)}else r=t,t=e}else r=t,t=e;if(t===e){if(t=r,s.substr(r,8)===Ws?(n=Ws,r+=8):(n=e,m===0&&R(Np)),n===e&&(s.substr(r,8)===Xs?(n=Xs,r+=8):(n=e,m===0&&R(Op))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();u!==e?(a=vr(),a!==e?(Ee=t,n=Lp(a),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;if(t===e){if(t=r,s.substr(r,2)===Ks?(n=Ks,r+=2):(n=e,m===0&&R(Dp)),n===e&&(s.substr(r,2)===$s?(n=$s,r+=2):(n=e,m===0&&R(Pp))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(y=Pe(),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(s.charCodeAt(r)===44?(k=Ye,r++):(k=e,m===0&&R(et)),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e)if(H=Pe(),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();if(we!==e)if(s.charCodeAt(r)===44?(ge=Ye,r++):(ge=e,m===0&&R(et)),ge!==e){for(Ie=[],Re=j();Re!==e;)Ie.push(Re),Re=j();if(Ie!==e)if(Re=Pe(),Re!==e){for(Oe=[],Qe=j();Qe!==e;)Oe.push(Qe),Qe=j();Oe!==e?(s.charCodeAt(r)===41?(Qe=Ae,r++):(Qe=e,m===0&&R(xe)),Qe!==e?(Ee=t,n=Qp(y,H,Re),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e){if(t=r,s.substr(r,9)===Zs?(n=Zs,r+=9):(n=e,m===0&&R(Mp)),n===e&&(s.substr(r,9)===Ys?(n=Ys,r+=9):(n=e,m===0&&R(Bp)),n===e&&(s.substr(r,9)===ea?(n=ea,r+=9):(n=e,m===0&&R(Up)))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(y=Pe(),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(s.charCodeAt(r)===41?(k=Ae,r++):(k=e,m===0&&R(xe)),k!==e?(Ee=t,n=Gp(y),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e){if(t=r,s.substr(r,7)===ta?(n=ta,r+=7):(n=e,m===0&&R(qp)),n===e&&(s.substr(r,7)===ra?(n=ra,r+=7):(n=e,m===0&&R(Hp)),n===e&&(s.substr(r,7)===ia?(n=ia,r+=7):(n=e,m===0&&R(Jp)))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(y=Pe(),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(s.charCodeAt(r)===41?(k=Ae,r++):(k=e,m===0&&R(xe)),k!==e?(Ee=t,n=zp(y),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e){if(t=r,s.substr(r,8)===na?(n=na,r+=8):(n=e,m===0&&R(Vp)),n===e&&(s.substr(r,8)===sa?(n=sa,r+=8):(n=e,m===0&&R(Wp))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(y=Pe(),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(s.charCodeAt(r)===44?(k=Ye,r++):(k=e,m===0&&R(et)),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e)if(H=Pe(),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();we!==e?(s.charCodeAt(r)===41?(ge=Ae,r++):(ge=e,m===0&&R(xe)),ge!==e?(Ee=t,n=Xp(y,H),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e){if(t=r,s.substr(r,5)===aa?(n=aa,r+=5):(n=e,m===0&&R(Kp)),n===e&&(s.substr(r,5)===oa?(n=oa,r+=5):(n=e,m===0&&R($p)),n===e&&(s.substr(r,5)===la?(n=la,r+=5):(n=e,m===0&&R(Zp)),n===e&&(s.substr(r,5)===ua?(n=ua,r+=5):(n=e,m===0&&R(Yp)),n===e&&(s.substr(r,5)===fa?(n=fa,r+=5):(n=e,m===0&&R(eh)),n===e&&(s.substr(r,5)===ca?(n=ca,r+=5):(n=e,m===0&&R(th))))))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(y=Pe(),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();N!==e?(s.charCodeAt(r)===41?(k=Ae,r++):(k=e,m===0&&R(xe)),k!==e?(Ee=t,n=rh(y),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e){if(t=r,s.substr(r,7)===pa?(n=pa,r+=7):(n=e,m===0&&R(ih)),n===e&&(s.substr(r,7)===ha?(n=ha,r+=7):(n=e,m===0&&R(nh))),n!==e){if(u=[],da.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(va)),a!==e)for(;a!==e;)u.push(a),da.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(va));else u=e;if(u!==e){for(a=[],g=j();g!==e;)a.push(g),g=j();if(a!==e)if(s.charCodeAt(r)===40?(g=ie,r++):(g=e,m===0&&R(oe)),g!==e){for(y=[],N=r,k=[],V=j();V!==e;)k.push(V),V=j();for(k!==e?(V=Pe(),V!==e?(s.charCodeAt(r)===44?(H=Ye,r++):(H=e,m===0&&R(et)),H!==e?(k=[k,V,H],N=k):(r=N,N=e)):(r=N,N=e)):(r=N,N=e);N!==e;){for(y.push(N),N=r,k=[],V=j();V!==e;)k.push(V),V=j();k!==e?(V=Pe(),V!==e?(s.charCodeAt(r)===44?(H=Ye,r++):(H=e,m===0&&R(et)),H!==e?(k=[k,V,H],N=k):(r=N,N=e)):(r=N,N=e)):(r=N,N=e)}if(y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(k=Pe(),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();V!==e?(s.charCodeAt(r)===41?(H=Ae,r++):(H=e,m===0&&R(xe)),H!==e?(Ee=t,n=sh(u,y,k),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e}else r=t,t=e;t===e&&(t=lg(),t===e&&(t=ug(),t===e&&(t=fg())))}}}}}}}}}}}}}}return m--,t===e&&(n=e,m===0&&R(lp)),t}function lg(){var t,n,u,a,g,y,N,k,V,H,we,ge,Ie,Re,Oe;if(m++,t=r,s.substr(r,5)===ya?(n=ya,r+=5):(n=e,m===0&&R(oh)),n===e&&(s.substr(r,5)===ga?(n=ga,r+=5):(n=e,m===0&&R(lh))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(y=Pe(),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(s.charCodeAt(r)===44?(k=Ye,r++):(k=e,m===0&&R(et)),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e)if(H=Pe(),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();if(we!==e){if(ge=r,s.charCodeAt(r)===44?(Ie=Ye,r++):(Ie=e,m===0&&R(et)),Ie!==e){for(Re=[],Oe=j();Oe!==e;)Re.push(Oe),Oe=j();Re!==e?(Oe=Pe(),Oe!==e?(Ie=[Ie,Re,Oe],ge=Ie):(r=ge,ge=e)):(r=ge,ge=e)}else r=ge,ge=e;if(ge===e&&(ge=null),ge!==e){for(Ie=[],Re=j();Re!==e;)Ie.push(Re),Re=j();Ie!==e?(s.charCodeAt(r)===41?(Re=Ae,r++):(Re=e,m===0&&R(xe)),Re!==e?(Ee=t,n=uh(y,H,ge),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e}else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(ah)),t}function ug(){var t,n,u,a;if(m++,t=r,s.substr(r,6)===Zr?(n=Zr,r+=6):(n=e,m===0&&R(ba)),n===e&&(s.substr(r,6)===Yr?(n=Yr,r+=6):(n=e,m===0&&R(ma))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();u!==e?(a=ct(),a!==e?(Ee=t,n=ch(a),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(fh)),t}function fg(){var t,n,u,a,g,y;if(m++,t=r,s.substr(r,3)===xa?(n=xa,r+=3):(n=e,m===0&&R(hh)),n===e&&(s.substr(r,3)===wa?(n=wa,r+=3):(n=e,m===0&&R(dh))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.substr(r,6)===Zr?(a=Zr,r+=6):(a=e,m===0&&R(ba)),a===e&&(s.substr(r,6)===Yr?(a=Yr,r+=6):(a=e,m===0&&R(ma))),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();g!==e?(y=ct(),y!==e?(Ee=t,n=vh(y),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(ph)),t}function cg(){var t,n,u,a,g,y,N,k,V,H,we,ge,Ie,Re,Oe,Qe,ut,Ze;if(m++,t=r,s.substr(r,5)===_a?(n=_a,r+=5):(n=e,m===0&&R(gh)),n===e&&(s.substr(r,5)===ka?(n=ka,r+=5):(n=e,m===0&&R(bh))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.substr(r,8)===le?(y=le,r+=8):(y=e,m===0&&R(ce)),y===e&&(s.substr(r,8)===$?(y=$,r+=8):(y=e,m===0&&R(ve))),y===e&&(y=null),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(s.charCodeAt(r)===42?(k=Z,r++):(k=e,m===0&&R(U)),k===e&&(k=Pe()),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e)if(s.charCodeAt(r)===41?(H=Ae,r++):(H=e,m===0&&R(xe)),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();we!==e?(Ee=t,n=mh(y,k),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e){if(t=r,s.substr(r,12)===Ea?(n=Ea,r+=12):(n=e,m===0&&R(xh)),n===e&&(s.substr(r,12)===Aa?(n=Aa,r+=12):(n=e,m===0&&R(wh))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.substr(r,8)===le?(y=le,r+=8):(y=e,m===0&&R(ce)),y===e&&(s.substr(r,8)===$?(y=$,r+=8):(y=e,m===0&&R(ve))),y===e&&(y=null),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(k=Pe(),k!==e){if(V=r,s.charCodeAt(r)===59?(H=_t,r++):(H=e,m===0&&R(kt)),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();if(we!==e)if(s.substr(r,9)===Sa?(ge=Sa,r+=9):(ge=e,m===0&&R(_h)),ge!==e){for(Ie=[],Re=j();Re!==e;)Ie.push(Re),Re=j();if(Ie!==e)if(s.charCodeAt(r)===61?(Re=qr,r++):(Re=e,m===0&&R(Hr)),Re!==e){for(Oe=[],Qe=j();Qe!==e;)Oe.push(Qe),Qe=j();if(Oe!==e)if(Qe=Yo(),Qe!==e){for(ut=[],Ze=j();Ze!==e;)ut.push(Ze),Ze=j();ut!==e?(H=[H,we,ge,Ie,Re,Oe,Qe,ut],V=H):(r=V,V=e)}else r=V,V=e;else r=V,V=e}else r=V,V=e;else r=V,V=e}else r=V,V=e;else r=V,V=e}else r=V,V=e;if(V===e&&(V=null),V!==e)if(s.charCodeAt(r)===41?(H=Ae,r++):(H=e,m===0&&R(xe)),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();we!==e?(Ee=t,n=kh(y,k,V),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e){if(t=r,s.substr(r,3)===ja?(n=ja,r+=3):(n=e,m===0&&R(Eh)),n===e&&(s.substr(r,3)===Ta?(n=Ta,r+=3):(n=e,m===0&&R(Ah))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.substr(r,8)===le?(y=le,r+=8):(y=e,m===0&&R(ce)),y===e&&(s.substr(r,8)===$?(y=$,r+=8):(y=e,m===0&&R(ve))),y===e&&(y=null),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(k=Pe(),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e)if(s.charCodeAt(r)===41?(H=Ae,r++):(H=e,m===0&&R(xe)),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();we!==e?(Ee=t,n=Sh(y,k),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e){if(t=r,s.substr(r,3)===Fa?(n=Fa,r+=3):(n=e,m===0&&R(jh)),n===e&&(s.substr(r,3)===Ia?(n=Ia,r+=3):(n=e,m===0&&R(Th))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.substr(r,8)===le?(y=le,r+=8):(y=e,m===0&&R(ce)),y===e&&(s.substr(r,8)===$?(y=$,r+=8):(y=e,m===0&&R(ve))),y===e&&(y=null),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(k=Pe(),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e)if(s.charCodeAt(r)===41?(H=Ae,r++):(H=e,m===0&&R(xe)),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();we!==e?(Ee=t,n=Fh(y,k),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e){if(t=r,s.substr(r,3)===Ca?(n=Ca,r+=3):(n=e,m===0&&R(Ih)),n===e&&(s.substr(r,3)===Ra?(n=Ra,r+=3):(n=e,m===0&&R(Ch))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.substr(r,8)===le?(y=le,r+=8):(y=e,m===0&&R(ce)),y===e&&(s.substr(r,8)===$?(y=$,r+=8):(y=e,m===0&&R(ve))),y===e&&(y=null),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(k=Pe(),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e)if(s.charCodeAt(r)===41?(H=Ae,r++):(H=e,m===0&&R(xe)),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();we!==e?(Ee=t,n=Rh(y,k),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;if(t===e)if(t=r,s.substr(r,3)===Na?(n=Na,r+=3):(n=e,m===0&&R(Nh)),n===e&&(s.substr(r,3)===Oa?(n=Oa,r+=3):(n=e,m===0&&R(Oh))),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();if(u!==e)if(s.charCodeAt(r)===40?(a=ie,r++):(a=e,m===0&&R(oe)),a!==e){for(g=[],y=j();y!==e;)g.push(y),y=j();if(g!==e)if(s.substr(r,8)===le?(y=le,r+=8):(y=e,m===0&&R(ce)),y===e&&(s.substr(r,8)===$?(y=$,r+=8):(y=e,m===0&&R(ve))),y===e&&(y=null),y!==e){for(N=[],k=j();k!==e;)N.push(k),k=j();if(N!==e)if(k=Pe(),k!==e){for(V=[],H=j();H!==e;)V.push(H),H=j();if(V!==e)if(s.charCodeAt(r)===41?(H=Ae,r++):(H=e,m===0&&R(xe)),H!==e){for(we=[],ge=j();ge!==e;)we.push(ge),ge=j();we!==e?(Ee=t,n=Lh(y,k),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e;else r=t,t=e}else r=t,t=e}}}}return m--,t===e&&(n=e,m===0&&R(yh)),t}function pg(){var t,n,u,a;if(m++,t=r,n=rt(),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();u!==e?(a=Ho(),a===e&&(a=null),a!==e?(Ee=t,n=Ph(n,a),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Dh)),t}function hi(){var t,n,u,a,g;return m++,t=r,n=Yo(),n!==e?(u=wg(),u===e&&(u=r,s.substr(r,2)===La?(a=La,r+=2):(a=e,m===0&&R(Mh)),a!==e?(g=rt(),g!==e?(a=[a,g],u=a):(r=u,u=e)):(r=u,u=e)),u===e&&(u=null),u!==e?(Ee=t,n=Bh(n,u),t=n):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(Qh)),t}function di(){var t,n;return m++,t=hg(),t===e&&(t=dg(),t===e&&(t=gr())),m--,t===e&&(n=e,m===0&&R(Uh)),t}function hg(){var t,n;return m++,t=pn(),t===e&&(t=cn(),t===e&&(t=nr())),m--,t===e&&(n=e,m===0&&R(Gh)),t}function dg(){var t,n;return m++,t=Eg(),t===e&&(t=kg(),t===e&&(t=_g())),m--,t===e&&(n=e,m===0&&R(qh)),t}function gr(){var t,n;return m++,t=jg(),t===e&&(t=Sg(),t===e&&(t=Ag())),m--,t===e&&(n=e,m===0&&R(Hh)),t}function vi(){var t,n;return m++,t=r,s.substr(r,4)===Da?(n=Da,r+=4):(n=e,m===0&&R(zh)),n===e&&(s.substr(r,4)===Pa?(n=Pa,r+=4):(n=e,m===0&&R(Vh))),n!==e&&(Ee=t,n=Wh()),t=n,t===e&&(t=r,s.substr(r,5)===Qa?(n=Qa,r+=5):(n=e,m===0&&R(Xh)),n===e&&(s.substr(r,5)===Ma?(n=Ma,r+=5):(n=e,m===0&&R(Kh))),n!==e&&(Ee=t,n=$h()),t=n),m--,t===e&&(n=e,m===0&&R(Jh)),t}function Yo(){var t,n;return m++,t=r,n=Ig(),n!==e&&(Ee=t,n=ei(n)),t=n,t===e&&(t=r,n=Cg(),n!==e&&(Ee=t,n=ei(n)),t=n,t===e&&(t=r,n=Tg(),n!==e&&(Ee=t,n=ei(n)),t=n,t===e&&(t=r,n=Fg(),n!==e&&(Ee=t,n=ei(n)),t=n))),m--,t===e&&(n=e,m===0&&R(Zh)),t}function rt(){var t,n;return m++,t=r,n=yi(),n!==e&&(Ee=t,n=ed(n)),t=n,t===e&&(t=r,n=vg(),n!==e&&(Ee=t,n=Ba(n)),t=n),m--,t===e&&(n=e,m===0&&R(Yh)),t}function vg(){var t,n;return m++,t=r,n=gg(),n!==e&&(Ee=t,n=rd(n)),t=n,t===e&&(t=r,n=fn(),n!==e&&(Ee=t,n=id(n)),t=n),m--,t===e&&(n=e,m===0&&R(td)),t}function yg(){var t,n;return m++,t=r,n=bg(),n!==e&&(Ee=t,n=sd(n)),t=n,t===e&&(t=r,n=Ng(),n!==e&&(Ee=t,n=ad()),t=n),m--,t===e&&(n=e,m===0&&R(nd)),t}function yi(){var t,n,u,a;if(m++,t=r,s.charCodeAt(r)===60?(n=Oi,r++):(n=e,m===0&&R(Li)),n!==e){for(u=[],Ua.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(Ga));a!==e;)u.push(a),Ua.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(Ga));u!==e?(s.charCodeAt(r)===62?(a=Di,r++):(a=e,m===0&&R(Pi)),a!==e?(Ee=t,n=ld(u),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(od)),t}function fn(){var t,n,u;return m++,t=r,n=Og(),n===e&&(n=null),n!==e?(s.charCodeAt(r)===58?(u=fr,r++):(u=e,m===0&&R(cr)),u!==e?(Ee=t,n=Ba(n),t=n):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(ud)),t}function gg(){var t,n,u;return m++,t=r,n=fn(),n!==e?(u=rl(),u!==e?(Ee=t,n=cd(n,u),t=n):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(fd)),t}function bg(){var t,n,u;return m++,t=r,s.substr(r,2)===qa?(n=qa,r+=2):(n=e,m===0&&R(hd)),n!==e?(u=rl(),u!==e?(Ee=t,n=dd(u),t=n):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(pd)),t}function mg(){var t,n,u;return m++,t=r,s.charCodeAt(r)===63?(n=Si,r++):(n=e,m===0&&R(ji)),n!==e?(u=tl(),u!==e?(Ee=t,n=Ha(u),t=n):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(vd)),t}function xg(){var t,n,u;return m++,t=r,s.charCodeAt(r)===36?(n=Ja,r++):(n=e,m===0&&R(za)),n!==e?(u=tl(),u!==e?(Ee=t,n=Ha(u),t=n):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(yd)),t}function wg(){var t,n,u,a,g,y,N,k;if(m++,t=r,s.charCodeAt(r)===64?(n=Va,r++):(n=e,m===0&&R(Wa)),n!==e){if(u=[],Xa.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(Ka)),a!==e)for(;a!==e;)u.push(a),Xa.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(Ka));else u=e;if(u!==e){if(a=[],g=r,s.charCodeAt(r)===45?(y=yt,r++):(y=e,m===0&&R(gt)),y!==e){if(N=[],ti.test(s.charAt(r))?(k=s.charAt(r),r++):(k=e,m===0&&R(ri)),k!==e)for(;k!==e;)N.push(k),ti.test(s.charAt(r))?(k=s.charAt(r),r++):(k=e,m===0&&R(ri));else N=e;N!==e?(y=[y,N],g=y):(r=g,g=e)}else r=g,g=e;for(;g!==e;)if(a.push(g),g=r,s.charCodeAt(r)===45?(y=yt,r++):(y=e,m===0&&R(gt)),y!==e){if(N=[],ti.test(s.charAt(r))?(k=s.charAt(r),r++):(k=e,m===0&&R(ri)),k!==e)for(;k!==e;)N.push(k),ti.test(s.charAt(r))?(k=s.charAt(r),r++):(k=e,m===0&&R(ri));else N=e;N!==e?(y=[y,N],g=y):(r=g,g=e)}else r=g,g=e;a!==e?(Ee=t,n=bd(u,a),t=n):(r=t,t=e)}else r=t,t=e}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(gd)),t}function nr(){var t,n,u;if(m++,t=r,n=[],We.test(s.charAt(r))?(u=s.charAt(r),r++):(u=e,m===0&&R(Xe)),u!==e)for(;u!==e;)n.push(u),We.test(s.charAt(r))?(u=s.charAt(r),r++):(u=e,m===0&&R(Xe));else n=e;return n!==e&&(Ee=t,n=xd(n)),t=n,m--,t===e&&(n=e,m===0&&R(md)),t}function cn(){var t,n,u,a,g;if(m++,t=r,n=[],We.test(s.charAt(r))?(u=s.charAt(r),r++):(u=e,m===0&&R(Xe)),u!==e)for(;u!==e;)n.push(u),We.test(s.charAt(r))?(u=s.charAt(r),r++):(u=e,m===0&&R(Xe));else n=e;if(n!==e)if(s.charCodeAt(r)===46?(u=nt,r++):(u=e,m===0&&R(st)),u!==e){for(a=[],We.test(s.charAt(r))?(g=s.charAt(r),r++):(g=e,m===0&&R(Xe));g!==e;)a.push(g),We.test(s.charAt(r))?(g=s.charAt(r),r++):(g=e,m===0&&R(Xe));a!==e?(Ee=t,n=_d(n,u,a),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e;if(t===e)if(t=r,s.charCodeAt(r)===46?(n=nt,r++):(n=e,m===0&&R(st)),n!==e){if(u=[],We.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(Xe)),a!==e)for(;a!==e;)u.push(a),We.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(Xe));else u=e;u!==e?(Ee=t,n=kd(n,u),t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(wd)),t}function pn(){var t,n,u,a,g;if(m++,t=r,n=[],We.test(s.charAt(r))?(u=s.charAt(r),r++):(u=e,m===0&&R(Xe)),u!==e)for(;u!==e;)n.push(u),We.test(s.charAt(r))?(u=s.charAt(r),r++):(u=e,m===0&&R(Xe));else n=e;if(n!==e)if(s.charCodeAt(r)===46?(u=nt,r++):(u=e,m===0&&R(st)),u!==e){for(a=[],We.test(s.charAt(r))?(g=s.charAt(r),r++):(g=e,m===0&&R(Xe));g!==e;)a.push(g),We.test(s.charAt(r))?(g=s.charAt(r),r++):(g=e,m===0&&R(Xe));a!==e?(g=hn(),g!==e?(Ee=t,n=Ad(n,u,a,g),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;else r=t,t=e;if(t===e){if(t=r,s.charCodeAt(r)===46?(n=nt,r++):(n=e,m===0&&R(st)),n!==e){if(u=[],We.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(Xe)),a!==e)for(;a!==e;)u.push(a),We.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(Xe));else u=e;u!==e?(a=hn(),a!==e?(Ee=t,n=Sd(n,u,a),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;if(t===e){if(t=r,n=[],We.test(s.charAt(r))?(u=s.charAt(r),r++):(u=e,m===0&&R(Xe)),u!==e)for(;u!==e;)n.push(u),We.test(s.charAt(r))?(u=s.charAt(r),r++):(u=e,m===0&&R(Xe));else n=e;n!==e?(u=hn(),u!==e?(Ee=t,n=jd(n,u),t=n):(r=t,t=e)):(r=t,t=e)}}return m--,t===e&&(n=e,m===0&&R(Ed)),t}function _g(){var t,n,u;return m++,t=r,s.charCodeAt(r)===43?(n=jt,r++):(n=e,m===0&&R(Tt)),n!==e?(u=nr(),u!==e?(Ee=t,n=Fd(u),t=n):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(Td)),t}function kg(){var t,n,u;return m++,t=r,s.charCodeAt(r)===43?(n=jt,r++):(n=e,m===0&&R(Tt)),n!==e?(u=cn(),u!==e?(Ee=t,n=$a(u),t=n):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(Id)),t}function Eg(){var t,n,u;return m++,t=r,s.charCodeAt(r)===43?(n=jt,r++):(n=e,m===0&&R(Tt)),n!==e?(u=pn(),u!==e?(Ee=t,n=$a(u),t=n):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(Cd)),t}function Ag(){var t,n,u;return m++,t=r,s.charCodeAt(r)===45?(n=yt,r++):(n=e,m===0&&R(gt)),n!==e?(u=nr(),u!==e?(Ee=t,n=Qi(u),t=n):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(Rd)),t}function Sg(){var t,n,u;return m++,t=r,s.charCodeAt(r)===45?(n=yt,r++):(n=e,m===0&&R(gt)),n!==e?(u=cn(),u!==e?(Ee=t,n=Qi(u),t=n):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(Nd)),t}function jg(){var t,n,u;return m++,t=r,s.charCodeAt(r)===45?(n=yt,r++):(n=e,m===0&&R(gt)),n!==e?(u=pn(),u!==e?(Ee=t,n=Qi(u),t=n):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(Od)),t}function hn(){var t,n,u,a,g;if(m++,t=r,Dd.test(s.charAt(r))?(n=s.charAt(r),r++):(n=e,m===0&&R(Pd)),n!==e)if(Qd.test(s.charAt(r))?(u=s.charAt(r),r++):(u=e,m===0&&R(Md)),u===e&&(u=null),u!==e){if(a=[],We.test(s.charAt(r))?(g=s.charAt(r),r++):(g=e,m===0&&R(Xe)),g!==e)for(;g!==e;)a.push(g),We.test(s.charAt(r))?(g=s.charAt(r),r++):(g=e,m===0&&R(Xe));else a=e;a!==e?(Ee=t,n=Bd(n,u,a),t=n):(r=t,t=e)}else r=t,t=e;else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Ld)),t}function Tg(){var t,n,u,a;if(m++,t=r,s.charCodeAt(r)===39?(n=Mi,r++):(n=e,m===0&&R(Bi)),n!==e){for(u=[],Za.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(Ya)),a===e&&(a=Ft());a!==e;)u.push(a),Za.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(Ya)),a===e&&(a=Ft());u!==e?(s.charCodeAt(r)===39?(a=Mi,r++):(a=e,m===0&&R(Bi)),a!==e?(Ee=t,n=ii(u),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Ud)),t}function Fg(){var t,n,u,a;if(m++,t=r,s.charCodeAt(r)===34?(n=eo,r++):(n=e,m===0&&R(to)),n!==e){for(u=[],ro.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(io)),a===e&&(a=Ft());a!==e;)u.push(a),ro.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(io)),a===e&&(a=Ft());u!==e?(s.charCodeAt(r)===34?(a=eo,r++):(a=e,m===0&&R(to)),a!==e?(Ee=t,n=ii(u),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Gd)),t}function Ig(){var t,n,u,a;if(m++,t=r,s.substr(r,3)===ni?(n=ni,r+=3):(n=e,m===0&&R(no)),n!==e){for(u=[],so.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(ao)),a===e&&(a=Ft());a!==e;)u.push(a),so.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(ao)),a===e&&(a=Ft());u!==e?(s.substr(r,3)===ni?(a=ni,r+=3):(a=e,m===0&&R(no)),a!==e?(Ee=t,n=ii(u),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(qd)),t}function Cg(){var t,n,u,a;if(m++,t=r,s.substr(r,3)===si?(n=si,r+=3):(n=e,m===0&&R(oo)),n!==e){for(u=[],lo.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(uo)),a===e&&(a=Ft());a!==e;)u.push(a),lo.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(uo)),a===e&&(a=Ft());u!==e?(s.substr(r,3)===si?(a=si,r+=3):(a=e,m===0&&R(oo)),a!==e?(Ee=t,n=ii(u),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Hd)),t}function Ft(){var t,n,u;return m++,t=r,s.charCodeAt(r)===92?(n=fo,r++):(n=e,m===0&&R(co)),n!==e?(zd.test(s.charAt(r))?(u=s.charAt(r),r++):(u=e,m===0&&R(Vd)),u!==e?(n=[n,u],t=n):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(Jd)),t}function At(){var t,n,u,a;if(m++,t=r,s.charCodeAt(r)===40?(n=ie,r++):(n=e,m===0&&R(oe)),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();u!==e?(s.charCodeAt(r)===41?(a=Ae,r++):(a=e,m===0&&R(xe)),a!==e?(Ee=t,n=Xd(),t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Wd)),t}function j(){var t,n;return m++,$d.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(Zd)),t===e&&(Yd.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(ev)),t===e&&(tv.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(rv)),t===e&&(iv.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(nv)),t===e&&(t=Rg())))),m--,t===e&&(n=e,m===0&&R(Kd)),t}function Rg(){var t,n,u,a;if(m++,t=r,s.charCodeAt(r)===35?(n=po,r++):(n=e,m===0&&R(ho)),n!==e){for(u=[],vo.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(yo));a!==e;)u.push(a),vo.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(yo));u!==e?(n=[n,u],t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(sv)),t}function Ng(){var t,n,u,a;if(m++,t=r,s.charCodeAt(r)===91?(n=Ii,r++):(n=e,m===0&&R(Ci)),n!==e){for(u=[],a=j();a!==e;)u.push(a),a=j();u!==e?(s.charCodeAt(r)===93?(a=Ri,r++):(a=e,m===0&&R(Ni)),a!==e?(n=[n,u,a],t=n):(r=t,t=e)):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(av)),t}function el(){var t,n;return m++,lv.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(uv)),t===e&&(fv.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(cv)),t===e&&(pv.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(hv)),t===e&&(dv.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(vv)),t===e&&(yv.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(gv)),t===e&&(bv.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(mv)),t===e&&(xv.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(wv)),t===e&&(_v.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(kv)),t===e&&(Ev.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(Av)),t===e&&(Sv.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(jv)),t===e&&(Tv.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(Fv)),t===e&&(Iv.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(Cv)),t===e&&(Rv.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(Nv)),t===e&&(Ov.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(Lv))))))))))))))),m--,t===e&&(n=e,m===0&&R(ov)),t}function br(){var t,n;return m++,t=el(),t===e&&(s.charCodeAt(r)===95?(t=go,r++):(t=e,m===0&&R(bo))),m--,t===e&&(n=e,m===0&&R(Dv)),t}function tl(){var t,n,u,a;if(m++,t=r,n=br(),n===e&&(We.test(s.charAt(r))?(n=s.charAt(r),r++):(n=e,m===0&&R(Xe))),n!==e){for(u=[],a=br(),a===e&&(We.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(Xe)),a===e&&(Ui.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(Gi)),a===e&&(qi.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(Hi)),a===e&&(Ji.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(zi))))));a!==e;)u.push(a),a=br(),a===e&&(We.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(Xe)),a===e&&(Ui.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(Gi)),a===e&&(qi.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(Hi)),a===e&&(Ji.test(s.charAt(r))?(a=s.charAt(r),r++):(a=e,m===0&&R(zi))))));u!==e?(Ee=t,n=Qv(n,u),t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Pv)),t}function gi(){var t,n;return m++,t=br(),t===e&&(s.charCodeAt(r)===45?(t=yt,r++):(t=e,m===0&&R(gt)),t===e&&(We.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(Xe)),t===e&&(Ui.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(Gi)),t===e&&(qi.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(Hi)),t===e&&(Ji.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(zi))))))),m--,t===e&&(n=e,m===0&&R(Mv)),t}function Og(){var t,n,u,a;if(m++,t=r,n=el(),n!==e){for(u=[],a=gi(),a===e&&(s.charCodeAt(r)===46?(a=nt,r++):(a=e,m===0&&R(st)));a!==e;)u.push(a),a=gi(),a===e&&(s.charCodeAt(r)===46?(a=nt,r++):(a=e,m===0&&R(st)));u!==e?(Ee=t,n=Uv(n,u),t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Bv)),t}function rl(){var t,n,u,a;if(m++,t=r,n=br(),n===e&&(We.test(s.charAt(r))?(n=s.charAt(r),r++):(n=e,m===0&&R(Xe)),n===e&&(s.charCodeAt(r)===58?(n=fr,r++):(n=e,m===0&&R(cr)),n===e&&(n=dn()))),n!==e){for(u=[],a=gi(),a===e&&(s.charCodeAt(r)===46?(a=nt,r++):(a=e,m===0&&R(st)),a===e&&(s.charCodeAt(r)===58?(a=fr,r++):(a=e,m===0&&R(cr)),a===e&&(a=dn())));a!==e;)u.push(a),a=gi(),a===e&&(s.charCodeAt(r)===46?(a=nt,r++):(a=e,m===0&&R(st)),a===e&&(s.charCodeAt(r)===58?(a=fr,r++):(a=e,m===0&&R(cr)),a===e&&(a=dn())));u!==e?(Ee=t,n=qv(n,u),t=n):(r=t,t=e)}else r=t,t=e;return m--,t===e&&(n=e,m===0&&R(Gv)),t}function dn(){var t,n;return m++,t=Lg(),t===e&&(t=Dg()),m--,t===e&&(n=e,m===0&&R(Hv)),t}function Lg(){var t,n,u,a,g;return m++,t=r,n=r,s.charCodeAt(r)===37?(u=mo,r++):(u=e,m===0&&R(xo)),u!==e?(a=il(),a!==e?(g=il(),g!==e?(u=[u,a,g],n=u):(r=n,n=e)):(r=n,n=e)):(r=n,n=e),n!==e&&(Ee=t,n=zv(n)),t=n,m--,t===e&&(n=e,m===0&&R(Jv)),t}function il(){var t,n;return m++,We.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(Xe)),t===e&&(Wv.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R(Xv)),t===e&&(Kv.test(s.charAt(r))?(t=s.charAt(r),r++):(t=e,m===0&&R($v)))),m--,t===e&&(n=e,m===0&&R(Vv)),t}function Dg(){var t,n,u;return m++,t=r,s.charCodeAt(r)===92?(n=fo,r++):(n=e,m===0&&R(co)),n!==e?(s.charCodeAt(r)===95?(u=go,r++):(u=e,m===0&&R(bo)),u===e&&(s.charCodeAt(r)===126?(u=Yv,r++):(u=e,m===0&&R(ey)),u===e&&(s.charCodeAt(r)===46?(u=nt,r++):(u=e,m===0&&R(st)),u===e&&(s.charCodeAt(r)===45?(u=yt,r++):(u=e,m===0&&R(gt)),u===e&&(s.charCodeAt(r)===33?(u=Ti,r++):(u=e,m===0&&R(Fi)),u===e&&(s.charCodeAt(r)===36?(u=Ja,r++):(u=e,m===0&&R(za)),u===e&&(s.charCodeAt(r)===38?(u=ty,r++):(u=e,m===0&&R(ry)),u===e&&(s.charCodeAt(r)===39?(u=Mi,r++):(u=e,m===0&&R(Bi)),u===e&&(s.charCodeAt(r)===40?(u=ie,r++):(u=e,m===0&&R(oe)),u===e&&(s.charCodeAt(r)===41?(u=Ae,r++):(u=e,m===0&&R(xe)),u===e&&(s.charCodeAt(r)===42?(u=Z,r++):(u=e,m===0&&R(U)),u===e&&(s.charCodeAt(r)===43?(u=jt,r++):(u=e,m===0&&R(Tt)),u===e&&(s.charCodeAt(r)===44?(u=Ye,r++):(u=e,m===0&&R(et)),u===e&&(s.charCodeAt(r)===59?(u=_t,r++):(u=e,m===0&&R(kt)),u===e&&(s.charCodeAt(r)===58?(u=fr,r++):(u=e,m===0&&R(cr)),u===e&&(s.charCodeAt(r)===61?(u=qr,r++):(u=e,m===0&&R(Hr)),u===e&&(s.charCodeAt(r)===47?(u=Dt,r++):(u=e,m===0&&R(Pt)),u===e&&(s.charCodeAt(r)===63?(u=Si,r++):(u=e,m===0&&R(ji)),u===e&&(s.charCodeAt(r)===35?(u=po,r++):(u=e,m===0&&R(ho)),u===e&&(s.charCodeAt(r)===64?(u=Va,r++):(u=e,m===0&&R(Wa)),u===e&&(s.charCodeAt(r)===37?(u=mo,r++):(u=e,m===0&&R(xo)))))))))))))))))))))),u!==e?(Ee=t,n=iy(u),t=n):(r=t,t=e)):(r=t,t=e),m--,t===e&&(n=e,m===0&&R(Zv)),t}var It=function(t){for(var n="",u=0;u<t.length;u++)typeof t[u]=="string"?n=n+t[u]:n=n+t[u].join("");return n},at=0,nl={},Pg=function(t,n){nl[t]=n},Qg=function(t){nl[null]=t},sl=function(t){var n="";if(t==null)return null;for(var u=0;u<t.length;u++)n=n+t[u];return n.toUpperCase()};if(oi=o(),oi!==e&&r===s.length)return oi;throw oi!==e&&r<s.length&&R(ny()),_o(Vi,bt<s.length?s.charAt(bt):null,bt<s.length?pr(bt,bt+1):pr(bt,bt))}return{SyntaxError:O,parse:A}}()},{}],145:[function(P,X,J){var D=P("./btree").Tree,O=P("./utils"),A=O,s=P("./lexicon").Lexicon;PersistentLexicon=function(c,e){var f=this;O.registerIndexedDB(f),this.defaultGraphOid=0,this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph",this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri},this.oidCounter=1,f.dbName=e||"rdfstorejs";var o=f.indexedDB.open(this.dbName+"_lexicon",1);o.onerror=function(h){c(null,new Error("Error opening IndexedDB: "+h.target.errorCode))},o.onsuccess=function(h){f.db=h.target.result,c(f)},o.onupgradeneeded=function(h){f.db=h.target.result;var d=f.db.createObjectStore("knownGraphs",{keyPath:"oid"});d.createIndex("uriToken","uriToken",{unique:!0});var b=f.db.createObjectStore("components",{keyPath:"id",autoIncrement:!0});b.createIndex("value","value",{unique:!0})}},PersistentLexicon.prototype.registerGraph=function(c,e,f){if(c!=this.defaultGraphOid){var o=this.db.transaction(["knownGraphs"],"readwrite");o.onerror=function(b){f(null,new Error(b.target.statusCode))};var h=o.objectStore("knownGraphs"),d=h.get(e);d.onsuccess=function(b){var w=b.target.result;if(w)f(!0);else{var v=h.add({oid:c,uriToken:e});v.onsuccess=function(l){f(!0)}}}}else f()},PersistentLexicon.prototype.registeredGraphs=function(c,e){var f=[],o=this.db.transaction(["knownGraphs"],"readwrite").objectStore("knownGraphs"),h=o.openCursor();h.onsuccess=function(d){var b=d.target.result;b?(c===!0?f.push(b.value.uriToken):f.push(b.value.oid),b.continue()):e(f)},h.onerror=function(d){e(null,new Error("Error retrieving data from the cursor: "+d.target.errorCode))}},PersistentLexicon.prototype.registerUri=function(c,e){var f=this;if(c===this.defaultGraphUri)e(this.defaultGraphOid);else{var o=f.db.transaction(["components"],"readwrite").objectStore("components"),h=o.index("value").get("_u:"+c);h.onsuccess=function(d){var b=d.target.result;if(b){b.counter++;var w=b.id,v=o.put(b);v.onsuccess=function(x){e(w)},v.onerror=function(x){e(null,new Error("Error updating the URI data"+x.target.errorCode))}}else{var l=o.add({value:"_u:"+c,counter:0,uri:!0});l.onsuccess=function(x){e(x.target.result)},l.onerror=function(x){e(null,new Error("Error inserting the URI data"+x.target.errorCode))}}},h.onerror=function(d){e(null,new Error("Error retrieving the URI data"+d.target.errorCode))}}},PersistentLexicon.prototype.resolveUri=function(c,e){if(c===this.defaultGraphUri)e(this.defaultGraphOid);else{var f=this.db.transaction(["components"]).objectStore("components"),o=f.index("value").get("_u:"+c);o.onsuccess=function(h){h.target.result!=null?e(h.target.result.id):e(-1)},o.onerror=function(h){e(null,new Error("Error retrieving uri data "+h.target.errorCode))}}},PersistentLexicon.prototype.resolveUriCost=function(c,e){if(c===this.defaultGraphUri)e(0);else{var f=that.db.transaction(["components"]).objectStore("components"),o=f.index("value").get("_u:"+c);o.onsuccess=function(h){h.target.result!=null?e(h.target.result.cost):e(-1)},o.onerror=function(h){e(null,new Error("Error retrieving uri data "+h.target.errorCode))}}},PersistentLexicon.prototype.registerBlank=function(c){var e=guid(),f=this,o=f.db.transaction(["components"],"readwrite").objectStore("components"),h=o.add({value:"_b:"+e,counter:0,label:!0});h.onsuccess=function(d){c(d.target.result)},h.onerror=function(d){c(null,new Error("Error inserting the URI data"+d.target.errorCode))}},PersistentLexicon.prototype.resolveBlankCost=function(c,e){e(0)},PersistentLexicon.prototype.registerLiteral=function(c,e){var f=this,o=f.db.transaction(["components"],"readwrite").objectStore("components"),h=o.index("value").get("_l:"+c);h.onsuccess=function(d){var b=d.target.result;if(b){b.counter++;var w=b.id,v=o.put(b);v.onsuccess=function(x){e(w)},v.onerror=function(x){e(null,new Error("Error updating the literal data"+x.target.errorCode))}}else{var l=o.add({value:"_l:"+c,counter:0,literal:!0});l.onsuccess=function(x){e(x.target.result)},l.onerror=function(x){e(null,new Error("Error inserting the literal data"+x.target.errorCode))}}},h.onerror=function(d){e(null,new Error("Error retrieving the literal data"+d.target.errorCode))}},PersistentLexicon.prototype.resolveLiteral=function(c,e){var f=that.db.transaction(["components"]).objectStore("components"),o=f.index("value").get("_l:"+c);o.onsuccess=function(h){h.target.result!=null?e(h.target.result.id):e(-1)},o.onerror=function(h){e(null,new Error("Error retrieving literal data "+h.target.errorCode))}},PersistentLexicon.prototype.resolveLiteralCost=function(c,e){var f=that.db.transaction(["components"]).objectStore("components"),o=f.index("components").get(c);o.onsuccess=function(h){h.target.result!=null?e(h.target.result.cost):e(-1)},o.onerror=function(h){e(null,new Error("Error retrieving literal data "+h.target.errorCode))}},PersistentLexicon.prototype.parseLiteral=function(c){return s.prototype.parseLiteral(c)},PersistentLexicon.prototype.parseUri=function(c){return s.prototype.parseUri(c)},PersistentLexicon.prototype.retrieve=function(c,e){var f=this,o,h;c===this.defaultGraphOid?e({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0}):(o=f.db.transaction(["components"]),h=o.objectStore("components").get(c),h.onsuccess=function(d){if(d.target.result!=null)if(d.target.result.label!=null){var b="_:"+d.target.result.id;e({token:"blank",value:b})}else d.target.result.uri!=null?e(f.parseUri(d.target.result.value.slice(3,d.target.result.value.length))):d.target.result.literal!=null?e(f.parseLiteral(d.target.result.value.slice(3,d.target.result.value.length))):(console.log(d.target.result),e(null,new Error("Unknown type of component "+d.target.result)));else e(null,null)},h.onerror=function(d){e(null,new Error("Error searching in blanks data "+d.target.errorCode))})},PersistentLexicon.prototype.clear=function(c){var e=this;this.defaultGraphOid=0,this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph",this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};var f=e.db.transaction(["components"],"readwrite"),o,h=f.objectStore("components"),d=function(){c?.()};o=h.clear(),o.onsuccess=d,o.onerror=d},PersistentLexicon.prototype.unregister=function(c,e,f){var o=this;A.seq(function(h){o._unregisterTerm(c.subject.token,e.subject,h)},function(h){o._unregisterTerm(c.predicate.token,e.predicate,h)},function(h){o._unregisterTerm(c.object.token,e.object,h)},function(h){c.graph!=null?o._unregisterTerm(c.graph.token,e.graph,h):h()})(function(){f(!0)})},PersistentLexicon.prototype._unregisterTerm=function(c,e,f){var o=this,h,d=o.db.transaction(["components","knownGraphs"],"readwrite");if(c==="uri")if(e!=this.defaultGraphOid){var b=function(){var w=d.objectStore("knownGraphs").delete(e);w.onsuccess=function(){f()}};h=d.objectStore("components").delete(e),h.onsuccess=b()}else f();else h=d.objectStore("components").delete(e),h.onsuccess=function(){f()}},X.exports={PersistentLexicon}},{"./btree":139,"./lexicon":142,"./utils":156}],146:[function(P,X,J){var D=P("./utils");PersistentQuadBackend=function(O,A){var s=this;if(arguments!==0){D.registerIndexedDB(s),this.indexMap={},this.indices=["S","P","O","G","SP","SO","SG","PO","PG","OG","SPO","SPG","SOG","POG","SPOG"],this.componentOrders={S:["subject","predicate","object","graph"],P:["predicate","subject","object","graph"],O:["object","subject","predicate","graph"],G:["graph","subject","predicate","object"],SP:["subject","predicate","object","graph"],SO:["subject","object","predicate","graph"],SG:["subject","graph","predicate","object"],PO:["predicate","object","subject","graph"],PG:["predicate","graph","subject","object"],OG:["object","graph","subject","predicate"],SPO:["subject","predicate","object","graph"],SPG:["subject","predicate","graph","object"],SOG:["subject","object","graph","predicate"],POG:["predicate","object","graph","subject"],SPOG:["subject","predicate","object","graph"]},this.componentOrdersMap={};for(var c in this.componentOrders){var e=this.componentOrders[c],f=e.slice(0,c.length).sort().join(".");this.componentOrdersMap[f]=c}s.dbName=O.name||"rdfstorejs";var o=s.indexedDB.open(this.dbName+"_db",1);o.onerror=function(h){A(null,new Error("Error opening IndexedDB: "+h.target.errorCode))},o.onsuccess=function(h){s.db=h.target.result,A(s)},o.onupgradeneeded=function(h){var d=h.target.result,b=d.createObjectStore(s.dbName,{keyPath:"SPOG"});D.each(s.indices,function(w){w!=="SPOG"&&b.createIndex(w,w,{unique:!1})})}}},PersistentQuadBackend.prototype.index=function(O,A){var s=this;D.each(this.indices,function(o){O[o]=s._genMinIndexKey(O,o)});var c=s.db.transaction([s.dbName],"readwrite");c.oncomplete=function(o){},c.onerror=function(o){A(null,new Error(o.target.statusCode))};var e=c.objectStore(s.dbName),f=e.add(O);f.onsuccess=function(o){A(!0)}},PersistentQuadBackend.prototype.range=function(O,A){var s=this,c=s.db.transaction([s.dbName]).objectStore(s.dbName),e=this._indexForPattern(O),f=this._genMinIndexKey(O,e),o=this._genMaxIndexKey(O,e),h=s.IDBKeyRange.bound(f,o,!1,!1),d=[],b;e==="SPOG"?b=c:b=c.index(e),b.openCursor(h).onsuccess=function(w){var v=w.target.result;v?(d.push(v.value),v.continue()):A(d)}},PersistentQuadBackend.prototype.search=function(O,A){var s=this,c=s.db.transaction([s.dbName]).objectStore(s.dbName),e=this._genMinIndexKey(O,"SPOG"),f=c.get(e);f.onerror=function(o){A(null,new Error(o.target.statusCode))},f.onsuccess=function(o){A(o.target.result!=null)}},PersistentQuadBackend.prototype.delete=function(O,A){var s=this,c=s._genMinIndexKey(O,"SPOG"),e=s.db.transaction([s.dbName],"readwrite").objectStore(s.dbName).delete(c);e.onsuccess=function(){A(!0)},e.onerror=function(f){A(null,new Error(f.target.statusCode))}},PersistentQuadBackend.prototype._genMinIndexKey=function(O,A){var s=this.componentOrders[A];return D.map(s,function(c){return typeof O[c]=="string"||O[c]==null?"0":O[c]}).join(".")},PersistentQuadBackend.prototype._genMaxIndexKey=function(O,A){for(var s=this.componentOrders[A],c=[],e=!1,f=0;f<s.length;f++){var o=s[f],h=O[o];typeof h=="string"?c[f]="z":c[f]=h}return D.map(c,function(d){return""+d}).join(".")},PersistentQuadBackend.prototype._indexForPattern=function(O){var A=this,s=O.indexKey,c=s.sort().join("."),e=A.componentOrdersMap[c];if(e==null)throw new Error("Error, cannot find index for indexKey "+c);return e},PersistentQuadBackend.prototype.clear=function(O){var A=this,s=A.db.transaction([A.dbName],"readwrite"),c;c=s.objectStore(A.dbName).clear(),c.onsuccess=function(){O()},c.onerror=function(){O()}},X.exports.PersistentQuadBackend=PersistentQuadBackend},{"./utils":156}],147:[function(P,X,J){var D=P("./quad_index").QuadIndex,O=P("./utils");QuadBackend=function(A,s){this.indexMap={},this.treeOrder=A.treeOrder,this.indices=A.index||QuadBackend.allIndices,this.componentOrders=QuadBackend.componentOrders;var c=this;O.eachSeries(this.indices,function(e,f){new D({order:c.treeOrder,componentOrder:c.componentOrders[e]},function(o){c.indexMap[e]=o,f()})},function(){s(c)})},QuadBackend.allIndices=["SPOG","GP","OGS","POG","GSP","OS"],QuadBackend.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]},QuadBackend.prototype._indexForPattern=function(A){for(var s=A.indexKey,c=0;c<QuadBackend.allIndices.length;c++)for(var e=QuadBackend.allIndices[c],f=QuadBackend.componentOrders[e],o=0;o<f.length&&O.include(s,f[o])!==!1;o++)if(o==s.length-1)return e;return"SPOG"},QuadBackend.prototype.index=function(A,s){var c=this;O.eachSeries(this.indices,function(e,f){var o=c.indexMap[e];o.insert(A,function(){f()})},function(){s(!0)})},QuadBackend.prototype.range=function(A,s){var c=this._indexForPattern(A),e=this.indexMap[c];e?.range(A,function(f){s(f)})},QuadBackend.prototype.search=function(A,s){var c=this.indexMap.SPOG;c?.search(A,function(e){s(e!=null)})},QuadBackend.prototype.delete=function(A,s){var c=this;O.eachSeries(this.indices,function(e,f){var o=c.indexMap[e];o.delete(A,function(){f()})},function(){s(!0)})},QuadBackend.prototype.clear=function(A){var s=this;O.eachSeries(this.indices,function(c,e){new D({order:s.treeOrder,componentOrder:s.componentOrders[c]},function(f){s.indexMap[c]=f,e()})},function(){A(!0)})},X.exports.QuadBackend=QuadBackend},{"./quad_index":148,"./utils":156}],148:[function(P,X,J){var D=P("./btree").Tree,O=P("./utils"),A=P("./utils");NodeKey=function(s,c){this.subject=s.subject,this.predicate=s.predicate,this.object=s.object,this.graph=s.graph,this.order=c},NodeKey.prototype.comparator=function(s){for(var c=0;c<this.order.length;c++){var e=this.order[c];if(s[e]==null)return 0;if(this[e]<s[e])return-1;if(this[e]>s[e])return 1}return 0},Pattern=function(s){this.subject=s.subject,this.predicate=s.predicate,this.object=s.object,this.graph=s.graph,this.indexKey=[],this.keyComponents={};var c=[],e=[],f=this;O.forEach(["subject","predicate","object","graph"],function(o){typeof f[o]=="string"?(e.push(o),f.keyComponents[o]=null):(c.push(o),f.keyComponents[o]=f[o],f.indexKey.push(o))}),this.order=c.concat(e),this.key=new NodeKey(this.keyComponents,this.order)},QuadIndex=function(s,c){arguments!=0&&(this.componentOrder=s.componentOrder,D.call(this,s.order,function(e){e.comparator=function(f,o){for(var h=0;h<e.componentOrder.length;h++){var d=e.componentOrder[h],b=f[d],w=o[d];if(b<w)return-1;if(b>w)return 1}return 0},e.rangeComparator=function(f,o){for(var h=0;h<e.componentOrder.length;h++){var d=e.componentOrder[h];if(o[d]==null||f[d]==null)return 0;if(f[d]<o[d])return-1;if(f[d]>o[d])return 1}return 0},c(e)}))},QuadIndex.prototype=O.create(D.prototype,{constructor:D}),QuadIndex.prototype.insert=function(s,c){D.prototype.insert.call(this,s,null,function(e){c(e)})},QuadIndex.prototype.search=function(s,c){D.prototype.search.call(this,s,function(e){c(e)},!0)},QuadIndex.prototype.range=function(s,c){this._rangeTraverse(this,this.root,s,c)},QuadIndex.prototype._rangeTraverse=function(s,c,e,f){var o=e.key,h=[],d=[c];A.whilst(function(){return d.length>0},function(b){for(var w=d.shift(),v=0;v<w.numberActives&&s.rangeComparator(w.keys[v].key,o)===-1;)v++;if(w.isLeaf===!0){for(var l=v;l<w.numberActives&&s.rangeComparator(w.keys[l].key,o)===0;)h.push(w.keys[l].key),l++;b()}else s._diskRead(w.children[v],function(x){d.push(x);var T=v;A.whilst(function(){return T<w.numberActives&&s.rangeComparator(w.keys[T].key,o)===0},function(I){h.push(w.keys[T].key),T++,s._diskRead(w.children[T],function(F){d.push(F),I()})},function(){b()})})},function(){f(h)})},X.exports={QuadIndex,Pattern,NodeKey}},{"./btree":139,"./utils":156}],149:[function(P,X,J){var D=P("./abstract_query_tree").AbstractQueryTree,O=P("./abstract_query_tree").NonSupportedSparqlFeatureError,A=P("./utils"),s=P("./quad_index"),c=P("./query_plan").QueryPlan,e=P("./query_filters").QueryFilters,f=P("./rdf_model"),o=P("./rdf_loader").RDFLoader,h=P("./graph_callbacks").CallbacksBackend,d=P("./utils"),b=P("./utils");function w(v,l,x){this.name="BindExpressionError",this.bind=l,this.error=x,this.message=v}w.prototype=new Error,w.constructor=w,QueryEngine=function(v){arguments.length!=0&&(this.backend=v.backend,this.lexicon=v.lexicon,this.eventsOnBatchLoad=v.eventsOnBatchLoad||!1,this.defaultPrefixes={},this.abstractQueryTree=new D,this.rdfLoader=new o(v.communication),this.callbacksBackend=new h(this),this.customFns=v.customFns||{})},QueryEngine.prototype.setCustomFunctions=function(v){this.customFns=v},QueryEngine.prototype.registerNsInEnvironment=function(v,l){var x=[];v!=null&&v.prefixes!=null&&(x=v.prefixes);var T={};for(var I in this.defaultPrefixes)T[I]=this.defaultPrefixes[I];for(var F=0;F<x.length;F++){var L=x[F];L.token==="prefix"&&(T[L.prefix]=L.local)}l.namespaces=T,v!=null&&v.base&&typeof v.base=="object"?l.base=v.base.value:l.base=null},QueryEngine.prototype.applyModifier=function(v,l){if(v=="DISTINCT"){for(var x={},T=[],I=0;I<l.length;I++){var F=l[I],L="";for(var C in F){var _=F[C];_==null?L=L+C+"null":_.token=="literal"?(_.value!=null&&(L=L+_.value),_.lang!=null&&(L=L+_.lang),_.type!=null&&(L=L+_.type)):_.value?L=L+C+_.value:L=L+C+_}x[L]==null&&(T.push(F),x[L]=!0)}return T}else return l},QueryEngine.prototype.applyLimitOffset=function(v,l,x){return l==null&&v==null?x:(v==null&&(v=0),l==null?l=x.length:l=v+l,x.slice(v,l))},QueryEngine.prototype.applySingleOrderBy=function(v,l,x,T,I){var F=[],L=this;d.eachSeries(v,function(C,_){e.collect(C.expression,[l],x,T,L,function(E){F.push(E[0].value),_()})},function(){I({binding:l,value:F})})},QueryEngine.prototype.applyOrderBy=function(v,l,x,T,I){var F=this,L=[];v!=null&&v.length>0?d.eachSeries(l,function(C,_){F.applySingleOrderBy(v,C,x,T,function(E){L.push(E),_()})},function(){L.sort(function(E,Q){return F.compareFilteredBindings(E,Q,v,T)});for(var C=[],_=0;_<L.length;_++)C.push(L[_].binding);I(C)}):I(l)},QueryEngine.prototype.compareFilteredBindings=function(v,l,x,T){for(var I=!1,F=0;!I;){if(F==v.value.length)return 0;var L=x[F].direction,C;if(v.value[F]==null&&l.value[F]==null){F++;continue}else if(v.value[F]==null)C={value:!1};else if(l.value[F]==null)C={value:!0};else if(v.value[F].token==="blank"&&l.value[F].token==="blank"){F++;continue}else if(v.value[F].token==="blank")C={value:!1};else if(l.value[F].token==="blank")C={value:!0};else if(v.value[F].token==="uri"&&l.value[F].token==="uri")if(e.runEqualityFunction(v.value[F],l.value[F],[],this,T).value==!0){F++;continue}else C=e.runTotalGtFunction(v.value[F],l.value[F],[]);else if(v.value[F].token==="uri")C={value:!1};else if(l.value[F].token==="uri")C={value:!0};else if(v.value[F].token==="literal"&&l.value[F].token==="literal"&&v.value[F].type==null&&l.value[F].type==null)if(e.runEqualityFunction(v.value[F],l.value[F],[],this,T).value==!0){F++;continue}else C=e.runTotalGtFunction(v.value[F],l.value[F],[]);else if(v.value[F].token==="literal"&&v.value[F].type==null)C={value:!1};else if(l.value[F].token==="literal"&&l.value[F].type==null)C={value:!0};else if(e.runEqualityFunction(v.value[F],l.value[F],[],this,T).value==!0){F++;continue}else C=e.runTotalGtFunction(v.value[F],l.value[F],[]);return C.value==!0?L==="ASC"?1:-1:L==="ASC"?-1:1}},QueryEngine.prototype.removeDefaultGraphBindings=function(v,l){for(var x=[],T={},I=0;I<l.named.length;I++)T[l.named[I].oid]=!0;for(I=0;I<l.implicit.length;I++)T[l.implicit[I].oid]==null&&x.push(l.implicit[I].oid);var F=[];for(I=0;I<v.length;I++){var L=v[I],C=!1;for(var _ in L){for(var E=0;E<T.length;E++)if(L[_]===T[E]){C=!0;break}if(C)break}C||F.push(L)}return F},QueryEngine.prototype.aggregateBindings=function(v,l,x,T,I){this.copyDenormalizedBindings(l,T.outCache,function(F){for(var L={},C=0;C<v.length;C++){var _=e.runAggregator(v[C],F,this,x,T);v[C].alias?L[v[C].alias.value]=_:L[v[C].value.value]=_}I(L)})},QueryEngine.prototype.projectBindings=function(v,l,x){if(v[0].kind==="*")return l;for(var T=[],I=0;I<l.length;I++){for(var F=l[I],L={},C=!0,_=0;_<v.length;_++)if(v[_].token=="variable"&&v[_].kind!="aliased")L[v[_].value.value]=F[v[_].value.value];else if(v[_].token=="variable"&&v[_].kind=="aliased"){var E=e.runFilter(v[_].expression,F,this,x,{blanks:{},outCache:{}});if(e.isEbvError(E)){C=!1;break}else L[v[_].alias.value]=E}C===!0&&T.push(L)}return T},QueryEngine.prototype.resolveNsInEnvironment=function(v,l){var x=l.namespaces;return x[v]},QueryEngine.prototype.normalizeTerm=function(v,l,x,T){if(v.token==="uri"){var I=A.lexicalFormBaseUri(v,l);I==null?T(null):x?this.lexicon.registerUri(I,T):this.lexicon.resolveUri(I,T)}else if(v.token==="literal"){var F=A.lexicalFormLiteral(v,l);x?this.lexicon.registerLiteral(F,T):this.lexicon.resolveLiteral(F,T)}else if(v.token==="blank"){var L=v.value,C=l.blanks[L];C!=null?T(C):x?this.lexicon.registerBlank(function(_){l.blanks[L]=_,T(_)}):this.lexicon.resolveBlank(function(_){l.blanks[L]=_,T(_)})}else v.token==="var"?T(v.value):T(null)},QueryEngine.prototype.normalizeDatasets=function(v,l,x){var T=this;d.eachSeries(v,function(I,F){I.value===T.lexicon.defaultGraphUri?(I.oid=T.lexicon.defaultGraphOid,F()):T.normalizeTerm(I,l,!1,function(L){L!=null&&(I.oid=L),F()})},function(){x(!0)})},QueryEngine.prototype.normalizeQuad=function(v,l,x,T){var I=null,F=null,L=null,C=null,_=this,E=!1;d.seq(function(Q){if(v.graph==null||v.graph.value===_.lexicon.defaultGraphUri)C=0,Q();else{var B=A.lexicalFormBaseUri(v.graph,l);_.normalizeTerm(v.graph,l,x,function(q){q!=null?(C=q,x===!0&&v.graph.token!="var"?_.lexicon.registerGraph(q,B,function(){Q()}):Q()):(E=!0,Q())})}},function(Q){E===!1?_.normalizeTerm(v.subject,l,x,function(B){B!=null?(I=B,Q()):(E=!0,Q())}):Q()},function(Q){E===!1?_.normalizeTerm(v.predicate,l,x,function(B){B!=null?(F=B,Q()):(E=!0,Q())}):Q()},function(Q){E===!1?_.normalizeTerm(v.object,l,x,function(B){B!=null?(L=B,Q()):(E=!0,Q())}):Q()})(function(){T(E===!0?null:{subject:I,predicate:F,object:L,graph:C})})},QueryEngine.prototype.denormalizeBindingsList=function(v,l,x){var T=this,I=[];d.eachSeries(v,function(F,L){T.denormalizeBindings(F,l,function(C){I.push(C),L()})},function(){x(I)})},QueryEngine.prototype.copyDenormalizedBindings=function(v,l,x){var T=this,I=[];d.eachSeries(v,function(F,L){var C={},_=b.keys(F);d.eachSeries(_,function(E,Q){var B=F[E];if(B==null)C[E]=null,Q();else if(typeof B=="object")C[E]=B,Q();else{var q=l[B];q!=null?(C[E]=q,Q()):T.lexicon.retrieve(B,function(K){l[B]=K,C[E]=K,Q()})}},function(){I.push(C),L()})},function(){x(I)})},QueryEngine.prototype.denormalizeBindings=function(v,l,x){var T=b.keys(v),I=l.outCache,F=this;d.eachSeries(T,function(L,C){var _=v[L];_==null?(v[L]=null,C()):typeof _=="object"?C():I[_]!=null?(v[L]=I[_],C()):F.lexicon.retrieve(_,function(E){v[L]=E,E.token==="blank"&&(l.blanks[E.value]=_),C()})},function(){x(v)})},QueryEngine.prototype.execute=function(v,l,x,T){v=A.normalizeUnicodeLiterals(v);var I=this.abstractQueryTree.parseQueryString(v);if(I==null)l(!1,"Error parsing query string");else if(I.token==="query"&&I.kind=="update"){this.callbacksBackend.startGraphModification();var F=this;this.executeUpdate(I,function(L,C){F.lexicon.updateAfterWrite&&F.lexicon.updateAfterWrite(),L?(F.callbacksBackend.cancelGraphModification(),l(L,C)):F.callbacksBackend.endGraphModification(function(){l(L,C)})})}else I.token==="query"&&I.kind=="query"&&this.executeQuery(I,l,x,T)},QueryEngine.prototype.executeQuery=function(v,l,x,T){var I=v.prologue,F=v.units,L=this,C={blanks:{},outCache:{}};this.registerNsInEnvironment(I,C);var _=L.abstractQueryTree.parseExecutableUnit(F[0]);_.kind==="select"?this.executeSelect(_,C,x,T,function(E,Q){E==null?typeof Q=="object"&&Q.denorm===!0?l(null,Q.bindings):L.denormalizeBindingsList(Q,C,function(B){l(null,B)}):l(E)}):_.kind==="ask"?(_.projection=[{token:"variable",kind:"*"}],this.executeSelect(_,C,x,T,function(E,Q){E==null?Q.length>0?l(null,!0):l(null,!1):l(E)})):_.kind==="construct"&&(_.projection=[{token:"variable",kind:"*"}],L=this,this.executeSelect(_,C,x,T,function(E,Q){E==null?L.denormalizeBindingsList(Q,C,function(B){if(B!=null){var q=new f.Graph;_.template==null&&(_.template={triplesContext:_.pattern});for(var K=1,W=[],pe=0;pe<B.length;pe++){for(var te=B[pe],ue=0;ue<W.length;ue++)delete W[ue].valuetmp;for(var ue=0;ue<_.template.triplesContext.length;ue++){for(var se=["subject","predicate","object"],be=_.template.triplesContext[ue],ce=0;ce<se.length;ce++){var Y=se[ce];if(be[Y].token==="blank"&&!(be[Y].valuetmp&&be[Y].valuetmp!=null)){var de="_:b"+K;K++,be[Y].valuetmp=de,W.push(be[Y])}}var le=f.buildRDFResource(be.subject,te,L,C),ce=f.buildRDFResource(be.predicate,te,L,C),$=f.buildRDFResource(be.object,te,L,C);if(le!=null&&ce!=null&&$!=null){var ve=new f.Triple(le,ce,$);q.add(ve)}}}l(null,q)}else l(new Error("Error denormalizing bindings."))}):l(E)}))},QueryEngine.prototype.executeSelect=function(v,l,x,T,I){if(v.kind==="select"||v.kind==="ask"||v.kind==="construct"||v.kind==="modify"){var F=v.projection,L=v.dataset,C=v.modifier,_=v.limit,E=v.offset,Q=v.order,B=this;(x!=null||T!=null)&&(L.implicit=x||[],L.named=T||[]),L.implicit!=null&&L.implicit.length===0&&L.named!=null&&L.named.length===0&&L.implicit.push(this.lexicon.defaultGraphUriTerm),B.normalizeDatasets(L.implicit.concat(L.named),l,function(){try{B.executeSelectUnit(F,L,v.pattern,l,function(q){if(q!=null){if(v.group!=null&&v.group===""){for(var K=!1,W=0;W<v.projection.length;W++)if(v.projection[W].expression!=null&&v.projection[W].expression.expressionType==="aggregate"){K=!0;break}K===!0&&(v.group="singleGroup")}v.group&&v.group!=""?B.checkGroupSemantics(v.group,F)?B.groupSolution(q,v.group,L,l,function(pe){var te=[];d.eachSeries(pe,function(ue,se){B.aggregateBindings(F,ue,L,l,function(be){te.push(be),se()})},function(){I(null,{bindings:te,denorm:!0})})}):I(new Error("Incompatible Group and Projection variables")):B.applyOrderBy(Q,q,L,l,function(pe){var te=B.projectBindings(F,pe,L),ue=B.applyModifier(C,te),se=B.applyLimitOffset(E,_,ue),be=B.removeDefaultGraphBindings(se,L);I(null,be)})}else I(new Error("Error executing SELECT query."))})}catch(q){I(q)}})}else I(new Error("Cannot execute "+v.kind+" query as a select query"))},QueryEngine.prototype.groupSolution=function(v,l,x,T,I){var F=[],L=[],C=!1,_=this;l==="singleGroup"?I([v]):d.eachSeries(v,function(E,Q){var B=!0;d.eachSeries(l,function(q,K){var W=null;if(q.token==="var")W=q.value,C==!1&&F.push(W),K();else if(q.token==="aliased_expression"){if(W=q.alias.value,C==!1&&F.push(W),q.expression.primaryexpression==="var")E[q.alias.value]=E[q.expression.value.value];else{var pe=_.copyDenormalizedBindings([E],T.outCache),te=e.runFilter(q.expression,pe[0],_,x,T);e.isEbvError(te)?B=!1:(te.value!=null&&(te.value=""+te.value),E[q.alias.value]=te)}K()}else _.copyDenormalizedBindings([E],T.outCache,function(ue){var se=e.runFilter(q,ue[0],_,T);e.isEbvError(se)?B=!1:(E["groupCondition"+env._i]=se,W="groupCondition"+env._i,C==!1&&F.push(W)),K()})},function(){C==!1&&(C=!0),B===!0&&L.push(E),Q()})},function(){for(var E={},Q={},B=0,q=0;q<L.length;q++){for(var K=L[q],W="",pe=0;pe<F.length;pe++){var te=K[F[pe]];typeof te=="object"?W=W+te.value:W=W+te}E[W]==null?(Q[W]=B,E[W]=[K]):E[W].push(K)}var ue=[];for(var se in E)ue.push(E[se]);I(ue)})},QueryEngine.prototype.executeSelectUnit=function(v,l,x,T,I){if(x.kind==="BGP")this.executeAndBGP(v,l,x,T,I);else if(x.kind==="UNION")this.executeUNION(v,l,x.value,T,I);else if(x.kind==="JOIN")this.executeJOIN(v,l,x,T,I);else if(x.kind==="LEFT_JOIN")this.executeLEFT_JOIN(v,l,x,T,I);else if(x.kind==="FILTER"){var F=this;this.executeSelectUnit(v,l,x.value,T,function(L){L!=null?e.checkFilters(x,L,!1,l,T,F,I):I([])})}else if(x.kind==="EMPTY_PATTERN")I([]);else throw new O(x.kind)},QueryEngine.prototype.executeUNION=function(v,l,x,T,I){var F=x[0],L=x[1],C=null,_,E;if(x.length!=2)throw"SPARQL algebra UNION with more than two components";var Q=this;d.seq(function(B){try{Q.executeSelectUnit(v,l,F,T,function(q){_=q,B()})}catch(q){C=q,B()}},function(B){if(C==null)try{Q.executeSelectUnit(v,l,L,T,function(q){E=q,B()})}catch(q){C=q,B()}else B()})(function(){if(C!=null)I(C);else{var B=c.unionBindings(_,E);Q.runBinds(x.binds,B,l,T,function(q,K){if(q!=null)throw new w("Error processing bind expressions",x.binds,q);e.checkFilters(x,K,!1,l,T,Q,I)})}})},QueryEngine.prototype.executeAndBGP=function(v,l,x,T,I){var F=this;c.executeAndBGPsDPSize(x.value,l,this,T,function(L){L!=null?F.runBinds(x.binds,L,l,T,function(C,_){if(C!=null)throw new w("Error processing bind expressions",x.binds,C);e.checkFilters(x,_,!1,l,T,F,I)}):I(null)})},QueryEngine.prototype.executeLEFT_JOIN=function(v,l,x,T,I){var F=x.lvalue,L=x.rvalue;if(F.kind==="EMPTY_PATTERN")this.executeSelectUnit(v,l,L,T,I);else{var C=null,_=null,E=null,Q=this,B,q;d.seq(function(K){try{Q.executeSelectUnit(v,l,F,T,function(W){C=W,K()})}catch(W){E=W,K()}},function(K){if(E!=null)K();else try{Q.executeSelectUnit(v,l,L,T,function(W){_=W,K()})}catch(W){E=W,K()}})(function(){if(E!=null)I(E);else{var K=c.leftOuterJoinBindings(C,_);Q.runBinds(x.binds,K,l,T,function(W,pe){if(W!=null)throw new w("Error processing bind expressions",x.binds,W);e.checkFilters(x,K,!0,l,T,Q,function(te){if(C.length>1&&_.length>1){var ue=[],se={};for(var be in C[0])se[be]=!0;for(be in _[0])se[be]!=!0&&ue.push(be);B=[],q={};for(var Y=0;Y<te.length;Y++)if(te[Y].__nullify__===!0){for(var de=0;de<ue.length;de++)te[Y].bindings[ue[de]]=null;var le=[],ce=[];for(var be in te[Y].bindings)te[Y].bindings[be]!=null&&(le.push(be+te[Y].bindings[be]),le.sort(),ce.push(le.join("")));if(q[le.join("")]==null){for(de=0;de<ce.length;de++)q[ce[de]]=!0;B.push(te[Y].bindings)}}else{B.push(te[Y]);var le=[],ce=[];for(var be in te[Y])le.push(be+te[Y][be]),le.sort(),q[le.join("")]=!0}I(B)}else I(te)})})}})}},QueryEngine.prototype.executeJOIN=function(v,l,x,T,I){var F=x.lvalue,L=x.rvalue,C=null,_=null,E=null,Q=this;d.seq(function(B){try{Q.executeSelectUnit(v,l,F,T,function(q){C=q,B()})}catch(q){E=q,B()}},function(B){if(E!=null)B();else try{Q.executeSelectUnit(v,l,L,T,function(q){_=q,B()})}catch(q){E=q,B()}})(function(){var B=null;if(E!=null)I(E);else if(C.length===0||_.length===0)I([]);else{var q={},K=[];for(var W in C[0])q[W]=!1;for(var W in _[0])q[W]===!1&&K.push(W);K.length==0||Q.abstractQueryTree.treeWithUnion(F)||Q.abstractQueryTree.treeWithUnion(L)?B=c.joinBindings(C,_):B=c.joinBindings2(K,C,_),Q.runBinds(x.binds,B,l,T,function(pe,te){if(pe!=null)throw new w("Error processing bind expressions",x.binds,pe);e.checkFilters(x,te,!1,l,T,Q,I)})}})},QueryEngine.prototype.rangeQuery=function(v,l,x){var T=this;T.normalizeQuad(v,l,!1,function(I){I!=null?T.backend.range(new s.Pattern(I),function(F){F==null||F.length==0?x([]):x(F)}):x(null)})},QueryEngine.prototype.executeUpdate=function(v,l){var x=v.prologue,T=v.units,I=this,F={blanks:{},outCache:{}};this.registerNsInEnvironment(x,F);for(var L=0;L<T.length;L++){var C=I.abstractQueryTree.parseExecutableUnit(T[L]);if(C.kind==="insertdata"){var _=null;d.eachSeries(C.quads,function(Q,B){_===null?I._executeQuadInsert(Q,F,function(q){q!=null&&(_=q),B()}):B()},function(){_===null?l(null,!0):l(_)})}else if(C.kind==="deletedata"){var _=null;d.eachSeries(C.quads,function(B,q){_===null?I._executeQuadDelete(B,F,function(K){K!=null&&(_=K),q()}):q()},function(){_===null?l(null,!0):l(_)})}else if(C.kind==="modify")this._executeModifyQuery(C,F,l);else if(C.kind==="create")l(!0);else if(C.kind==="load"){var E={uri:A.lexicalFormBaseUri(C.sourceGraph,F)};C.destinyGraph!=null&&(E={uri:A.lexicalFormBaseUri(C.destinyGraph,F)});var I=this;this.rdfLoader.load(C.sourceGraph.value,E,function(B,q){B?l(new Error("error batch loading quads")):I.batchLoad(q,function(K){K!==null?l(null,K):l(new Error("Error batch loading quads"))})})}else if(C.kind==="drop")this._executeClearGraph(C.destinyGraph,F,l);else if(C.kind==="clear")this._executeClearGraph(C.destinyGraph,F,l);else throw new Error("not supported execution unit")}},QueryEngine.prototype.batchLoad=function(v,l){var x=0,T={},I=this;this.eventsOnBatchLoad&&this.callbacksBackend.startGraphModification();var F=function(q,C,_,E){var Q,B,q;if(q[C].uri||q[C].token==="uri"){var K=q[C].uri||q[C].value;I.lexicon.registerUri(K,function(W){var pe=function(){q[C].uri!=null&&(q[C]={token:"uri",value:q[C].uri},delete q[C].uri),_[C]=W,E()};C==="graph"?I.lexicon.registerGraph(W,K,function(){pe()}):pe()})}else q[C].literal||q[C].token==="literal"?I.lexicon.registerLiteral(q[C].literal||q[C].value,function(W){q[C].literal!=null&&(q[C]=I.lexicon.parseLiteral(q[C].literal),delete q[C].literal),_[C]=W,E()}):(Q=T[q[C].blank||q[C].value],Q==null?I.lexicon.registerBlank(function(W){T[q[C].blank||q[C].value]=W,q[C].token==null&&(q[C].token="blank",q[C].value=q[C].blank,delete q[C].blank),_[C]=W,E()}):(q[C].token==null&&(q[C].token="blank",q[C].value=q[C].blank,delete q[C].blank),_[C]=Q,E()))};d.eachSeries(v,function(L,C){var _={};d.eachSeries(["subject","predicate","object","graph"],function(E,Q){F(L,E,_,Q)},function(){var E=L;L=_;var Q=new s.NodeKey(L);I.backend.search(Q,function(B){B?C():I.backend.index(Q,function(q){q&&(I.eventsOnBatchLoad&&I.callbacksBackend.nextGraphModification(h.added,[E,L]),x=x+1),C()})})})},function(){I.lexicon.updateAfterWrite!=null&&I.lexicon.updateAfterWrite();var L=function(){l(x)};I.eventsOnBatchLoad?I.callbacksBackend.endGraphModification(L()):L()})},QueryEngine.prototype._executeModifyQuery=function(v,l,x){var T=this,I=!0,F=new Error("Error executing modify query"),L=null,C=["subject","predicate","object","graph"];v.insert=v.insert==null?[]:v.insert,v.delete=v.delete==null?[]:v.delete,d.seq(function(_){var E=[],Q=[];if(v.with!=null&&E.push(v.with),v.using!=null){Q=[];for(var B=0;B<v.using.length;B++){var q=v.using[B];q.kind==="named"?Q.push(q.uri):E.push(q.uri)}}v.dataset={},v.projection=[{token:"variable",kind:"*"}],T.executeSelect(v,l,E,Q,function(K,W){if(K)return F=K,I=!1,_();T.denormalizeBindingsList(W,l,function(pe){pe!=null?L=pe:(F=new Error("Error denormalizing bindings list"),I=!1),_()})})},function(_){var E=v.with;if(I){for(var Q=[],B=0;B<v.delete.length;B++)for(var q=v.delete[B],K=0;K<L.length;K++){for(var W={},pe=L[K],te=0;te<C.length;te++){var ue=C[te];ue=="graph"&&q[ue]==null?W.graph=E:q[ue].token==="var"?W[ue]=pe[q[ue].value]:W[ue]=q[ue]}Q.push(W)}d.eachSeries(Q,function(se,be){T._executeQuadDelete(se,l,function(){be()})},function(){_()})}else _()},function(_){var E=v.with;if(I){for(var Q=[],B=0;B<v.insert.length;B++)for(var q=v.insert[B],K=0;K<L.length;K++){for(var W={},pe=L[K],te=0;te<C.length;te++){var ue=C[te];ue=="graph"&&q[ue]==null?W.graph=E:q[ue].token==="var"?W[ue]=pe[q[ue].value]:W[ue]=q[ue]}Q.push(W)}d.eachSeries(Q,function(se,be){T._executeQuadInsert(se,l,function(){be()})},function(){_()})}else _()})(function(){x(I?null:F)})},QueryEngine.prototype._executeQuadInsert=function(v,l,x){var T=this,I,F=!1,L=null;d.seq(function(C){T.normalizeQuad(v,l,!0,function(_){_!=null?I=_:(F=!0,L="Error normalizing quad."),C()})},function(C){if(F===!1){var _=new s.NodeKey(I);T.backend.search(_,function(E){E===!0?C():T.backend.index(_,function(){T.callbacksBackend.nextGraphModification(h.added,[v,I]),C()})})}else C()})(function(){F?x(new Error(L)):x(null,!0)})},QueryEngine.prototype._executeQuadDelete=function(v,l,x){var T=this,I,F=!1,L,C;d.seq(function(_){T.normalizeQuad(v,l,!0,function(E){E!=null?I=E:(F=!0,L="Error normalizing quad."),_()})},function(_){F===!1?(C=new s.NodeKey(I),T.backend.delete(C,function(){_()})):_()},function(_){F===!1?T.lexicon.unregister(v,C,function(){T.callbacksBackend.nextGraphModification(h.deleted,[v,I]),_()}):_()})(function(){F?x(new Error(L)):x(null,!0)})},QueryEngine.prototype._executeClearGraph=function(v,l,x){var T=this;if(v==="default")this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",x);else if(v==="named")T.lexicon.registeredGraphs(!0,function(F){if(F!=null){var L=!1;d.eachSeries(F,function(C,_){L?_():T.execute("DELETE { GRAPH <"+C+"> { ?s ?p ?o } } WHERE { GRAPH <"+C+"> { ?s ?p ?o } }",function(E,Q){E?(L=E,_()):T.lexicon.resolveUri(C,function(B){B!=-1?T.lexicon.knownGraphs.delete(B,function(){_()}):(L="Cannot find graph "+C+" to clear it",_())})})},function(){x(!L)})}else x(!1,"Error deleting named graphs")});else if(v==="all"){var T=this;this.execute("CLEAR DEFAULT",function(L,C){L?x(!1,C):T.execute("CLEAR NAMED",x)})}else if(v.token=="uri"){var I=A.lexicalFormBaseUri(v,l);I!=null?(this.callbacksBackend.ongoingModification=!0,this.execute("DELETE { GRAPH <"+I+"> { ?s ?p ?o } } WHERE { GRAPH <"+I+"> { ?s ?p ?o } }",function(F){T.callbacksBackend.ongoingModification=!1,x(F)})):x(!1,"wrong graph URI")}else x(!1,"wrong graph URI")},QueryEngine.prototype.checkGroupSemantics=function(v,l){if(v==="singleGroup")return!0;for(var x={},T=0;T<v.length;T++){var I=v[T];I.token==="var"?x[I.value]=!0:I.token==="aliased_expression"&&(x[I.alias.value]=!0)}for(T=0;T<l.length;T++){var F=l[T];if(F.kind==="var"){if(x[F.value.value]==null)return!1}else if(F.kind==="aliased"&&F.expression&&F.expression.primaryexpression==="var"&&x[F.expression.value.value]==null)return!1}return!0},QueryEngine.prototype.runBinds=function(v,l,x,T,I){var F=this,L=l;v!=null&&v.length>0?F.copyDenormalizedBindings(l,T.outCache,function(C){for(var _=0;_<l.length;_++)for(var E=0;E<v.length;E++){var Q=v[E],B=C[_],q=e.runFilter(Q.expression,B,F,x,T);e.isEbvError(q)?I(q):L[_][Q.as.value]=q}I(null,l)}):I(null,l)},QueryEngine.prototype.computeCosts=function(v,l,x){for(var T=0;T<v.length;T++)v[T]._cost=this.quadCost(v[T],l);x(v)},QueryEngine.prototype.quadCost=function(v,l){return 1},QueryEngine.prototype.registerDefaultNamespace=function(v,l){this.defaultPrefixes[v]=l},X.exports={QueryEngine}},{"./abstract_query_tree":138,"./graph_callbacks":140,"./quad_index":148,"./query_filters":150,"./query_plan":151,"./rdf_loader":152,"./rdf_model":153,"./utils":156}],150:[function(P,X,J){var D=P("./utils"),O=D,A=P("./utils");QueryFilters={};var s="http://www.w3.org/2001/XMLSchema#";QueryFilters.checkFilters=function(c,e,f,o,h,d,b){var w=[];c.filter&&typeof c.filter!="function"&&(w=c.filter);var v=[];if(w==null||w.length===0||c.length!=null)return b(e);QueryFilters.preprocessExistentialFilters(w,e,d,o,h,function(l){A.eachSeries(l,function(x,T){QueryFilters.run(x.value,e,f,o,h,d,function(I){for(var F=[],L=0;L<I.length;L++){var C=I[L];C.__nullify__!=null?v.push(C):F.push(C)}e=F,T()})},function(){b(e.concat(v))})})},QueryFilters.preprocessExistentialFilters=function(c,e,f,o,h,d){var b=[];A.eachSeries(c,function(w,v){if(w.value.expressionType==="builtincall"&&(w.value.builtincall==="exists"||w.value.builtincall==="notexists")){var l=w.value.builtincall,x=w.value.args,T={};f.copyDenormalizedBindings(e,h.outCache,function(F){A.eachSeries(F,function(L,C){var _=O.clone(x[0],!0),E=f.abstractQueryTree.parseSelect({pattern:_},L);E=f.abstractQueryTree.bind(E.pattern,L),f.executeSelectUnit([{kind:"*"}],o,E,h,function(Q){var B=null;l==="exists"?B=QueryFilters.ebvBoolean(Q.length!==0):B=QueryFilters.ebvBoolean(Q.length===0);var q=[];for(var K in L)q.push(JSON.stringify(L[K]));q=q.sort().join(""),T[q]=B,C()})},function(){w.value.origArgs=w.value.args,w.value.args=T,b.push(w),v()})})}else if(w.value.expressionType==="conditionalor"||w.value.expressionType==="conditionaland"){var I=O.map(w.value.operands,function(F){return{value:F}});QueryFilters.preprocessExistentialFilters(I,e,f,o,h,function(F){w.value.operands=F.map(function(L){return L.value}),b.push(w),v()})}else if(w.value.expressionType==="multiplicativeexpression"){var I=O.map(w.value.factors,function(L){return{value:L}});QueryFilters.preprocessExistentialFilters(I,e,f,o,h,function(L){w.value.factors=L.map(function(C){return C.value}),b.push(w),v()})}else if(w.value.expressionType==="additiveexpression"){var I=O.map(w.value.summands,function(L){return{value:L}});QueryFilters.preprocessExistentialFilters(I,e,f,o,h,function(L){w.value.summands=L.map(function(C){return C.value}),b.push(w),v()})}else if(w.value.expressionType==="relationalexpression"){var I=[{value:w.value.op1},{value:w.value.op2}];QueryFilters.preprocessExistentialFilters(I,e,f,o,h,function(L){w.value.op1=L[0].value,w.value.op2=L[1].value,b.push(w),v()})}else if(w.value.expressionType==="irireforfunction"||w.value.expressionType==="custom")if(w.value.args!=null){var I=O.map(w.value.args,function(L){return{value:L}});QueryFilters.preprocessExistentialFilters(I,e,f,o,h,function(L){w.value.args=L.map(function(C){return C.value}),b.push(w),v()})}else b.push(w),v();else b.push(w),v()},function(){d(b)})},QueryFilters.boundVars=function(c){if(c.expressionType!=null){var e=c.expressionType;if(e=="relationalexpression"){var f=c.op1,o=c.op2;return QueryFilters.boundVars(f)+QueryFilters.boundVars(o)}else if(e=="conditionalor"||e=="conditionaland"){for(var h=[],d=0;d<c.operands;d++)h=h.concat(QueryFilters.boundVars(c.operands[d]));return h}else if(e=="builtincall"){if(c.args==null)return[];for(var b=[],d=0;d<c.args.length;d++)b=b.concat(QueryFilters.boundVars(c.args[d]));return b}else if(e=="multiplicativeexpression"){for(var b=QueryFilters.boundVars(c.factor),d=0;d<c.factors.length;d++)b=b.concat(QueryFilters.boundVars(c.factors[d].expression));return b}else if(e=="additiveexpression"){for(var b=QueryFilters.boundVars(c.summand),d=0;d<c.summands.length;d++)b=b.concat(QueryFilters.boundVars(c.summands[d].expression));return b}else if(e=="regex"){var b=QueryFilters.boundVars(c.expression1);return b.concat(QueryFilters.boundVars(c.expression2))}else{if(e=="unaryexpression")return QueryFilters.boundVars(c.expression);if(e=="atomic")return c.primaryexpression=="var"?[c.value]:[]}}else throw"Cannot find bound expressions in a no expression token"},QueryFilters.run=function(c,e,f,o,h,d,b){d.copyDenormalizedBindings(e,h.outCache,function(w){for(var v=[],l=0;l<e.length;l++){var x=w[l],T=QueryFilters.runFilter(c,x,d,o,h),T=QueryFilters.ebv(T);if(QueryFilters.isEbvError(T)){if(f){var I={__nullify__:!0,bindings:e[l]};v.push(I)}}else if(T===!0)v.push(e[l]);else if(f){var I={__nullify__:!0,bindings:e[l]};v.push(I)}}b(v)})},QueryFilters.collect=function(c,e,f,o,h,d){h.copyDenormalizedBindings(e,o.outCache,function(b){for(var w=[],v=0;v<b.length;v++){var l=b[v],x=QueryFilters.runFilter(c,l,h,f,o);w.push({binding:e[v],value:x})}return d(w)})},QueryFilters.runDistinct=function(c,e){},QueryFilters.runAggregator=function(c,e,f,o,h){if(e==null||e.length===0)return QueryFilters.ebvError();if(c.token==="variable"&&c.kind=="var")return e[0][c.value.value];if(c.token==="variable"&&c.kind==="aliased"){if(c.expression.expressionType==="atomic"&&c.expression.primaryexpression==="var")return e[0][c.expression.value.value];if(c.expression.expressionType==="aggregate")if(c.expression.aggregateType==="max"){for(var d=null,b=0;b<e.length;b++){var w=e[b],v=QueryFilters.runFilter(c.expression.expression,w,f,o,h);QueryFilters.isEbvError(v)||(d===null||QueryFilters.runLtFunction(d,v).value===!0)&&(d=v)}return d===null?QueryFilters.ebvError():d}else if(c.expression.aggregateType==="min"){for(var l=null,b=0;b<e.length;b++){var w=e[b],v=QueryFilters.runFilter(c.expression.expression,w,f,o,h);QueryFilters.isEbvError(v)||(l===null||QueryFilters.runGtFunction(l,v).value===!0)&&(l=v)}return l===null?QueryFilters.ebvError():l}else if(c.expression.aggregateType==="count"){var x={},T=0;if(c.expression.expression==="*")if(c.expression.distinct!=null&&c.expression.distinct!="")for(var b=0;b<e.length;b++){var w=e[b],I=D.hashTerm(w);x[I]==null&&(x[I]=!0,T++)}else T=e.length;else for(var b=0;b<e.length;b++){var w=e[b],v=QueryFilters.runFilter(c.expression.expression,w,f,o,h);if(!QueryFilters.isEbvError(v))if(c.expression.distinct!=null&&c.expression.distinct!=""){var I=D.hashTerm(v);x[I]==null&&(x[I]=!0,T++)}else T++}return{token:"literal",type:s+"integer",value:""+T}}else if(c.expression.aggregateType==="avg"){for(var x={},F={token:"literal",type:s+"integer",value:"0"},T=0,b=0;b<e.length;b++){var w=e[b],v=QueryFilters.runFilter(c.expression.expression,w,f,o,h);if(!QueryFilters.isEbvError(v))if(c.expression.distinct!=null&&c.expression.distinct!=""){var I=D.hashTerm(v);x[I]==null&&(x[I]=!0,QueryFilters.isNumeric(v)&&(F=QueryFilters.runSumFunction(F,v),T++))}else QueryFilters.isNumeric(v)&&(F=QueryFilters.runSumFunction(F,v),T++)}var L=QueryFilters.runDivFunction(F,{token:"literal",type:s+"integer",value:""+T});return L.value=""+L.value,L}else if(c.expression.aggregateType==="sum"){for(var x={},F={token:"literal",type:s+"integer",value:"0"},b=0;b<e.length;b++){var w=e[b],v=QueryFilters.runFilter(c.expression.expression,w,f,o,h);if(!QueryFilters.isEbvError(v))if(c.expression.distinct!=null&&c.expression.distinct!=""){var I=D.hashTerm(v);x[I]==null&&(x[I]=!0,QueryFilters.isNumeric(v)&&(F=QueryFilters.runSumFunction(F,v)))}else QueryFilters.isNumeric(v)&&(F=QueryFilters.runSumFunction(F,v))}return F.value=""+F.value,F}else{var v=QueryFilters.runFilter(aggregate.expression,e[0],o,{blanks:{},outCache:{}});return v}}},QueryFilters.runFilter=function(c,e,f,o,h){if(c.expressionType!=null){var d=c.expressionType;if(d=="relationalexpression"){var b=QueryFilters.runFilter(c.op1,e,f,o,h),w=QueryFilters.runFilter(c.op2,e,f,o,h);return QueryFilters.runRelationalFilter(c,b,w,e,f,o,h)}else{if(d=="conditionalor")return QueryFilters.runOrFunction(c,e,f,o,h);if(d=="conditionaland")return QueryFilters.runAndFunction(c,e,f,o,h);if(d=="additiveexpression")return QueryFilters.runAddition(c.summand,c.summands,e,f,o,h);if(d=="builtincall")return QueryFilters.runBuiltInCall(c.builtincall,c.args,e,f,o,h);if(d=="multiplicativeexpression")return QueryFilters.runMultiplication(c.factor,c.factors,e,f,o,h);if(d=="unaryexpression")return QueryFilters.runUnaryExpression(c.unaryexpression,c.expression,e,f,o,h);if(d=="irireforfunction")return QueryFilters.runIriRefOrFunction(c.iriref,c.args,e,f,o,h);if(d=="regex")return QueryFilters.runRegex(c.text,c.pattern,c.flags,e,f,o,h);if(d=="custom")return QueryFilters.runBuiltInCall(c.name,c.args,e,f,o,h);if(d=="atomic")return c.primaryexpression=="var"?e[c.value.value]:(typeof c.value!="object"||c.value.type==null||typeof c.value.type!="object"||(c.value.type=D.lexicalFormBaseUri(c.value.type,h)),c.value);throw"Unknown filter expression type"}}else throw"Cannot find bound expressions in a no expression token"},QueryFilters.isRDFTerm=function(c){return c==null?!1:!!(c.token&&c.token=="literal"||c.token&&c.token=="uri"||c.token&&c.token=="blank")},QueryFilters.RDFTermEquality=function(c,e,f,o){return c.token==="literal"&&e.token==="literal"?c.lang==e.lang&&c.type==e.type&&c.value==e.value?!0:c.type!=null&&e.type!=null||QueryFilters.isSimpleLiteral(c)&&e.type!=null||QueryFilters.isSimpleLiteral(e)&&c.type!=null?QueryFilters.ebvError():!1:c.token==="uri"&&e.token==="uri"?D.lexicalFormBaseUri(c,o)==D.lexicalFormBaseUri(e,o):c.token==="blank"&&e.token==="blank"?c.value==e.value:!1},QueryFilters.isInteger=function(c){return c==null?!1:c.token==="literal"?c.type==s+"integer"||c.type==s+"decimal"||c.type==s+"double"||c.type==s+"nonPositiveInteger"||c.type==s+"negativeInteger"||c.type==s+"long"||c.type==s+"int"||c.type==s+"short"||c.type==s+"byte"||c.type==s+"nonNegativeInteger"||c.type==s+"unsignedLong"||c.type==s+"unsignedInt"||c.type==s+"unsignedShort"||c.type==s+"unsignedByte"||c.type==s+"positiveInteger":!1},QueryFilters.isFloat=function(c){return c==null?!1:c.token==="literal"?c.type==s+"float":!1},QueryFilters.isDecimal=function(c){return c==null?!1:c.token==="literal"?c.type==s+"decimal":!1},QueryFilters.isDouble=function(c){return c==null?!1:c.token==="literal"?c.type==s+"double":!1},QueryFilters.isNumeric=function(c){return c==null?!1:c.token==="literal"?c.type==s+"integer"||c.type==s+"decimal"||c.type==s+"float"||c.type==s+"double"||c.type==s+"nonPositiveInteger"||c.type==s+"negativeInteger"||c.type==s+"long"||c.type==s+"int"||c.type==s+"short"||c.type==s+"byte"||c.type==s+"nonNegativeInteger"||c.type==s+"unsignedLong"||c.type==s+"unsignedInt"||c.type==s+"unsignedShort"||c.type==s+"unsignedByte"||c.type==s+"positiveInteger":!1},QueryFilters.isSimpleLiteral=function(c){return c&&c.token=="literal"?c.type==null&&c.lang==null:!1},QueryFilters.isXsdType=function(c,e){return e&&e.token=="literal"?e.type==s+""+c:!1},QueryFilters.ebv=function(c){if(c==null||QueryFilters.isEbvError(c))return QueryFilters.ebvError();if(c.token&&c.token==="literal")if(c.type==s+"integer"||c.type==s+"decimal"||c.type==s+"double"||c.type==s+"nonPositiveInteger"||c.type==s+"negativeInteger"||c.type==s+"long"||c.type==s+"int"||c.type==s+"short"||c.type==s+"byte"||c.type==s+"nonNegativeInteger"||c.type==s+"unsignedLong"||c.type==s+"unsignedInt"||c.type==s+"unsignedShort"||c.type==s+"unsignedByte"||c.type==s+"positiveInteger"){var e=parseFloat(c.value);return isNaN(e)?!1:parseFloat(c.value)!=0}else return c.type===s+"boolean"?c.value==="true"||c.value===!0||c.value==="True":c.type===s+"string"?c.value!="":c.type===s+"dateTime"?new Date(c.value)!=null:QueryFilters.isEbvError(c)?c:c.type==null?c.value!="":QueryFilters.ebvError();else return c.value===!0},QueryFilters.effectiveBooleanValue=QueryFilters.ebv,QueryFilters.ebvTrue=function(){var c={token:"literal",type:s+"boolean",value:!0};return c},QueryFilters.ebvFalse=function(){var c={token:"literal",type:s+"boolean",value:!1};return c},QueryFilters.ebvError=function(){var c={token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null};return c},QueryFilters.isEbvError=function(c){return typeof c=="object"&&c!=null?c.type==="https://github.com/antoniogarrote/js-tools/types#error":!1},QueryFilters.ebvBoolean=function(c){return QueryFilters.isEbvError(c)?c:c===!0?QueryFilters.ebvTrue():QueryFilters.ebvFalse()},QueryFilters.runRelationalFilter=function(c,e,f,o,h,d,b){var w=c.operator;if(w==="=")return QueryFilters.runEqualityFunction(e,f,o,h,d,b);if(w==="!="){var v=QueryFilters.runEqualityFunction(e,f,o,h,d,b);return QueryFilters.isEbvError(v)||(v.value=!v.value),v}else{if(w==="<")return QueryFilters.runLtFunction(e,f,o);if(w===">")return QueryFilters.runGtFunction(e,f,o);if(w==="<=")return QueryFilters.runLtEqFunction(e,f,o);if(w===">=")return QueryFilters.runGtEqFunction(e,f,o);throw"Error applying relational filter, unknown operator"}},QueryFilters.effectiveTypeValue=function(c){if(c.token=="literal")if(c.type==s+"integer"){var e=parseInt(c.value);return e}else if(c.type==s+"decimal"){var e=parseFloat(c.value);return e}else if(c.type==s+"float"){var e=parseFloat(c.value);return e}else if(c.type==s+"double"){var e=parseFloat(c.value);return e}else if(c.type==s+"nonPositiveInteger"){var e=parseFloat(c.value);return e}else if(c.type==s+"negativeInteger"){var e=parseInt(c.value);return e}else if(c.type==s+"long"){var e=parseInt(c.value);return e}else if(c.type==s+"int"){var e=parseInt(c.value);return e}else if(c.type==s+"short"){var e=parseInt(c.value);return e}else if(c.type==s+"byte"){var e=parseInt(c.value);return e}else if(c.type==s+"nonNegativeInteger"){var e=parseInt(c.value);return e}else if(c.type==s+"unsignedLong"){var e=parseInt(c.value);return e}else if(c.type==s+"unsignedInt"){var e=parseInt(c.value);return e}else if(c.type==s+"unsignedShort"){var e=parseInt(c.value);return e}else if(c.type==s+"unsignedByte"){var e=parseInt(c.value);return e}else if(c.type==s+"positiveInteger"){var e=parseInt(c.value);return e}else if(c.type==s+"date"||c.type==s+"dateTime")try{var f=D.parseISO8601(c.value);return f}catch{return null}else return c.type==s+"boolean"?c.value===!0||c.value==="true"||c.value==="1"||c.value===1||c.value===!0?!0:c.value===!1||c.value==="false"||c.value==="0"||c.value===0||c.value===!1?!1:void 0:c.type==s+"string"?c.value===null||c.value===void 0?void 0:""+c.value:(c.type==null,c.value);else throw console.log("not implemented yet"),console.log(c),"value not supported in operations yet"},QueryFilters.runOrFunction=function(c,e,f,o,h){for(var d=null,b=0;b<c.operands.length;b++){var w=QueryFilters.runFilter(c.operands[b],e,f,o,h);QueryFilters.isEbvError(w)==!1&&(w=QueryFilters.ebv(w)),d==null?d=w:QueryFilters.isEbvError(w)?QueryFilters.isEbvError(d)?d=QueryFilters.ebvError():d===!0?d=!0:d=QueryFilters.ebvError():w===!0?d=!0:QueryFilters.isEbvError(d)&&(d=QueryFilters.ebvError())}return QueryFilters.ebvBoolean(d)},QueryFilters.runAndFunction=function(c,e,f,o,h){for(var d=null,b=0;b<c.operands.length;b++){var w=QueryFilters.runFilter(c.operands[b],e,f,o,h);QueryFilters.isEbvError(w)==!1&&(w=QueryFilters.ebv(w)),d==null?d=w:QueryFilters.isEbvError(w)?QueryFilters.isEbvError(d)||d===!0?d=QueryFilters.ebvError():d=!1:w===!0?QueryFilters.isEbvError(d)&&(d=QueryFilters.ebvError()):d=!1}return QueryFilters.ebvBoolean(d)},QueryFilters.runEqualityFunction=function(c,e,f,o,h,d){if(QueryFilters.isEbvError(c)||QueryFilters.isEbvError(e))return QueryFilters.ebvError();if(QueryFilters.isNumeric(c)&&QueryFilters.isNumeric(e)){var b=QueryFilters.effectiveTypeValue(c),w=QueryFilters.effectiveTypeValue(e);return isNaN(b)||isNaN(w)?QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(c,e,o,d)):QueryFilters.ebvBoolean(b==w)}else{if((QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",c))&&(QueryFilters.isSimpleLiteral(e)||QueryFilters.isXsdType("string",e)))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)==QueryFilters.effectiveTypeValue(e));if(QueryFilters.isXsdType("boolean",c)&&QueryFilters.isXsdType("boolean",e))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)==QueryFilters.effectiveTypeValue(e));if((QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))&&(QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))){if(QueryFilters.isXsdType("dateTime",c)&&QueryFilters.isXsdType("date",e)||QueryFilters.isXsdType("date",c)&&QueryFilters.isXsdType("dateTime",e))return QueryFilters.ebvFalse();var v=D.compareDateComponents(c.value,e.value);return v!=null?v==0?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}else return QueryFilters.isRDFTerm(c)&&QueryFilters.isRDFTerm(e)?QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(c,e,o,d)):QueryFilters.ebvFalse()}},QueryFilters.runGtFunction=function(c,e,f){if(QueryFilters.isEbvError(c)||QueryFilters.isEbvError(e))return QueryFilters.ebvError();if(QueryFilters.isNumeric(c)&&QueryFilters.isNumeric(e))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)>QueryFilters.effectiveTypeValue(e));if(QueryFilters.isSimpleLiteral(c)&&QueryFilters.isSimpleLiteral(e))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)>QueryFilters.effectiveTypeValue(e));if(QueryFilters.isXsdType("string",c)&&QueryFilters.isXsdType("string",e))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)>QueryFilters.effectiveTypeValue(e));if(QueryFilters.isXsdType("boolean",c)&&QueryFilters.isXsdType("boolean",e))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)>QueryFilters.effectiveTypeValue(e));if((QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))&&(QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))){if(QueryFilters.isXsdType("dateTime",c)&&QueryFilters.isXsdType("date",e)||QueryFilters.isXsdType("date",c)&&QueryFilters.isXsdType("dateTime",e))return QueryFilters.ebvFalse();var o=D.compareDateComponents(c.value,e.value);return o!=null?o==1?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}else return QueryFilters.ebvFalse()},QueryFilters.runTotalGtFunction=function(c,e){return QueryFilters.isEbvError(c)||QueryFilters.isEbvError(e)?QueryFilters.ebvError():QueryFilters.isNumeric(c)&&QueryFilters.isNumeric(e)||QueryFilters.isSimpleLiteral(c)&&QueryFilters.isSimpleLiteral(e)||QueryFilters.isXsdType("string",c)&&QueryFilters.isSimpleLiteral("string",e)||QueryFilters.isXsdType("boolean",c)&&QueryFilters.isSimpleLiteral("boolean",e)||QueryFilters.isXsdType("dateTime",c)&&QueryFilters.isSimpleLiteral("dateTime",e)?QueryFilters.runGtFunction(c,e,[]):c.token&&c.token==="uri"&&e.token&&e.token==="uri"?QueryFilters.ebvBoolean(c.value>e.value):c.token&&c.token==="literal"&&e.token&&e.token==="literal"?QueryFilters.ebvBoolean(""+c.value+c.type+c.lang>""+e.value+e.type+e.lang):c.token&&c.token==="blank"&&e.token&&e.token==="blank"||c.value&&e.value?QueryFilters.ebvBoolean(c.value>e.value):QueryFilters.ebvTrue()},QueryFilters.runLtFunction=function(c,e,f){if(QueryFilters.isEbvError(c)||QueryFilters.isEbvError(e))return QueryFilters.ebvError();if(QueryFilters.isNumeric(c)&&QueryFilters.isNumeric(e))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)<QueryFilters.effectiveTypeValue(e));if(QueryFilters.isSimpleLiteral(c)&&QueryFilters.isSimpleLiteral(e))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)<QueryFilters.effectiveTypeValue(e));if(QueryFilters.isXsdType("string",c)&&QueryFilters.isXsdType("string",e))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)<QueryFilters.effectiveTypeValue(e));if(QueryFilters.isXsdType("boolean",c)&&QueryFilters.isXsdType("boolean",e))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)<QueryFilters.effectiveTypeValue(e));if((QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))&&(QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))){if(QueryFilters.isXsdType("dateTime",c)&&QueryFilters.isXsdType("date",e)||QueryFilters.isXsdType("date",c)&&QueryFilters.isXsdType("dateTime",e))return QueryFilters.ebvFalse();var o=D.compareDateComponents(c.value,e.value);return o!=null?o==-1?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}else return QueryFilters.ebvFalse()},QueryFilters.runGtEqFunction=function(c,e,f){if(QueryFilters.isEbvError(c)||QueryFilters.isEbvError(e))return QueryFilters.ebvError();if(QueryFilters.isNumeric(c)&&QueryFilters.isNumeric(e))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)>=QueryFilters.effectiveTypeValue(e));if(QueryFilters.isSimpleLiteral(c)&&QueryFilters.isSimpleLiteral(e))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)>=QueryFilters.effectiveTypeValue(e));if(QueryFilters.isXsdType("string",c)&&QueryFilters.isXsdType("string",e))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)>=QueryFilters.effectiveTypeValue(e));if(QueryFilters.isXsdType("boolean",c)&&QueryFilters.isXsdType("boolean",e))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)>=QueryFilters.effectiveTypeValue(e));if((QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))&&(QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))){if(QueryFilters.isXsdType("dateTime",c)&&QueryFilters.isXsdType("date",e)||QueryFilters.isXsdType("date",c)&&QueryFilters.isXsdType("dateTime",e))return QueryFilters.ebvFalse();var o=D.compareDateComponents(c.value,e.value);return o!=null?o!=-1?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}else return QueryFilters.ebvFalse()},QueryFilters.runLtEqFunction=function(c,e,f){if(QueryFilters.isEbvError(c)||QueryFilters.isEbvError(e))return QueryFilters.ebvError();if(QueryFilters.isNumeric(c)&&QueryFilters.isNumeric(e))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)<=QueryFilters.effectiveTypeValue(e));if(QueryFilters.isSimpleLiteral(c)&&QueryFilters.isSimpleLiteral(e))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)<=QueryFilters.effectiveTypeValue(e));if(QueryFilters.isXsdType("string",c)&&QueryFilters.isXsdType("string",e))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)<=QueryFilters.effectiveTypeValue(e));if(QueryFilters.isXsdType("boolean",c)&&QueryFilters.isXsdType("boolean",e))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(c)<=QueryFilters.effectiveTypeValue(e));if((QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))&&(QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))){if(QueryFilters.isXsdType("dateTime",c)&&QueryFilters.isXsdType("date",e)||QueryFilters.isXsdType("date",c)&&QueryFilters.isXsdType("dateTime",e))return QueryFilters.ebvFalse();var o=D.compareDateComponents(c.value,e.value);return o!=null?o!=1?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}else return QueryFilters.ebvFalse()},QueryFilters.runAddition=function(c,e,f,o,h,d){var b=QueryFilters.runFilter(c,f,o,h,d);if(QueryFilters.isEbvError(b))return QueryFilters.ebvError();var w=b;if(QueryFilters.isNumeric(b)){for(var v=0;v<e.length;v++){var l=QueryFilters.runFilter(e[v].expression,f,o,h,d);if(QueryFilters.isNumeric(l))e[v].operator==="+"?w=QueryFilters.runSumFunction(w,l):e[v].operator==="-"&&(w=QueryFilters.runSubFunction(w,l));else return QueryFilters.ebvFalse()}return w}else return QueryFilters.ebvFalse()},QueryFilters.runSumFunction=function(c,e){if(QueryFilters.isEbvError(c)||QueryFilters.isEbvError(e))return QueryFilters.ebvError();var f=QueryFilters.effectiveTypeValue(c)+QueryFilters.effectiveTypeValue(e);return QueryFilters.isDouble(c)||QueryFilters.isDouble(e)?{token:"literal",type:s+"double",value:f}:QueryFilters.isFloat(c)||QueryFilters.isFloat(e)?{token:"literal",type:s+"float",value:f}:QueryFilters.isDecimal(c)||QueryFilters.isDecimal(e)?{token:"literal",type:s+"decimal",value:f}:{token:"literal",type:s+"integer",value:f}},QueryFilters.runSubFunction=function(c,e){if(QueryFilters.isEbvError(c)||QueryFilters.isEbvError(e))return QueryFilters.ebvError();var f=QueryFilters.effectiveTypeValue(c)-QueryFilters.effectiveTypeValue(e);return QueryFilters.isDouble(c)||QueryFilters.isDouble(e)?{token:"literal",type:s+"double",value:f}:QueryFilters.isFloat(c)||QueryFilters.isFloat(e)?{token:"literal",type:s+"float",value:f}:QueryFilters.isDecimal(c)||QueryFilters.isDecimal(e)?{token:"literal",type:s+"decimal",value:f}:{token:"literal",type:s+"integer",value:f}},QueryFilters.runMultiplication=function(c,e,f,o,h,d){var b=QueryFilters.runFilter(c,f,o,h,d);if(QueryFilters.isEbvError(b))return b;var w=b;if(QueryFilters.isNumeric(b)){for(var v=0;v<e.length;v++){var l=QueryFilters.runFilter(e[v].expression,f,o,h,d);if(QueryFilters.isEbvError(l))return b;if(QueryFilters.isNumeric(l))e[v].operator==="*"?w=QueryFilters.runMulFunction(w,l):e[v].operator==="/"&&(w=QueryFilters.runDivFunction(w,l));else return QueryFilters.ebvFalse()}return w}else return QueryFilters.ebvFalse()},QueryFilters.runMulFunction=function(c,e){if(QueryFilters.isEbvError(c)||QueryFilters.isEbvError(e))return QueryFilters.ebvError();var f=QueryFilters.effectiveTypeValue(c)*QueryFilters.effectiveTypeValue(e);return QueryFilters.isDouble(c)||QueryFilters.isDouble(e)?{token:"literal",type:s+"double",value:f}:QueryFilters.isFloat(c)||QueryFilters.isFloat(e)?{token:"literal",type:s+"float",value:f}:QueryFilters.isDecimal(c)||QueryFilters.isDecimal(e)?{token:"literal",type:s+"decimal",value:f}:{token:"literal",type:s+"integer",value:f}},QueryFilters.runDivFunction=function(c,e){if(QueryFilters.isEbvError(c)||QueryFilters.isEbvError(e))return QueryFilters.ebvError();var f=QueryFilters.effectiveTypeValue(c)/QueryFilters.effectiveTypeValue(e);return QueryFilters.isDouble(c)||QueryFilters.isDouble(e)?{token:"literal",type:s+"double",value:f}:QueryFilters.isFloat(c)||QueryFilters.isFloat(e)?{token:"literal",type:s+"float",value:f}:QueryFilters.isDecimal(c)||QueryFilters.isDecimal(e)?{token:"literal",type:s+"decimal",value:f}:{token:"literal",type:s+"integer",value:f}},QueryFilters.runBuiltInCall=function(c,e,f,o,h,d){if(c==="notexists"||c==="exists"){var b=[];for(var w in f)b.push(JSON.stringify(f[w]));return b=b.sort().join(""),e[b]}else{for(var v=[],l=0;l<e.length;l++)if(e[l].token==="var")v.push(e[l]);else{var x=QueryFilters.runFilter(e[l],f,o,h,d);if(QueryFilters.isEbvError(x))return x;v.push(x)}if(c==="str")return v[0].token==="literal"?{token:"literal",type:null,value:""+v[0].value}:v[0].token==="uri"?{token:"literal",type:null,value:v[0].value}:QueryFilters.ebvFalse();if(c==="lang")return v[0].token==="literal"?v[0].lang!=null?{token:"literal",value:""+v[0].lang}:{token:"literal",value:""}:QueryFilters.ebvError();if(c==="datatype")if(v[0].token==="literal"){var T=v[0];return T.type!=null?typeof T.type=="string"?{token:"uri",value:T.type,prefix:null,suffix:null}:T.type:T.lang==null?{token:"uri",value:"http://www.w3.org/2001/XMLSchema#string",prefix:null,suffix:null}:QueryFilters.ebvError()}else return QueryFilters.ebvError();else{if(c==="isliteral")return v[0].token==="literal"?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if(c==="isblank")return v[0].token==="blank"?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if(c==="isuri"||c==="isiri")return v[0].token==="uri"?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if(c==="sameterm"){var I=v[0],F=v[1],L=QueryFilters.RDFTermEquality(I,F,o,d);return QueryFilters.isEbvError(L)&&(L=!1),QueryFilters.ebvBoolean(L)}else if(c==="langmatches"){var C=v[0],_=v[1];return C.token==="literal"&&_.token==="literal"?_.value==="*"&&C.value!=""?QueryFilters.ebvTrue():QueryFilters.ebvBoolean(C.value.toLowerCase().indexOf(_.value.toLowerCase())===0):QueryFilters.ebvError()}else if(c==="bound"){var E=v[0].value,Q=[];return E==null?QueryFilters.ebvError():f[E]!=null?QueryFilters.ebvTrue():QueryFilters.ebvFalse()}else{if(o.customFns[c]!=null)return o.customFns[c](QueryFilters,v);throw"Builtin call "+c+" not implemented yet"}}}},QueryFilters.runUnaryExpression=function(c,e,f,o,h,d){var b=QueryFilters.runFilter(e,f,o,h,d);if(QueryFilters.isEbvError(b))return b;if(c==="!"){var w=QueryFilters.ebv(b);return QueryFilters.isEbvError(w)?QueryFilters.ebvFalse():(w=!w,QueryFilters.ebvBoolean(w))}else{if(c==="+")return QueryFilters.isNumeric(b)?b:QueryFilters.ebvError();if(c==="-")if(QueryFilters.isNumeric(b)){var v={};for(var l in b)v[l]=b[l];return v.value=-v.value,v}else return QueryFilters.ebvError()}},QueryFilters.runRegex=function(c,e,f,o,h,d,b){if(c!=null)c=QueryFilters.runFilter(c,o,h,d,b);else return QueryFilters.ebvError();if(e!=null)e=QueryFilters.runFilter(e,o,h,d,b);else return QueryFilters.ebvError();if(f!=null&&(f=QueryFilters.runFilter(f,o,h,d,b)),e!=null&&e.token==="literal"&&(f==null||f.token==="literal"))e=e.value,f=f==null?null:f.value;else return QueryFilters.ebvError();if(c!=null&&c.token=="var")if(o[c.value]!=null)c=o[c.value];else return QueryFilters.ebvError();else if(c!=null&&c.token==="literal")if(c.type==null||QueryFilters.isXsdType("string",c))c=c.value;else return QueryFilters.ebvError();else return QueryFilters.ebvError();var w;return f==null?w=new RegExp(e):w=new RegExp(e,f.toLowerCase()),w.exec(c)?QueryFilters.ebvTrue():QueryFilters.ebvFalse()},QueryFilters.normalizeLiteralDatatype=function(c,e,f){return c.value.type==null||typeof c.value.type!="object"||(c.value.type=D.lexicalFormBaseUri(c.value.type,f)),c},QueryFilters.runIriRefOrFunction=function(c,e,f,o,h,d){if(e==null)return c;for(var b=[],w=0;w<e.length;w++)b.push(QueryFilters.runFilter(e[w],f,o,h,d));var v=D.lexicalFormBaseUri(c,d);if(v==s+"integer"||v==s+"decimal"||v==s+"double"||v==s+"nonPositiveInteger"||v==s+"negativeInteger"||v==s+"long"||v==s+"int"||v==s+"short"||v==s+"byte"||v==s+"nonNegativeInteger"||v==s+"unsignedLong"||v==s+"unsignedInt"||v==s+"unsignedShort"||v==s+"unsignedByte"||v==s+"positiveInteger"){var l=b[0];if(l.token==="literal"){if(l=QueryFilters.normalizeLiteralDatatype(l,o,d),l.type==s+"integer"||l.type==s+"decimal"||l.type==s+"double"||l.type==s+"nonPositiveInteger"||l.type==s+"negativeInteger"||l.type==s+"long"||l.type==s+"int"||l.type==s+"short"||l.type==s+"byte"||l.type==s+"nonNegativeInteger"||l.type==s+"unsignedLong"||l.type==s+"unsignedInt"||l.type==s+"unsignedShort"||l.type==s+"unsignedByte"||l.type==s+"positiveInteger")return l.type=v,l;if(l.type=="http://www.w3.org/2001/XMLSchema#boolean")return QueryFilters.ebv(l)==!0?(l.type=v,l.value=1):(l.type=v,l.value=0),l;if(l.type=="http://www.w3.org/2001/XMLSchema#float"||l.type=="http://www.w3.org/2001/XMLSchema#double")return l.type=v,l.value=parseInt(l.value),l;if(l.type=="http://www.w3.org/2001/XMLSchema#string"||l.type==null){if(l.value.split(".").length>2)return QueryFilters.ebvError();if(l.value.split("-").length>2)return QueryFilters.ebvError();if(l.value.split("/").length>2)return QueryFilters.ebvError();if(l.value.split("+").length>2||v==s+"decimal"&&(l.value.indexOf("e")!=-1||l.value.indexOf("E")!=-1)||(v==s+"int"||v==s+"integer")&&(l.value.indexOf("e")!=-1||l.value.indexOf("E")!=-1||l.value.indexOf(".")!=-1))return QueryFilters.ebvError();try{return l.value=parseInt(parseFloat(l.value)),isNaN(l.value)?QueryFilters.ebvError():(l.type=v,l)}catch{return QueryFilters.ebvError()}}else return QueryFilters.ebvError()}else return QueryFilters.ebvError()}else if(v==s+"boolean"){var l=b[0];return l.token==="literal"&&l.type==null?l.value==="true"||l.value==="1"?QueryFilters.ebvTrue():l.value==="false"||l.value==="0"?QueryFilters.ebvFalse():QueryFilters.ebvError():l.token==="literal"?QueryFilters.isEbvError(l)?l:QueryFilters.ebvBoolean(l):QueryFilters.ebvError()}else if(v==s+"string"){var l=b[0];return l.token==="literal"?(l=QueryFilters.normalizeLiteralDatatype(l,o,d),l.type==s+"integer"||l.type==s+"decimal"||l.type==s+"double"||l.type==s+"nonPositiveInteger"||l.type==s+"negativeInteger"||l.type==s+"long"||l.type==s+"int"||l.type==s+"short"||l.type==s+"byte"||l.type==s+"nonNegativeInteger"||l.type==s+"unsignedLong"||l.type==s+"unsignedInt"||l.type==s+"unsignedShort"||l.type==s+"unsignedByte"||l.type==s+"positiveInteger"||l.type==s+"float"?(l.type=v,l.value=""+l.value,l):l.type==s+"string"?l:l.type==s+"boolean"?(QueryFilters.ebv(l)?(l.type=v,l.value="true"):(l.type=v,l.value="false"),l):l.type==s+"dateTime"||l.type==s+"date"?(l.type=v,typeof l.value!="string"&&(l.value=D.iso8601(l.value)),l):l.type==null?(l.value=""+l.value,l.type=v,l):QueryFilters.ebvError()):l.token==="uri"?{token:"literal",value:D.lexicalFormBaseUri(l,d),type:v,lang:null}:QueryFilters.ebvError()}else if(v==s+"dateTime"||v==s+"date"){if(l=b[0],l.type==s+"dateTime"||l.type==s+"date")return l;if(l.type==s+"string"||l.type==null)try{return l.value=D.iso8601(D.parseISO8601(l.value)),l.type=v,l}catch{return QueryFilters.ebvError()}else return QueryFilters.ebvError()}else if(v==s+"float"){var l=b[0];if(l.token==="literal"){if(l=QueryFilters.normalizeLiteralDatatype(l,o,d),l.type=="http://www.w3.org/2001/XMLSchema#decimal"||l.type=="http://www.w3.org/2001/XMLSchema#int")return l.type=v,l.value=parseFloat(l.value),l;if(l.type=="http://www.w3.org/2001/XMLSchema#boolean")return QueryFilters.ebv(l)==!0?(l.type=v,l.value=1):(l.type=v,l.value=0),l;if(l.type=="http://www.w3.org/2001/XMLSchema#float"||l.type=="http://www.w3.org/2001/XMLSchema#double")return l.type=v,l.value=parseFloat(l.value),l;if(l.type=="http://www.w3.org/2001/XMLSchema#string")try{return l.value=parseFloat(l.value),isNaN(l.value)?QueryFilters.ebvError():(l.type=v,l)}catch{return QueryFilters.ebvError()}else if(l.type==null){if(l.value.split(".").length>2)return QueryFilters.ebvError();if(l.value.split("-").length>2)return QueryFilters.ebvError();if(l.value.split("/").length>2)return QueryFilters.ebvError();if(l.value.split("+").length>2)return QueryFilters.ebvError();try{return l.value=parseFloat(l.value),isNaN(l.value)?QueryFilters.ebvError():(l.type=v,l)}catch{return QueryFilters.ebvError()}}else return QueryFilters.ebvError()}else return QueryFilters.ebvError()}else return o.customFns[v]!=null?o.customFns[v](QueryFilters,b):QueryFilters.ebvError()},X.exports={QueryFilters}},{"./utils":156}],151:[function(P,X,J){var D=P("./utils"),O=P("./utils"),A=function(e,f,o,h,d,b){this.left=e,this.right=f,this.cost=o,this.i=h,this.vars=d,this.join=b},s={};s.variablesInBGP=function(e){var f=e.variables;if(f)return f;var o=e.value||e;f=[];for(var h in o)o[h]&&o[h].token==="var"?f.push(o[h].value):o[h]&&o[h].token==="blank"&&f.push("blank:"+o[h].value);return e.variables=f,f},s.connected=function(e,f){for(var o="/"+e.vars.join("/")+"/",h=0;h<f.vars.length;h++)if(o.indexOf("/"+f.vars[h]+"/")!=-1)return!0;return!1};var c=function(e,f){for(var o={},h=0;h<e.lenght;h++)o[e[h]]=1;for(h=0;h<f.length;h++){var d=o[f[h]]||0;d++,o[f[h]]=d}var b=[];for(var w in o)o[w]==2&&b.push(o[w]);return b};s.variablesIntersectionBGP=function(e,f){return c(s.variablesInBGP(e),s.variablesInBGP(f))},s.executeAndBGPsGroups=function(e){for(var f={},o={},h=0,d=function(L,C){for(var _=0;_<L.length;_++){var E="/"+L[_]+"/";if(C.indexOf(E)!=-1)return!0}return!1},b=function(L,C,_,E){var Q=[],B="",q="";for(var K in C)B=B+K,Q=Q.concat(f[K]),q=q+o[K];q=q+T.join("/")+"/",Q.push(L),_[B]=Q,E[B]=q},w=0;w<e.length;w++){var v=e[w],l={},x={},T=s.variablesInBGP(v),I={};for(var F in o)d(T,o[F])?I[F]=!0:(l[F]=f[F],x[F]=o[F]);D.size(I)===0?(l["g"+h]=[v],x["g"+h]="/"+T.join("/")+"/",h++):b(v,I,l,x),f=l,o=x}return D.values(f)},s.intersectionSize=function(e,f){for(var o=f.i.split("_"),h=0;h<o.length;h++)if(o[h]!=""&&e.i.indexOf("_"+o[h]+"_")!=-1)return 1;return 0},s.createJoinTree=function(e,f){for(var o="/"+e.vars.join("/")+"/",h=e.vars.concat([]),d=[],b=0;b<f.vars.length;b++)o.indexOf("/"+f.vars[b]+"/")!=-1?f.vars[b].indexOf("_:")==0?d.push("blank:"+f.vars[b]):d.push(f.vars[b]):h.push(f.vars[b]);for(var w=f.i.split("_"),v=e.i.split("_"),l={},b=0;b<w.length;b++)w[b]!=""&&(l[w[b]]=!0);for(var b=0;b<v.length;b++)v[b]!=""&&(l[v[b]]=!0);var x=D.keys(l);return{left:e,right:f,cost:e.cost+f.cost,i:"_"+x.sort().join("_")+"_",vars:h,join:d}},s.executeBushyTree=function(e,f,o,h,d){e.left==null?s.executeEmptyJoinBGP(e.right,f,o,h,d):e.right==null?s.executeEmptyJoinBGP(e.left,f,o,h,d):s.executeBushyTree(e.left,f,o,h,function(b){b!=null?s.executeBushyTree(e.right,f,o,h,function(w){w!=null?d(s.joinBindings2(e.join,b,w)):d(null)}):d(null)})},s.executeAndBGPsDPSize=function(e,f,o,h,d){var b=s.executeAndBGPsGroups(e),w=[];O.eachSeries(b,function(v,l){var x=1;o.computeCosts(v,h,function(T){var I={},F={},L={},C=1,_=null,E={};L[1]=[];for(var Q=0;Q<T.length;Q++){var B=[];delete T[Q].variables;for(var q in T[Q])q!="_cost"&&(T[Q][q].token==="var"||T[Q][q].token==="blank")&&B.push(T[Q][q].value);F["_"+Q+"_"]={left:T[Q],right:null,cost:T[Q]._cost,i:"_"+Q+"_",vars:B};var K={left:T[Q],right:null,cost:T[Q]._cost,i:"_"+Q+"_",vars:B};I["_"+Q+"_"]=K,delete T[Q]._cost,E["_"+Q+"_"]=!0,L[1].push("_"+Q+"_"),(_==null||_.cost>K.cost)&&(_=K)}for(var W=2;W<=T.length;W++)for(var pe=1;pe<W;pe++)for(var te=W-pe,ue=L[""+pe]||[],se=L[""+te]||[],Q=0;Q<ue.length;Q++)for(var be=0;be<se.length;be++)if(ue[Q]!==se[be]){var Y=F[ue[Q]],de=F[se[be]];if(s.intersectionSize(Y,de)==0&&s.connected(Y,de)){C=W;var le=I[Y.i],ce=I[de.i],$=s.createJoinTree(le,ce);if(!E[$.i]){E[$.i]=!0;var ve=$.cost+1;I[$.i]!=null&&(ve=I[$.i].cost);var re=L[W]||[];re.push($.i),F[$.i]=$,L[W]=re,ve>$.cost&&(C===W&&(_=$),I[$.i]=$)}}}w.push(_),l()})},function(){var v=null;O.eachSeries(w,function(l,x){s.executeBushyTree(l,f,o,h,function(T){T?v==null?(v=T,x()):(v=s.crossProductBindings(v,T),x()):x("Error executing bushy tree")})},function(l){l?d(null,l):d(v)})})},s.executeEmptyJoinBGP=function(e,f,o,h,d){return s.executeBGPDatasets(e,f,o,h,d)},s.executeBGPDatasets=function(e,f,o,h,d){var b={};if(e.graph==null){var w=[];O.eachSeries(f.implicit,function(l,x){b[l.oid]==null?(b[l.oid]=!0,e.graph=l,o.rangeQuery(e,h,function(T){T=s.buildBindingsFromRange(T,e),w.push(T),x()})):x()},function(){var l=s.unionManyBindings(w);d(l)})}else if(e.graph.token==="var"){var v=e.graph.value,w=[];O.eachSeries(f.named,function(x,T){b[x.oid]==null?(b[x.oid]=!0,e.graph=x,w!=null?o.rangeQuery(e,h,function(I){if(I!=null){I=s.buildBindingsFromRange(I,e);for(var F=0;F<I.length;F++)I[F][v]=x.oid;w.push(I)}else w=null;T()}):T()):T()},function(){if(w==null)d(null);else{var x=s.unionManyBindings(w);d(x)}})}else o.rangeQuery(e,h,function(l){l!=null?(l=s.buildBindingsFromRange(l,e),d(l)):d(null)})},s.buildBindingsFromRange=function(e,f){s.variablesInBGP(f);var o=f.value||f,h={};for(x in o)o[x]&&o[x].token==="var"?h[x]=o[x].value:o[x]&&o[x].token==="blank"&&(h[x]="blank:"+o[x].value);var d=[];if(e!=null)for(var b=0;b<e.length;b++){var w={},v=e[b],l=!1;for(var x in h){var T=v[x];if(w[h[x]]==null||w[h[x]]===T)w[h[x]]=T;else{l=!0;break}}l||d.push(w)}return d},s.areCompatibleBindings=function(e,f){for(var o in e)if(f[o]!=null&&f[o]!=e[o])return!1;return!0},s.mergeBindings=function(e,f){var o={};for(var h in e)o[h]=e[h];for(var h in f)o[h]=f[h];return o},s.joinBindings2=function(e,f,o){for(var h={},d,b,w,v,l,x=[],T=0;T<f.length;T++){d=f[T],l=h;for(var I=0;I<e.length;I++)b=e[I],w=d[b],I==e.length-1?(v=l[w]||[],v.push(d),l[w]=v):(v=l[w]||{},l[w]=v,l=v)}for(var T=0;T<o.length;T++){d=o[T],l=h;for(var I=0;I<e.length;I++)if(b=e[I],w=d[b],l[w]!=null)if(I==e.length-1)for(var F=0;F<l[w].length;F++)x.push(s.mergeBindings(l[w][F],d));else l=l[w]}return x},s.joinBindings=function(e,f){for(var o=[],h=0;h<e.length;h++)for(var d=e[h],b=0;b<f.length;b++){var w=f[b];s.areCompatibleBindings(d,w)&&o.push(s.mergeBindings(d,w))}return o},s.augmentMissingBindings=function(e,f){for(var o in f)e[o]==null&&(e[o]=null);return e},s.leftOuterJoinBindings=function(e,f){for(var o=[],h=0;h<e.length;h++){for(var d=e[h],b=!1,w=0;w<f.length;w++){var v=f[w];s.areCompatibleBindings(d,v)&&(b=!0,o.push(s.mergeBindings(d,v)))}b===!1&&(s.augmentMissingBindings(d,v),o.push(d))}return o},s.crossProductBindings=function(e,f){for(var o=[],h=0;h<e.length;h++)for(var d=e[h],b=0;b<f.length;b++){var w=f[b];o.push(s.mergeBindings(d,w))}return o},s.unionBindings=function(e,f){return e.concat(f)},s.unionManyBindings=function(e){for(var f=[],o=0;o<e.length;o++){var h=e[o];f=s.unionBindings(f,h)}return f},X.exports={QueryPlan:s}},{"./utils":156}],152:[function(P,X,J){var D=P("./network_transport").NetworkTransport,O=P("./rvn3_parser").RVN3Parser,A=P("./jsonld_parser").JSONLDParser,s=P("./utils"),c=function(e){if(this.precedences=["text/turtle","text/n3","application/ld+json","application/json"],this.parsers={"text/turtle":O.parser,"text/n3":O.parser,"application/ld+json":A.parser,"application/json":A.parser},typeof RDFXMLParser<"u"&&(this.precedences.push("application/rdf+xml"),this.parsers["application/rdf+xml"]=RDFXMLParser.parser),e!=null)for(var f in e.parsers)this.parsers[f]=e.parsers[f];if(e&&e.precedences!=null){this.precedences=e.precedences;for(var f in e.parsers)s.include(this.precedences,f)||this.precedences.push(f)}this.acceptHeaderValue="";for(var o=0;o<this.precedences.length;o++)o!=0?this.acceptHeaderValue=this.acceptHeaderValue+","+this.precedences[o]:this.acceptHeaderValue=this.acceptHeaderValue+this.precedences[o]};c.prototype.registerParser=function(e,f){this.parsers[e]=f,this.precedences.push(e)},c.prototype.unregisterParser=function(e){delete this.parsers[e];for(var f=[],o=0;o<this.precedences.length;o++)this.precedences[o]!=e&&f.push(this.precedences[o]);this.precedences=f},c.prototype.setAcceptHeaderPrecedence=function(e){this.precedences=e},c.prototype.load=function(e,f,o){var h=this;D.load(e,this.acceptHeaderValue,function(d,b){if(d)o(d);else{var w=b.headers["Content-Type"]||b.headers["content-type"],v=b.data;if(w!=null){w=w.split(";")[0];for(var l in h.parsers)if(l.indexOf("/")!=-1){var x=l.split("/");if(x[1]==="*"){if(w.indexOf(x[0])!=-1)return h.tryToParse(h.parsers[l],f,v,{documentURI:e},o)}else{if(w.indexOf(l)!=-1)return h.tryToParse(h.parsers[l],f,v,{documentURI:e},o);if(w.indexOf(x[1])!=-1)return h.tryToParse(h.parsers[l],f,v,{documentURI:e},o)}}else if(w.indexOf(l)!=-1)return h.tryToParse(h.parsers[l],f,v,{documentURI:e},o);o(new Error("Unknown media type : "+w))}else o(new Error("Uknown media type"))}})},c.prototype.loadFromFile=function(e,f,o,h){try{var d=this,b=P("fs");b.readFile(o.split("file:/")[1],function(w,v){if(w)h(w);else{var v=v.toString("utf8");d.tryToParse(e,f,v,{documentURI:o},h)}})}catch(w){h(w)}},c.prototype.tryToParse=function(e,f,o,h,d){try{typeof o=="string"&&(o=s.normalizeUnicodeLiterals(o)),e.parse(o,f,h,d)}catch(b){console.log(b.message),console.log(b.stack),d(b)}},X.exports={RDFLoader:c}},{"./jsonld_parser":141,"./network_transport":143,"./rvn3_parser":154,"./utils":156,fs:4}],153:[function(P,X,J){var D=P("./utils"),O=P("./query_filters").QueryFilters;RDFModel={},RDFModel.defaultContext={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#",ldp:"http://www.w3.org/ns/ldp#"},RDFModel.UrisMap=function(){this.defaultNs="",this.interfaceProperties=["get","remove","set","setDefault","addAll","resolve","shrink"]},RDFModel.UrisMap.prototype.values=function(){var A={};for(var s in this)!D.include(this.interfaceProperties,s)&&typeof this[s]!="function"&&s!=="defaultNs"&&s!=="interfaceProperties"&&(A[s]=this[s]);return A},RDFModel.UrisMap.prototype.get=function(A){if(A.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";return this[A]},RDFModel.UrisMap.prototype.remove=function(A){if(A.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";return delete this[A],null},RDFModel.UrisMap.prototype.set=function(A,s){if(A.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";this[A]=s},RDFModel.UrisMap.prototype.setDefault=function(A){this.defaultNs=A},RDFModel.UrisMap.prototype.addAll=function(A,s){for(var c in A)D.include(this.interfaceProperties,c)||(this[c]!=null?s===!0&&(this[c]=A[c]):this[c]=A[c]);return this},RDFModel.UrisMap.prototype.resolve=function(A){var s=A.split(":"),c=s[0],e=s[1];return c===""?this.defaultNs==null?null:this.defaultNs+e:this[c]!=null?this[c]+e:null},RDFModel.UrisMap.prototype.shrink=function(A){for(var s in this){var c=this[s];if(A.indexOf(c)===0&&c!==""&&s!="defaultNs"){var e=A.split(c)[1];return s+":"+e}}return A},RDFModel.Profile=function(){this.prefixes=new RDFModel.UrisMap,this.terms=new RDFModel.UrisMap},RDFModel.Profile.prototype.importProfile=function(A,s){this.prefixes.addAll(A.prefixes,s),this.terms.addAll(A.terms,s)},RDFModel.Profile.prototype.resolve=function(A){return A.indexOf(":")!=-1?this.prefixes.resolve(A):this.terms[A]!=null?this.terms.resolve(A):null},RDFModel.Profile.prototype.setDefaultPrefix=function(A){this.prefixes.setDefault(A)},RDFModel.Profile.prototype.setDefaultVocabulary=function(A){this.terms.setDefault(A)},RDFModel.Profile.prototype.setPrefix=function(A,s){this.prefixes.set(A,s)},RDFModel.Profile.prototype.setTerm=function(A,s){this.terms.set(A,s)},RDFModel.RDFEnvironment=function(){RDFModel.Profile.call(this),this.blankNodeCounter=0;var A=this;this.filters={s:function(c){return function(e){return e.subject.equals(c)}},p:function(c){return function(e){return e.predicate.equals(c)}},o:function(c){return function(e){return e.object.equals(c)}},sp:function(c,e){return function(f){return f.subject.equals(c)&&f.predicate.equals(e)}},so:function(c,e){return function(f){return f.subject.equals(c)&&f.object.equals(e)}},po:function(c,e){return function(f){return f.predicate.equals(c)&&f.object.equals(e)}},spo:function(c,e,f){return function(o){return o.subject.equals(c)&&o.predicate.equals(e)&&o.object.equals(f)}},describes:function(c){return function(e){return e.subject.equals(c)||e.object.equals(c)}},type:function(c){var e=A.resolve("rdf:type");return function(f){return f.predicate.equals(e)&&f.object.equals(c)}}};for(var s in RDFModel.defaultContext)this.prefixes.set(s,RDFModel.defaultContext[s])},RDFModel.RDFEnvironment.prototype=D.create(RDFModel.Profile.prototype,{constructor:RDFModel.RDFEnvironment}),RDFModel.RDFEnvironment.prototype.createBlankNode=function(){var A=new RDFModel.BlankNode(this.blankNodeCounter);return this.blankNodeCounter++,A},RDFModel.RDFEnvironment.prototype.createNamedNode=function(A){var s=this.resolve(A);return s!=null?new RDFModel.NamedNode(s):new RDFModel.NamedNode(A)},RDFModel.RDFEnvironment.prototype.createLiteral=function(A,s,c){return c!=null?new RDFModel.Literal(A,s,c.toString()):new RDFModel.Literal(A,s,c)},RDFModel.RDFEnvironment.prototype.createTriple=function(A,s,c){return new RDFModel.Triple(A,s,c)},RDFModel.RDFEnvironment.prototype.createGraph=function(A){var s=new RDFModel.Graph;if(A!=null)for(var c=0;c<A.length;c++)s.add(A[c]);return s},RDFModel.RDFEnvironment.prototype.createAction=function(A,s){return function(c){return A(c)?s(c):c}},RDFModel.RDFEnvironment.prototype.createProfile=function(A){if(A===!0)return new RDFModel.RDFEnvironment.Profile;var s=new RDFModel.RDFEnvironment.Profile;return s.importProfile(this),s},RDFModel.RDFEnvironment.prototype.createTermMap=function(A){if(A===!0)return new RDFModel.UrisMap;var s=this.terms.values(),c=new RDFModel.UrisMap;for(var e in s)c[e]=s[e];return c},RDFModel.RDFEnvironment.prototype.createPrefixMap=function(A){if(A===!0)return new RDFModel.UrisMap;var s=this.prefixes.values(),c=new RDFModel.UrisMap;for(var e in s)c[e]=s[e];return c},RDFModel.RDFNode=function(A){this.interfaceName=A,this.attributes=["interfaceName","nominalValue"]},RDFModel.RDFNode.prototype.equals=function(A){if(A.interfaceName==null)return this.valueOf()==A;for(var s in this.attributes){var c=this.attributes[s];if(this[c]!=A[c])return!1}return!0},RDFModel.BlankNode=function(A){RDFModel.RDFNode.call(this,"BlankNode"),this.nominalValue="_:"+A,this.bnodeId=A},RDFModel.BlankNode.prototype=D.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.BlankNode}),RDFModel.BlankNode.prototype.toString=function(){return this.nominalValue},RDFModel.BlankNode.prototype.toNT=function(){return this.nominalValue},RDFModel.BlankNode.prototype.valueOf=function(){return this.nominalValue},RDFModel.Literal=function(A,s,c){RDFModel.RDFNode.call(this,"Literal"),this.nominalValue=A,s!=null?this.language=s:c!=null&&(this.datatype=c)},RDFModel.Literal.prototype=D.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.Literal}),RDFModel.Literal.prototype.toString=function(){var A='"'+this.nominalValue+'"';return this.language!=null?A=A+"@"+this.language:(this.datatype!=null||this.type)&&(A=A+"^^<"+(this.datatype||this.type)+">"),A},RDFModel.Literal.prototype.toNT=function(){return this.toString()},RDFModel.Literal.prototype.valueOf=function(){return O.effectiveTypeValue({token:"literal",type:this.type||this.datatype,value:this.nominalValue,language:this.language})},RDFModel.NamedNode=function(A){RDFModel.RDFNode.call(this,"NamedNode"),A.value!=null?this.nominalValue=A.value:this.nominalValue=A},RDFModel.NamedNode.prototype=D.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.NamedNode}),RDFModel.NamedNode.prototype.toString=function(){return this.nominalValue},RDFModel.NamedNode.prototype.toNT=function(){return"<"+this.toString()+">"},RDFModel.NamedNode.prototype.valueOf=function(){return this.nominalValue},RDFModel.Triple=function(A,s,c){this.subject=A,this.predicate=s,this.object=c},RDFModel.Triple.prototype.equals=function(A){return this.subject.equals(A.subject)&&this.predicate.equals(A.predicate)&&this.object.equals(A.object)},RDFModel.Triple.prototype.toString=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+` . \r
`},RDFModel.Graph=function(){this.triples=[],this.duplicates={},this.actions=[],this.length=0},RDFModel.Graph.prototype.add=function(A){for(var s=0;s<this.actions.length;s++)A=this.actions[s](A);var c=A.subject.toString()+A.predicate.toString()+A.object.toString();return this.duplicates[c]||(this.duplicates[c]=!0,this.triples.push(A)),this.length=this.triples.length,this},RDFModel.Graph.prototype.addAction=function(A,s){if(this.actions.push(A),s==!0)for(var c=0;c<this.triples.length;c++)this.triples[c]=A(this.triples[c]);return this},RDFModel.Graph.prototype.addAll=function(A){for(var s=A.toArray(),c=0;c<s.length;c++)this.add(s[c]);return this.length=this.triples.length,this},RDFModel.Graph.prototype.remove=function(A){for(var s=null,c=0;c<this.triples.length;c++)if(this.triples[c].equals(A)){var e=A.subject.toString()+A.predicate.toString()+A.object.toString();delete this.duplicates[e],s=c;break}return s!=null&&this.triples.splice(s,1),this.length=this.triples.length,this},RDFModel.Graph.prototype.toArray=function(){return this.triples},RDFModel.Graph.prototype.some=function(A){for(var s=0;s<this.triples.length;s++)if(A(this.triples[s],this)===!0)return!0;return!1},RDFModel.Graph.prototype.every=function(A){for(var s=0;s<this.triples.length;s++)if(A(this.triples[s],this)===!1)return!1;return!0},RDFModel.Graph.prototype.filter=function(A){for(var s=new RDFModel.Graph,c=0;c<this.triples.length;c++)A(this.triples[c],this)===!0&&s.add(this.triples[c]);return s},RDFModel.Graph.prototype.forEach=function(A){for(var s=0;s<this.triples.length;s++)A(this.triples[s],this)},RDFModel.Graph.prototype.merge=function(A){for(var s=new RDFModel.Graph,c=0;c<this.triples.length;c++)s.add(this.triples[c]);return s},RDFModel.Graph.prototype.match=function(A,s,c,e){for(var f=new RDFModel.Graph,o=0,h=0;h<this.triples.length;h++){var d=this.triples[h];if((A==null||d.subject.equals(A))&&(s==null||d.predicate.equals(s))&&(c==null||d.object.equals(c)))if(e==null||o<e)o++,f.add(d);else return f}return f},RDFModel.Graph.prototype.removeMatches=function(A,s,c){for(var e=[],f=0;f<this.triples.length;f++){var o=this.triples[f];(A==null||o.subject.equals(A))&&(s==null||o.predicate.equals(s))&&(c==null||o.object.equals(c))&&e.push(o)}for(var f=0;f<e.length;f++)this.remove(e[f]);return this},RDFModel.Graph.prototype.toNT=function(){var A="";return this.forEach(function(s){A=A+s.toString()}),A},RDFModel.buildRDFResource=function(A,s,c,e){if(A.token==="blank")return RDFModel.buildBlankNode(A,s,c,e);if(A.token==="literal")return RDFModel.buildLiteral(A,s,c,e);if(A.token==="uri")return RDFModel.buildNamedNode(A,s,c,e);if(A.token==="var"){var f=s[A.value];return f!=null?RDFModel.buildRDFResource(f,s,c,e):null}else return null},RDFModel.buildBlankNode=function(A,s,c,e){return A.valuetmp!=null&&(A.value=A.valuetmp),A.value.indexOf("_:")===0&&(A.value=A.value.split("_:")[1]),new RDFModel.BlankNode(A.value)},RDFModel.buildLiteral=function(A,s,c,e){return new RDFModel.Literal(A.value,A.lang,A.type)},RDFModel.buildNamedNode=function(A,s,c,e){if(A.value!=null)return new RDFModel.NamedNode(A);if(A.prefix!=null){var f=c.resolveNsInEnvironment(A.prefix,e);return A.value=f+A.suffix,new RDFModel.NamedNode(A)}else return new RDFModel.NamedNode(A)},RDFModel.rdf=new RDFModel.RDFEnvironment,X.exports=RDFModel},{"./query_filters":150,"./utils":156}],154:[function(P,X,J){var D=P("n3").Parser,O={};O.parser={async:!0,parse:function(s,c,e,f){f||(f=e,e=c,c=null),c&&typeof c=="string"&&(c={token:"uri",value:c,prefix:null,suffix:null}),e&&e.baseURI&&(e.documentIRI=e.baseURI);var o=[];new D(e).parse(s,function(h,d){h?f(h):d?o.push({subject:A(d.subject),predicate:A(d.predicate),object:A(d.object),graph:c}):f(!1,o)})},resetBlankNodeIds:function(){D._resetBlankNodeIds()}};function A(s){switch(s[0]){case'"':if(s.indexOf("^^")>0){var c=s.split("^^");return{literal:c[0]+"^^<"+c[1]+">"}}else return{literal:s};case"_":return{blank:s.replace("b","")};default:return{token:"uri",value:s,prefix:null,suffix:null}}}X.exports={RVN3Parser:O}},{n3:65}],155:[function(P,X,J){var D=P("./query_engine").QueryEngine,O=P("./quad_backend").QuadBackend,A=P("./persistent_quad_backend").PersistentQuadBackend,s=P("./lexicon").Lexicon,c=P("./persistent_lexicon").PersistentLexicon,e=P("./rdf_model"),f=P("./utils");Store=function(d,b){var w=null,v=null;if(arguments.length==0)v={};else if(arguments.length==1)v={},w=d;else if(arguments.length>1)v=d,w=b;else throw"An optional argument map and a callback must be provided";v.treeOrder==null&&(v.treeOrder=15);var l=s,x=O;v.persistent===!0&&(l=c,x=A),this.functionMap={};var T=this;this.customFns={},new l(function(I){var F=function(){new x(v,function(L){var C=function(){v.backend=L,v.lexicon=I,T.engine=new D(v),w(null,T)};v.overwrite?L.clear(C):C()})};v.overwrite===!0?I.clear(F):F()},v.name)},Store.prototype.rdf=e.rdf,Store.prototype.rdf.api=e,Store.prototype.registerCustomFunction=function(d,b){this.customFns[d]=b,this.engine.setCustomFunctions(this.customFns)},Store.prototype.execute=function(){if(arguments.length===3)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(arguments.length===4)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var d,b;if(arguments.length===1){d=arguments[0];var b=function(){}}else arguments.length===2&&(d=arguments[0],b=arguments[1]);this.engine.execute(d,b)}},Store.prototype.executeWithEnvironment=function(){var d,b,w;if(arguments.length===3){d=arguments[0];var v=function(){};b=arguments[1],w=arguments[2]}else if(arguments.length===4){d=arguments[0];var v=arguments[3];b=arguments[1],w=arguments[2]}b=f.map(b,function(l){return{token:"uri",value:l}}),w=f.map(w,function(l){return{token:"uri",value:l}}),this.engine.execute(d,v,b,w)},Store.prototype.graph=function(){var d=null,b=null;if(arguments.length===1)b=arguments[0]||function(){},d=this.engine.lexicon.defaultGraphUri;else if(arguments.length===2)b=arguments[1]||function(){},d=arguments[0];else throw"An optional graph URI and a callback function must be provided";this.rdf.resolve(d)!=null&&(d=this.rdf.resolve(d)),this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+d+"> { ?s ?p ?o } }",b)},Store.prototype.node=function(){var d=null,b=null,w=null;if(arguments.length===2)w=arguments[0],b=arguments[1]||function(){},d=this.engine.lexicon.defaultGraphUri;else if(arguments.length===3)w=arguments[0],d=arguments[1],b=arguments[2]||function(){};else throw"An optional graph URI, node URI and a callback function must be provided";this.rdf.resolve(d)!=null&&(d=this.rdf.resolve(d)),this.rdf.resolve(w)!=null&&(w=this.rdf.resolve(w)),this.engine.execute("CONSTRUCT { <"+w+"> ?p ?o } WHERE { GRAPH <"+d+"> { <"+w+"> ?p ?o } }",b)},Store.prototype.startObservingNode=function(){var d,b,w;arguments.length===2?(d=arguments[0],w=arguments[1],this.engine.callbacksBackend.observeNode(d,w,function(){})):arguments.length===3&&(d=arguments[0],b=arguments[1],w=arguments[2],this.engine.callbacksBackend.observeNode(d,b,w,function(){}))},Store.prototype.stopObservingNode=function(d){this.engine.callbacksBackend.stopObservingNode(d)},Store.prototype.startObservingQuery=function(){var d=arguments[0],b=arguments[1],w=arguments[2];w!=null?this.engine.callbacksBackend.observeQuery(d,b,w):this.engine.callbacksBackend.observeQuery(d,b,function(){})},Store.prototype.stopObservingQuery=function(d){this.engine.callbacksBackend.stopObservingQuery(d)},Store.prototype.subscribe=function(d,b,w,v,l){var x=this,T=function(I,F){var L=[],C={blanks:{},outCache:{}},_=[];f.each(F,function(E){var Q=e.buildRDFResource(E.subject,_,x.engine,C),B=e.buildRDFResource(E.predicate,_,x.engine,C),q=e.buildRDFResource(E.object,_,x.engine,C);Q!=null&&B!=null&&q!=null&&(E=new e.Triple(Q,B,q),L.push(E))}),l(I,L)};this.functionMap[l]=T,this.engine.callbacksBackend.subscribe(d,b,w,v,T,function(){})},Store.prototype.unsubscribe=function(d){var b=this.functionMap[d];this.engine.callbacksBackend.unsubscribe(b),delete this.functionMap[d]},Store.prototype.setPrefix=function(d,b){this.rdf.setPrefix(d,b)},Store.prototype.setDefaultPrefix=function(d){this.rdf.setDefaultPrefix(d)},Store.prototype.insert=function(){var d,b,w;if(arguments.length===1)b=arguments[0],w=function(){};else if(arguments.length===2)b=arguments[0],w=arguments[1]||function(){};else if(arguments.length===3)b=arguments[0],d=this.rdf.createNamedNode(arguments[1]),w=arguments[2]||function(){};else throw"The triples to insert, an optional graph and callback must be provided";var v="",l=this;b.forEach(function(x){v=v+l._nodeToQuery(x.subject)+l._nodeToQuery(x.predicate)+l._nodeToQuery(x.object)+"."}),d!=null?v="INSERT DATA { GRAPH "+this._nodeToQuery(d)+" { "+v+" } }":v="INSERT DATA { "+v+" }",this.engine.execute(v,w)},Store.prototype._nodeToQuery=function(d){if(d.interfaceName==="NamedNode"){var b=this.rdf.resolve(d.valueOf());return b!=null?"<"+b+">":"<"+d.valueOf()+">"}else return d.toString()},Store.prototype.delete=function(){var d,b,w;if(arguments.length===1)b=arguments[0],w=function(){};else if(arguments.length===2)b=arguments[0],w=arguments[1]||function(){};else if(arguments.length===3)b=arguments[0],d=this.rdf.createNamedNode(arguments[1]),w=arguments[2]||function(){};else throw"The triples to delete, an optional graph and callback must be provided";var v="",l=this;b.forEach(function(x){v=v+l._nodeToQuery(x.subject)+l._nodeToQuery(x.predicate)+l._nodeToQuery(x.object)+"."}),d!=null?v="DELETE DATA { GRAPH "+this._nodeToQuery(d)+" { "+v+" } }":v="DELETE DATA { "+v+" }",this.engine.execute(v,w)},Store.prototype.clear=function(){var d,b;if(arguments.length===0){d=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri);var b=function(){}}else if(arguments.length===1)d=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0]||function(){};else if(arguments.length===2)d=this.rdf.createNamedNode(arguments[0]),b=arguments[1]||function(){};else throw"The optional graph and a callback must be provided";var w="CLEAR GRAPH "+this._nodeToQuery(d);this.engine.execute(w,b)},Store.prototype.setBatchLoadEvents=function(d){this.engine.eventsOnBatchLoad=d},Store.prototype.registerDefaultNamespace=function(d,b){this.rdf.prefixes.set(d,b),this.engine.registerDefaultNamespace(d,b)},Store.prototype.registerDefaultProfileNamespaces=function(){var d=this.rdf.prefixes.values();for(var b in d)this.registerDefaultNamespace(b,d[b])},Store.prototype.load=function(){var d,b,w,v,l={};if(arguments.length===3)w=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),d=arguments[0],b=arguments[1],v=arguments[2]||function(){};else if(arguments.length===4)d=arguments[0],b=arguments[1],l=arguments[2],typeof l=="string"?(w=this.rdf.createNamedNode(l),l={}):(w=this.rdf.createNamedNode(l.graph||this.engine.lexicon.defaultGraphUri),delete l.graph),v=arguments[3]||function(){};else if(arguments.length===2)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";if(d==="remote"){b=this.rdf.createNamedNode(b);var x="LOAD <"+b.valueOf()+"> INTO GRAPH <"+w.valueOf()+">";this.engine.execute(x,v)}else{var T=this,I=this.engine.rdfLoader.parsers[d];if(!I)return v(new Error("Cannot find parser for the provided media type:"+d));var F=function(C,_){C?v(C,_):T.engine.batchLoad(_,function(E){E!=null?v(null,E):v(new Error("Error batch-loading triples."))})},L=[I,{token:"uri",value:w.valueOf()},b,l,F];b&&typeof b=="string"&&b.indexOf("file://")===0?this.engine.rdfLoader.loadFromFile.apply(null,L):this.engine.rdfLoader.tryToParse.apply(null,L)}},Store.prototype.registerParser=function(d,b){this.engine.rdfLoader.registerParser(d,b)},Store.prototype.registeredGraphs=function(d){this.engine.lexicon.registeredGraphs(!0,function(b){var w=f.map(b,function(v){return new e.NamedNode(v)});d(null,w)})},Store.prototype.getNetworkTransport=function(){return NetworkTransport},Store.prototype.setNetworkTransport=function(d){NetworkTransport=d},Store.prototype.close=function(d){d==null&&(d=function(){}),this.engine.close?this.engine.close(d):d()},Store.VERSION="0.9.18-alpha.17";var o=function(){var d;arguments.length==1?d=arguments[0]:arguments.length==2?d=arguments[1]:d=arguments[2],d(new Error("Store#connect is not supported in the 0.9.X series of the library"))},h=function(){return arguments.length==1?new Store(arguments[0]):arguments.length==2?new Store(arguments[0],arguments[1]):new Store};Store.yieldFrequency=function(d){f.yieldFrequency(d)},X.exports.Store=Store,X.exports.create=h,X.exports.connect=o},{"./lexicon":142,"./persistent_lexicon":145,"./persistent_quad_backend":146,"./quad_backend":147,"./query_engine":149,"./rdf_model":153,"./utils":156}],156:[function(require,module,exports){(function(process){(function(){var slowNextTick=function(){return typeof process<"u"&&process.nextTick?process.nextTick:typeof window<"u"&&window.setImmediate?window.setImmediate:function(X){setTimeout(X,0)}}(),spin=0,yieldFrequency=100,nextTick=function(P){spin++,spin<yieldFrequency?P():(spin=0,slowNextTick(P))},hashTerm=function(P){try{if(P==null)return"";if(P.token==="uri")return"u"+P.value;if(P.token==="blank")return"b"+P.value;if(P.token==="literal"){var X="l"+P.value;return X=X+(P.type||""),X=X+(P.lang||""),X}}catch{if(typeof P=="object"){var J="";for(p in P)J=J+p+P[p];return J}return P}},lexicalFormBaseUri=function(P,X){var J=null;if(X=X||{},P.value==null){var D=P.prefix,O=P.suffix,A=X.namespaces[D];A!=null?J=A+O:J=D+":"+O}else J=P.value;return J===null?null:(J.indexOf(":")==-1&&(J=(X.base||"")+J),J)};parseISO8601=function(P){return Date.parse(P)},Date.prototype.toISOString||function(){function P(X){return X<10?"0"+X:X}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+P(this.getUTCMonth()+1)+"-"+P(this.getUTCDate())+"T"+P(this.getUTCHours())+":"+P(this.getUTCMinutes())+":"+P(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}(),iso8601=function(P){return P.toISOString()},compareDateComponents=function(P,X){var J=parseISO8601(P),D=parseISO8601(X);return J==D?0:J<D?-1:1},lexicalFormLiteral=function(P,X){var J=P.value,D=P.lang,O=P.type,A=null;if(J!=null&&O!=null&&typeof O!="string"){var s=O.value;if(s==null){var c=O.prefix,e=O.suffix,f=X.namespaces[c];P.type=f+e,s=f+e}s.indexOf("hexBinary")!=-1?A='"'+P.value.toLowerCase()+'"^^<'+s+">":A='"'+P.value+'"^^<'+s+">"}else D==null&&O==null?A='"'+J+'"':O==null?A='"'+J+'"@'+D:O.indexOf("hexBinary")!=-1?A='"'+P.value.toLowerCase()+'"^^<'+O+">":A='"'+P.value+'"^^<'+O+">";return A},normalizeUnicodeLiterals=function(string){for(var escapedUnicode=string.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||[],dups={},i=0;i<escapedUnicode.length;i++)dups[escapedUnicode[i]]==null&&(dups[escapedUnicode[i]]=!0,string=string.replace(new RegExp("\\"+escapedUnicode[i],"g"),eval("'"+escapedUnicode[i]+"'")));return string},registerIndexedDB=function(P){if(typeof window>"u"&&typeof process<"u"&&process.browser===!1){var X=_dereq_("sqlite3"),J=_dereq_("indexeddb-js"),D=new X.Database(":memory:"),O=J.makeScope("sqlite3",D);P.indexedDB=O.indexedDB,P.IDBKeyRange=O.IDBKeyRange}else{var A;typeof window>"u"?A=self:A=window,A.indexedDB=A.indexedDB||A.mozIndexedDB||A.webkitIndexedDB||A.msIndexedDB,A.IDBKeyRange=A.IDBKeyRange||A.webkitIDBKeyRange||A.msIDBKeyRange,A.indexedDB?(P.indexedDB=A.indexedDB,P.IDBKeyRange=A.IDBKeyRange):console.log("The browser does not support IndexDB.")}},guid=function(){function P(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return P()+P()+"-"+P()+"-"+P()+"-"+P()+"-"+P()+P()+P()},hashTerm=function(P){try{if(P==null)return"";if(P.token==="uri")return"u"+P.value;if(P.token==="blank")return"b"+P.value;if(P.token==="literal"){var X="l"+P.value;return X=X+(P.type||""),X=X+(P.lang||""),X}}catch{if(typeof P=="object"){var J="";for(p in P)J=J+p+P[p];return J}return P}};var reject=function(P,X){for(var J=[],D=0;D<P.length;D++)X(P[D])&&J.push(P[D]);return J},include=function(P,X){for(var J=0;J<P.length;J++)if(P[J]===X)return!0;return!1},each=function(P,X){if(P.forEach)P.forEach(X);else for(var J=0;J<P.length;J++)X(P[J])},map=function(P,X){if(P.map)return P.map(X);for(var J=[],D=0;D<P.length;D++)J[D]=X(P[D]);return J},keys=function(P){var X=[];for(var J in P)X.push(J);return X},values=function(P){var X=[];for(var J in P)X.push(P[J]);return X},size=function(P){if(P.length)return P.length;var X=0;for(var J in P)X++;return X};clone=function(P){return JSON.parse(JSON.stringify(P))};var isObject=function(P){var X=typeof P;return X=="function"||P&&X=="object"||!1},create=function(){function P(){}return function(X){if(isObject(X)){P.prototype=X;var J=new P;P.prototype=null}return J||void 0}}(),whilst=function(P,X,J){P()?X(function(D){if(D)return J(D);whilst(P,X,J)}):J()},eachSeries=function(P,X,J){if(J=J||function(){},!P.length)return J();var D=0,O=function(){X(P[D],function(A){A?(J(A),J=function(){}):(D+=1,D>=P.length?J():nextTick(O))})};O()},eachParallel=function(P,X,J){if(J=J||function(){},!P.length)return J();for(var D=!1,O=0,A=function(c){if(c)throw D=!0,new Error(c);D||(O++,O===P.length&&J())},s=0;s<P.length;s++)(function(c,e,f,o){nextTick(function(){try{o(c[e],function(){f()})}catch(h){f(h)}})})(P,s,A,X)},reduce=function(P,X,J,D){eachSeries(P,function(O,A){J(X,O,function(s,c){X=c,A(s)})},function(O){D(O,X)})},seq=function(){var P=arguments;return function(){var X=this,J=Array.prototype.slice.call(arguments),D=J.pop();reduce(P,J,function(O,A,s){A.apply(X,O.concat([function(){var c=arguments[0],e=Array.prototype.slice.call(arguments,1);s(c,e)}]))},function(O,A){D.apply(X,[O].concat(A))})}},isWorker=function(){return typeof process>"u"||process.browser===!0?typeof window>"u":!1};module.exports={isWorker,nextTick,hasTerm:hashTerm,lexicalFormBaseUri,parseISO8601,compareDateComponents,iso8601,normalizeUnicodeLiterals,lexicalFormLiteral,registerIndexedDB,guid,hashTerm,keys,values,size,map,each,forEach:each,include,reject,remove:reject,clone,create,whilst,eachSeries,eachParallel,seq,yieldFrequency:function(P){yieldFrequency=P}}}).call(this)}).call(this,require("_process"))},{_process:75}]},{},[155])(155)});function dateConverter(P){const X=17214255e-1,J={GREGORIAN:{name:"Gregorian",short:"G",n_months:12},JULIAN:{name:"Julian",short:"Ju",n_months:12},JEWISH:{name:"Jewish",short:"Je",n_months:13},FRENCH:{name:"Revol.",short:"R",n_months:13}},D=["So","Mo","Di","Mi","Do","Fr","Sa"],O={GREGORIAN:["ZERO","Jan","Feb","M\xE4rz","Apr","Mai","Juni","Juli","Aug","Sep","Okt","Nov","Dez"],JULIAN:["ZERO","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],JEWISH:["ZERO","Tishri","Heshvan","Kislev","Tevet","Shevat","AdarI","AdarII","Nisan","Iyyar","Sivan","Tammuz","Av","Elul"],FRENCH:["ZERO","Vendemiaire","Brumaire","Frimaire","Nivose","Pluviose","Ventose","Germinal","Floreal","Prairial","Messidor","Thermidor","Fructidor","Extra"]};function A(w,v){return w-v*Math.floor(w/v)}function s(w){return w=Number(w),A(Math.floor(w+1.5),7)}function c(w){return w=parseInt(w),w%4==0&&!(w%100==0&&w%400!=0)}function e(w,v,l){return X-1+365*(w-1)+Math.floor((w-1)/4)+-Math.floor((w-1)/100)+Math.floor((w-1)/400)+Math.floor((367*v-362)/12+(v<=2?0:c(w)?-1:-2)+l)}function f(w){let v,l,x,T,I,F,L,C,_,E,Q,B,q,K;return v=Math.floor(w-.5)+.5,l=v-X,x=Math.floor(l/146097),T=A(l,146097),I=Math.floor(T/36524),F=A(T,36524),L=Math.floor(F/1461),C=A(F,1461),_=Math.floor(C/365),E=x*400+I*100+L*4+_,I==4||_==4||E++,Q=v-e(E,1,1),B=v<e(E,3,1)?0:c(E)?1:2,q=Math.floor(((Q+B)*12+373)/367),K=v-e(E,q,1)+1,E<=0&&E--,new Array(E,q,K)}function o(w,v){w=parseInt(w);const l={};let x;switch(v){case"GREGORIAN":case"gregorian":{x=f(w);break}case"JULIAN":case"julian":{x=S.jd_to_julian(w);break}case"JEWISH":case"jewish":{x=S.jd_to_hebrew(w);break}case"FRENCH":case"french":{x=S.jd_to_french_revolutionary(w);break}}return l.year=x[0],l.month=x[1],l.day=x[2],l.weekday=s(w),l}const h=o(P.dateval1,P.calendar),d=o(P.dateval2,P.calendar);let b="";if(P.dateprecision1==P.dateprecision2)switch(P.dateprecision1){case"DAY":{h.year===d.year&&h.month===d.month&&h.day===d.day?b="["+D[h.weekday]+"] "+h.day+". "+O[P.calendar][h.month]+" "+h.year:b="["+D[h.weekday]+"] "+h.day+". "+O[P.calendar][h.month]+" "+h.year+" \u2013 ["+D[d.weekday]+"] "+d.day+". "+O[P.calendar][d.month]+" "+d.year;break}case"MONTH":{h.year===d.year&&h.month===d.month?b=O[P.calendar][h.month]+" "+h.year:b=O[P.calendar][h.month]+" "+h.year+" \u2013 "+O[P.calendar][d.month]+" "+d.year;break}case"YEAR":{h.year===d.year?b=h.year:b=h.year+"\u2013"+d.year;break}}else{switch(P.dateprecision1){case"DAY":{b="["+D[h.weekday]+"] "+h.day+". "+O[P.calendar][h.month]+" "+h.year;break}case"MONTH":{b=O[P.calendar][h.month]+" "+h.year;break}case"YEAR":{b=h.year;break}}switch(b+=" \u2013 ",P.dateprecision2){case"DAY":{b+="["+D[d.weekday]+"] "+d.day+". "+O[P.calendar][d.month]+" "+d.year;break}case"MONTH":{b+=O[P.calendar][d.month]+" "+d.year;break}case"YEAR":{b+=d.year;break}}}return b+=" ("+J[P.calendar].short+")",b}function htmlConverter(P,X){let J="",D,O,A,s,c,e,f,o,h,d;const b={p:0,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,ol:0,ul:0,li:1,a:2,strong:3,u:3,s:3,em:3,span:3,sup:3,sub:3},w={};w.settings={utf8str:"",textattr:{},css:{width:"100%",minHeight:"30px"},matching:{strong:"bold",u:"underline",s:"strikethrough",em:"italic",a:"_link",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",ol:"ol",ul:"ul",li:"li",span:"style",p:"p",sup:"sup",sub:"sub"}};const v={};for(let x in w.settings.matching)v[w.settings.matching[x]]=x;const l=Object.keys(P);l.sort(function(x,T){return b[v[x]]-b[v[T]]}),D=[];for(let x in l){e=l[x];for(f in P[e])A=P[e][f].start,D[A]===void 0&&(D[A]=[]),D[A].push({propname:e,proptype:"start"}),D[A][D[A].length-1].propname=="_link"?(D[A][D[A].length-1].href=P[e][f].href,P[e][f].resid!==void 0&&(D[A][D[A].length-1].resid=P[e][f].resid)):D[A][D[A].length-1].propname=="style"&&(D[A][D[A].length-1].css=P[e][f].css),A=P[e][f].end,D[A]===void 0&&(D[A]=[]),D[A].push({propname:e,proptype:"end"})}for(O=[],o=0;o<=X.length;o++){if(D[o]!==void 0){for(c=[],d=[],h=D[o].length-1;h>=0;h--)if(D[o][h].proptype=="end"&&D[o][h].propname!="linebreak"){for(;(s=O.pop())!==void 0&&(J+="</"+v[s]+">",s!=D[o][h].propname);)c.push(s);for(;(s=c.pop())!==void 0;)O.push(s),J+="<"+v[s]+">"}for(h in D[o])if(D[o][h].proptype=="start")if(D[o][h].propname=="linebreak")J+="<br />";else if(D[o][h].propname=="_link"){O.push(D[o][h].propname);let x=D[o][h].href;x===void 0&&D[o][h].resid!==void 0&&(x="https://www.salsah.org/api/resources/"+D[o][h].resid),J+="<"+v[D[o][h].propname]+' href="'+x,D[o][h].resid!==void 0?J+='" class="salsah-link">':J+='">'}else D[o][h].propname=="style"?(O.push(D[o][h].propname),J+="<"+v[D[o][h].propname]+' style="'+D[o][h].css+'">'):(O.push(D[o][h].propname),J+="<"+v[D[o][h].propname]+">")}o<X.length&&(J+=X.charAt(o))}return J=J.replace(/\n/g,"<br />"),J=J.replace(/\r/g,""),J}
