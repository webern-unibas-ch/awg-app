<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>awg-app documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
        <link rel="stylesheet" href="../styles/Readthedocs.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">awg-app documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >GraphVisualizerService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-graph/graph-visualizer/services/graph-visualizer.service.ts</code>
        </p>


            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>The GraphVisualizer service.</p>
<p>It handles the query requests of the graph visualizer.</p>

            </p>



            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_store" >_store</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_abbreviate" >_abbreviate</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_createStore" >_createStore</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_executeQuery" >_executeQuery</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_extractNamespacesFromString" >_extractNamespacesFromString</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_extractQNamePrefixesFromSPARQLWhereClause" >_extractQNamePrefixesFromSPARQLWhereClause</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_loadTriplesInStore" >_loadTriplesInStore</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_mapKeys" >_mapKeys</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_prepareConstructResponse" >_prepareConstructResponse</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_prepareMappedBindings" >_prepareMappedBindings</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_prepareSelectResponse" >_prepareSelectResponse</a>
                            </li>
                            <li>
                                <a href="#checkNamespacesInQuery" >checkNamespacesInQuery</a>
                            </li>
                            <li>
                                <a href="#doQuery" >doQuery</a>
                            </li>
                            <li>
                                <a href="#getQuerytype" >getQuerytype</a>
                            </li>
                            <li>
                                <a href="#limitTriples" >limitTriples</a>
                            </li>
                            <li>
                                <a href="#parseTripleString" >parseTripleString</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(prefixPipe: <a href="../classes/Prefix.html" target="_self">PrefixPipe</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="42" class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-graph/graph-visualizer/services/graph-visualizer.service.ts:42</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Constructor of the GraphVisualizerService.</p>
<p>It declares a private instance of the <a href="../pipes/PrefixPipe.html">PrefixPipe</a>.</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>prefixPipe</td>
                                                  
                                                        <td>
                                                                        <code><a href="../classes/Prefix.html" target="_self" >PrefixPipe</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>Instance of the PrefixPipe.</p>

                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_abbreviate"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_abbreviate</b></span>
                        <a href="#_abbreviate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>_abbreviate(iri: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, namespaces: <a href="../interfaces/Namespace.html" target="_self">Namespace</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="225"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-graph/graph-visualizer/services/graph-visualizer.service.ts:225</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Private method: _abbreviate.</p>
<p>It abbreviates the namespaces of a given iri.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>iri</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given iri string.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>namespaces</td>
                                            <td>
                                                            <code><a href="../interfaces/Namespace.html" target="_self" >Namespace</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given namespaces.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>The abbreviated or original iri string.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_createStore"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_createStore</b></span>
                        <a href="#_createStore"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>_createStore(store)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="248"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-graph/graph-visualizer/services/graph-visualizer.service.ts:248</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Private method: _createStore.</p>
<p>It creates an instance of the rdfstore.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>store</td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given rdfstore.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise of the rdfstore instance.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_executeQuery"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_executeQuery</b></span>
                        <a href="#_executeQuery"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>_executeQuery(store: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, query: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="269"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-graph/graph-visualizer/services/graph-visualizer.service.ts:269</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Private method: _executeQuery.</p>
<p>It executes a given query against a given triple store.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>store</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given triplestore.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>query</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given query string.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;RDFStoreConstructResponse | RDFStoreSelectResponse&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise of the rdfstore construct or select response.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_extractNamespacesFromString"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_extractNamespacesFromString</b></span>
                        <a href="#_extractNamespacesFromString"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>_extractNamespacesFromString(type: <a href="../undefineds/NamespaceType.html" target="_self">NamespaceType</a>, str: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="292"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-graph/graph-visualizer/services/graph-visualizer.service.ts:292</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Private method: _extractNamespacesFromString.</p>
<p>It extracts the namespaces (qname: <baseURI>) of a given type (SPARQL, TURTLE)
from a given string.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>type</td>
                                            <td>
                                                            <code><a href="../miscellaneous/enumerations.html#NamespaceType" target="_self" >NamespaceType</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given namespace type.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>str</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given string.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Namespace.html" target="_self" >Namespace</a></code>

                        </div>
                            <div class="io-description">
                                <p>A namespace object.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_extractQNamePrefixesFromSPARQLWhereClause"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_extractQNamePrefixesFromSPARQLWhereClause</b></span>
                        <a href="#_extractQNamePrefixesFromSPARQLWhereClause"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>_extractQNamePrefixesFromSPARQLWhereClause(query: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="324"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-graph/graph-visualizer/services/graph-visualizer.service.ts:324</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Private method: _extractQNamePrefixesFromSPARQLWhereClause.</p>
<p>It identifies the qname prefixes that are used in the WHERE clause of a SPARQL query.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>query</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given query string.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>string[]</code>

                        </div>
                            <div class="io-description">
                                <p>A string array of the used qname prefixes.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_loadTriplesInStore"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_loadTriplesInStore</b></span>
                        <a href="#_loadTriplesInStore"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>_loadTriplesInStore(store: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, triples: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, mimeType?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="351"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-graph/graph-visualizer/services/graph-visualizer.service.ts:351</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Private method: _loadTriplesInStore.</p>
<p>It loads the given triple string into the given triplestore.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>store</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given triplestore.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>triples</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given triple string.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>mimeType</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <p>The optional given mimetype.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;number&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise of the size of the triples loaded into the store.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_mapKeys"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_mapKeys</b></span>
                        <a href="#_mapKeys"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>_mapKeys(obj: Record<string | string>, keyMap: Record<string | string>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="377"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-graph/graph-visualizer/services/graph-visualizer.service.ts:377</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Private method: _mapKeys.</p>
<p>It maps the keys of a given key-value paired object to given newKeys.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>obj</td>
                                            <td>
                                                        <code>Record&lt;string | string&gt;</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given object.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>keyMap</td>
                                            <td>
                                                        <code>Record&lt;string | string&gt;</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Record&lt;string, string&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>An object with the new keys.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_prepareConstructResponse"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_prepareConstructResponse</b></span>
                        <a href="#_prepareConstructResponse"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>_prepareConstructResponse(storeTriples: RDFStoreConstructResponseTriple[], namespaces: <a href="../interfaces/Namespace.html" target="_self">Namespace</a>, mimeType?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="441"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-graph/graph-visualizer/services/graph-visualizer.service.ts:441</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Private method: _prepareConstructResponse.</p>
<p>It prepares the triples of the construct response.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>storeTriples</td>
                                            <td>
                                                        <code>RDFStoreConstructResponseTriple[]</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given triples from the rdf construct response.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>namespaces</td>
                                            <td>
                                                            <code><a href="../interfaces/Namespace.html" target="_self" >Namespace</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given namespaces.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>mimeType</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <p>The given optional mimeType.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Triple.html" target="_self" >Triple[]</a></code>

                        </div>
                            <div class="io-description">
                                <p>The array of abbreviated triples.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_prepareMappedBindings"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_prepareMappedBindings</b></span>
                        <a href="#_prepareMappedBindings"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>_prepareMappedBindings(selectResponse: <a href="../interfaces/RDFStoreSelectResponse.html" target="_self">RDFStoreSelectResponse</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="403"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-graph/graph-visualizer/services/graph-visualizer.service.ts:403</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Private method: _prepareMappedBindings.</p>
<p>It prepares the bindings with mapped keys and label of a given select response.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>selectResponse</td>
                                            <td>
                                                            <code><a href="../interfaces/RDFStoreSelectResponse.html" target="_self" >RDFStoreSelectResponse</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given select response.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>QueryResultBindings[]</code>

                        </div>
                            <div class="io-description">
                                <p>The array of bindings.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_prepareSelectResponse"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_prepareSelectResponse</b></span>
                        <a href="#_prepareSelectResponse"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>_prepareSelectResponse(selectResponse: <a href="../interfaces/RDFStoreSelectResponse.html" target="_self">RDFStoreSelectResponse</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="477"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-graph/graph-visualizer/services/graph-visualizer.service.ts:477</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Private method: _prepareSelectResponse.</p>
<p>It prepares the data of the select response.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>selectResponse</td>
                                            <td>
                                                            <code><a href="../interfaces/RDFStoreSelectResponse.html" target="_self" >RDFStoreSelectResponse</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given selectResponse.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>literal type</code>

                        </div>
                            <div class="io-description">
                                <p>: number; data: QueryResult | string } An object with a status code, and the data as QueryResult or string.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkNamespacesInQuery"></a>
                    <span class="name">
                        <span ><b>checkNamespacesInQuery</b></span>
                        <a href="#checkNamespacesInQuery"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>checkNamespacesInQuery(queryStr: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, turtleStr: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="64"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-graph/graph-visualizer/services/graph-visualizer.service.ts:64</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Public method: checkNamespacesInQuery.</p>
<p>It checks the existing namespaces and prefixes in a SPARQL query
and appends missing prefix declarations, if possible, from the Turtle string.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>queryStr</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given SPARQL query string.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>turtleStr</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given Turtle string.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>The query with appended namespaces.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="doQuery"></a>
                    <span class="name">
                        <span ><b>doQuery</b></span>
                        <a href="#doQuery"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>doQuery(queryType: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, query: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, ttlString: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, mimeType?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="103"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-graph/graph-visualizer/services/graph-visualizer.service.ts:103</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Public method: doQuery.</p>
<p>It performs a query against the rdfstore.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>queryType</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given query type.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>query</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given query.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>ttlString</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given turtle string.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>mimeType</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <p>The optional given mimetype.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/QueryResult.html" target="_self" >Promise&lt;string | QueryResult | []&gt;</a></code>

                        </div>
                            <div class="io-description">
                                <p>A promise of the query result triples.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getQuerytype"></a>
                    <span class="name">
                        <span ><b>getQuerytype</b></span>
                        <a href="#getQuerytype"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getQuerytype(query: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="149"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-graph/graph-visualizer/services/graph-visualizer.service.ts:149</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Public method: getQuerytype.</p>
<p>It gets the query type from a given query.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>query</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given query.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>string | null</code>

                        </div>
                            <div class="io-description">
                                <p>The query type.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="limitTriples"></a>
                    <span class="name">
                        <span ><b>limitTriples</b></span>
                        <a href="#limitTriples"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>limitTriples(triples: <a href="../interfaces/Triple.html" target="_self">Triple[]</a>, limit: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="180"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-graph/graph-visualizer/services/graph-visualizer.service.ts:180</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Public method: limitTriples.</p>
<p>It limits a given array of triples by a given limit.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>triples</td>
                                            <td>
                                                            <code><a href="../interfaces/Triple.html" target="_self" >Triple[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given triples array.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>limit</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given limit.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Triple.html" target="_self" >Triple[]</a></code>

                        </div>
                            <div class="io-description">
                                <p>The array of limited triples.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="parseTripleString"></a>
                    <span class="name">
                        <span ><b>parseTripleString</b></span>
                        <a href="#parseTripleString"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>parseTripleString(triples: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="196"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-graph/graph-visualizer/services/graph-visualizer.service.ts:196</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Public method: parseTripleString.</p>
<p>It parses the triples from a given triple string.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>triples</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given triple string.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;literal type&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise of the parsed triples.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_store"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_store</b></span>
                        <a href="#_store"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="42" class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-graph/graph-visualizer/services/graph-visualizer.service.ts:42</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Private variable: _store.</p>
<p>It keeps the rdfstore instance.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable } from &#x27;@angular/core&#x27;;

import * as N3 from &#x27;n3&#x27;;

import {
    Namespace,
    NamespaceType,
    PrefixForm,
    QueryResult,
    QueryResultBindings,
    RDFStoreConstructResponse,
    RDFStoreConstructResponseTriple,
    RDFStoreSelectResponse,
    Triple,
} from &#x27;../models&#x27;;
import { PrefixPipe } from &#x27;../prefix-pipe&#x27;;

/**
 * Declared variable: rdfstore.
 *
 * It provides access to the rdfstore library.
 */
declare let rdfstore: any;

/**
 * The GraphVisualizer service.
 *
 * It handles the query requests of the graph visualizer.
 */
@Injectable()
export class GraphVisualizerService {
    /**
     * Private variable: _store.
     *
     * It keeps the rdfstore instance.
     */
    private _store: any;

    /**
     * Constructor of the GraphVisualizerService.
     *
     * It declares a private instance of the {@link PrefixPipe}.
     *
     * @param {PrefixPipe} prefixPipe Instance of the PrefixPipe.
     */
    constructor(private prefixPipe: PrefixPipe) {}

    /**
     * Public method: checkNamespacesInQuery.
     *
     * It checks the existing namespaces and prefixes in a SPARQL query
     * and appends missing prefix declarations, if possible, from the Turtle string.
     *
     * @param {string} queryStr The given SPARQL query string.
     * @param {string} turtleStr The given Turtle string.
     *
     * @returns {string} The query with appended namespaces.
     */
    checkNamespacesInQuery(queryStr: string, turtleStr: string): string {
        if (!queryStr || !turtleStr) {
            return undefined;
        }
        const turtleNamespaces: Namespace &#x3D; this._extractNamespacesFromString(NamespaceType.TURTLE, turtleStr);
        const sparqlNamespaces: Namespace &#x3D; this._extractNamespacesFromString(NamespaceType.SPARQL, queryStr);
        const sparqlPrefixes: string[] &#x3D; this._extractQNamePrefixesFromSPARQLWhereClause(queryStr);
        const sparqlNamespaceKeys &#x3D; new Set(Object.keys(sparqlNamespaces));

        let missingNamespacesStr &#x3D; &#x27;&#x27;;

        // Merge turtle namespaces with those from SPARQL WHERE clause (expanded if any)
        // And add missing prefixes to the SPARQL query
        [
            ...Object.entries(turtleNamespaces),
            ...sparqlPrefixes.map(prefix &#x3D;&gt; [prefix, this.prefixPipe.transform(prefix, PrefixForm.LONG)]),
        ].forEach(([key, value]) &#x3D;&gt; {
            if (!sparqlNamespaceKeys.has(key) &amp;&amp; key !&#x3D;&#x3D; value) {
                missingNamespacesStr +&#x3D; &#x60;PREFIX ${key}: &lt;${value}&gt;\n&#x60;;
            } else if (key &#x3D;&#x3D;&#x3D; value) {
                console.error(&#x60;Prefix &#x27;${key}&#x27; is unknown. Please provide a declaration.&#x60;);
            }
        });

        return missingNamespacesStr + queryStr;
    }

    /**
     * Public method: doQuery.
     *
     * It performs a query against the rdfstore.
     *
     * @param {string} queryType The given query type.
     * @param {string} query The given query.
     * @param {string} ttlString The given turtle string.
     * @param {string} [mimeType] The optional given mimetype.
     *
     * @returns {Promise&lt;Triple[]&gt;} A promise of the query result triples.
     */
    doQuery(
        queryType: string,
        query: string,
        ttlString: string,
        mimeType?: string
    ): Promise&lt;string | QueryResult | Triple[]&gt; {
        if (!mimeType) {
            mimeType &#x3D; &#x27;text/turtle&#x27;;
        }

        return this._createStore(rdfstore)
            .then(store &#x3D;&gt; {
                this._store &#x3D; store;

                return this._loadTriplesInStore(store, ttlString, mimeType);
            })
            .then((_storeSize: number) &#x3D;&gt; this._executeQuery(this._store, query))
            .then((res: RDFStoreConstructResponse | RDFStoreSelectResponse) &#x3D;&gt; {
                // Reformat data if select query
                if (queryType &#x3D;&#x3D;&#x3D; &#x27;select&#x27;) {
                    const response &#x3D; res as RDFStoreSelectResponse;
                    const selectResponse &#x3D; this._prepareSelectResponse(response);
                    return selectResponse.data;
                }

                // Reformat data if construct query
                if (queryType &#x3D;&#x3D;&#x3D; &#x27;construct&#x27;) {
                    const response &#x3D; res as RDFStoreConstructResponse;
                    const namespaces &#x3D; this._extractNamespacesFromString(NamespaceType.TURTLE, ttlString);
                    const constructResponse &#x3D; this._prepareConstructResponse(response.triples, namespaces, mimeType);
                    return constructResponse;
                }

                return undefined;
            });
    }

    /**
     * Public method: getQuerytype.
     *
     * It gets the query type from a given query.
     *
     * @param {string} query The given query.
     *
     * @returns {string} The query type.
     */
    getQuerytype(query: string): string | null {
        const queryTypes &#x3D; [&#x27;select&#x27;, &#x27;construct&#x27;, &#x27;ask&#x27;, &#x27;count&#x27;, &#x27;describe&#x27;, &#x27;insert&#x27;, &#x27;delete&#x27;];

        let lowestIndex &#x3D; Infinity;
        let foundType: string | null &#x3D; null;

        queryTypes.forEach(type &#x3D;&gt; {
            const index &#x3D; query.toLowerCase().indexOf(type);
            if (index !&#x3D;&#x3D; -1 &amp;&amp; index &lt; lowestIndex) {
                lowestIndex &#x3D; index;
                foundType &#x3D; type;
            }
        });

        if (foundType &#x3D;&#x3D;&#x3D; null) {
            return null;
        }

        return foundType &#x3D;&#x3D;&#x3D; &#x27;insert&#x27; || foundType &#x3D;&#x3D;&#x3D; &#x27;delete&#x27; ? &#x27;update&#x27; : foundType;
    }

    /**
     * Public method: limitTriples.
     *
     * It limits a given array of triples by a given limit.
     *
     * @param {Triple[]} triples The given triples array.
     * @param {number} limit The given limit.
     *
     * @returns {Triple[]} The array of limited triples.
     */
    limitTriples(triples: Triple[], limit: number): Triple[] {
        if (!triples) {
            return [];
        }
        return triples.length &gt; limit ? triples.slice(0, limit) : triples;
    }

    /**
     * Public method: parseTripleString.
     *
     * It parses the triples from a given triple string.
     *
     * @param {string} triples The given triple string.
     *
     * @returns {Promise&lt;{triples; namespaces}&gt;} A promise of the parsed triples.
     */
    parseTripleString(triples: string): Promise&lt;{ quads: N3.DataFactory.quad[]; namespaces: N3.DataFactory.prefixes }&gt; {
        const parser &#x3D; new N3.Parser();
        const jsonTriples &#x3D; [];

        return new Promise((resolve, reject) &#x3D;&gt; {
            parser.parse(triples, (error, quad, prefixes) &#x3D;&gt; {
                if (error) {
                    reject(error);
                    return;
                }
                if (quad) {
                    jsonTriples.push(quad);
                } else {
                    resolve({ quads: jsonTriples, namespaces: prefixes });
                }
            });
        });
    }

    /**
     * Private method: _abbreviate.
     *
     * It abbreviates the namespaces of a given iri.
     *
     * @param {string} iri The given iri string.
     * @param {Namespace} namespaces The given namespaces.
     *
     * @returns {string} The abbreviated or original iri string.
     */
    private _abbreviate(iri: string, namespaces: Namespace): string {
        if (!iri?.startsWith(&#x27;http&#x27;) || !namespaces) {
            return iri;
        }

        for (const [namespaceKey, namespaceValue] of Object.entries(namespaces)) {
            if (iri.includes(namespaceValue)) {
                return iri.replace(namespaceValue, namespaceKey + &#x27;:&#x27;);
            }
        }

        return iri;
    }

    /**
     * Private method: _createStore.
     *
     * It creates an instance of the rdfstore.
     *
     * @param {typeof rdfstore} store The given rdfstore.
     *
     * @returns {Promise&lt;any&gt;} A promise of the rdfstore instance.
     */
    private _createStore(store: typeof rdfstore): Promise&lt;any&gt; {
        return new Promise((resolve, reject) &#x3D;&gt; {
            store.create((err, createdStore) &#x3D;&gt; {
                if (err) {
                    reject(err);
                }
                resolve(createdStore);
            });
        });
    }

    /**
     * Private method: _executeQuery.
     *
     * It executes a given query against a given triple store.
     *
     * @param {any} store The given triplestore.
     * @param {string} query The given query string.
     *
     * @returns {Promise&lt;RDFStoreConstructResponse | RDFStoreSelectResponse&gt;} A promise of the rdfstore construct or select response.
     */
    private _executeQuery(store: any, query: string): Promise&lt;RDFStoreConstructResponse | RDFStoreSelectResponse&gt; {
        return new Promise((resolve, reject) &#x3D;&gt; {
            store.execute(query, (err, res: RDFStoreConstructResponse | RDFStoreSelectResponse) &#x3D;&gt; {
                if (err) {
                    console.error(&#x27;_executeQuery# got ERROR&#x27;, err);
                    reject(err);
                }
                resolve(res);
            });
        });
    }

    /**
     * Private method: _extractNamespacesFromString.
     *
     * It extracts the namespaces (qname: &lt;baseURI&gt;) of a given type (SPARQL, TURTLE)
     * from a given string.
     *
     * @param {NamespaceType} type The given namespace type.
     * @param {string} str The given string.
     *
     * @returns {Namespace} A namespace object.
     */
    private _extractNamespacesFromString(type: NamespaceType, str: string): Namespace {
        let regex: RegExp;
        switch (type) {
            case NamespaceType.TURTLE:
                regex &#x3D; /@prefix\s+(\w+):\s+&lt;([^&gt;]+)&gt;/g;
                break;
            case NamespaceType.SPARQL:
                regex &#x3D; /PREFIX\s+(\w+):\s+&lt;([^&gt;]+)&gt;/g;
                break;
            default:
                const exhaustiveCheck: never &#x3D; type;
                throw new Error(&#x60;The type must be TURTLE or SPARQL, but was: ${exhaustiveCheck}.&#x60;);
        }

        const namespaces: Namespace &#x3D; {};
        for (const match of str.matchAll(regex)) {
            const [_, prefix, namespaceName] &#x3D; match;
            namespaces[prefix] &#x3D; namespaceName;
        }

        return namespaces;
    }

    /**
     * Private method: _extractQNamePrefixesFromSPARQLWhereClause.
     *
     * It identifies the qname prefixes that are used in the WHERE clause of a SPARQL query.
     *
     * @param {string} query The given query string.
     *
     * @returns {string[]} A string array of the used qname prefixes.
     */
    private _extractQNamePrefixesFromSPARQLWhereClause(query: string): string[] {
        const where &#x3D; &#x27;WHERE {&#x27;;
        const regex &#x3D; /\b([a-zA-Z_][a-zA-Z0-9._-]{0,15}):/g;

        // Find WHERE clause
        const start &#x3D; query.toLowerCase().indexOf(where.toLowerCase());
        const queryStr &#x3D; start !&#x3D;&#x3D; -1 ? query.slice(start) : query;

        // Find prefixes in query using matchAll
        const matches &#x3D; queryStr.matchAll(regex);
        // Use captured group (index 1) to return prefixes without the colon
        const prefixes &#x3D; new Set&lt;string&gt;(Array.from(matches, match &#x3D;&gt; match[1]));

        return Array.from(prefixes);
    }

    /**
     * Private method: _loadTriplesInStore.
     *
     * It loads the given triple string into the given triplestore.
     *
     * @param {any} store The given triplestore.
     * @param {string} triples The given triple string.
     * @param {string} [mimeType] The optional given mimetype.
     *
     * @returns {Promise&lt;number&gt;} A promise of the size of the triples loaded into the store.
     */
    private _loadTriplesInStore(store: any, triples: string, mimeType?: string): Promise&lt;number&gt; {
        if (!mimeType) {
            mimeType &#x3D; &#x27;text/turtle&#x27;;
        }

        return new Promise((resolve, reject) &#x3D;&gt; {
            store.load(mimeType, triples, (err, size: number) &#x3D;&gt; {
                if (err) {
                    console.error(&#x27;_loadTriplesInStore# got ERROR&#x27;, err);
                    reject(err);
                }
                resolve(size);
            });
        });
    }

    /**
     * Private method: _mapKeys.
     *
     * It maps the keys of a given key-value paired object to given newKeys.
     *
     * @param {Record&lt;string, string&gt;} obj The given object.
     * @param {Record&lt;string, string&gt;} newKeysObj The given new keys object.
     *
     * @returns {Record&lt;string, string&gt;} An object with the new keys.
     */
    private _mapKeys(obj: Record&lt;string, string&gt;, keyMap: Record&lt;string, string&gt;): Record&lt;string, string&gt; {
        if (!obj) {
            return {};
        }
        if (!keyMap) {
            return obj;
        }
        return Object.entries(obj).reduce(
            (acc, [key, value]) &#x3D;&gt; {
                const newKey &#x3D; keyMap[key] || key;
                acc[newKey] &#x3D; value;
                return acc;
            },
            {} as { [key: string]: string }
        );
    }

    /**
     * Private method: _prepareMappedBindings.
     *
     * It prepares the bindings with mapped keys and label of a given select response.
     *
     * @param {RDFStoreSelectResponse} selectResponse The given select response.
     *
     * @returns {QueryResultBindings[]} The array of bindings.
     */
    private _prepareMappedBindings(selectResponse: RDFStoreSelectResponse): QueryResultBindings[] {
        const xmlsInteger &#x3D; &#x27;http://www.w3.org/2001/XMLSchema#integer&#x27;;
        const xmlsNonNegativeInteger &#x3D; &#x27;http://www.w3.org/2001/XMLSchema#nonNegativeInteger&#x27;;
        const keyMap &#x3D; {
            token: &#x27;type&#x27;,
            type: &#x27;datatype&#x27;,
            lang: &#x27;xml:lang&#x27;,
        };

        return selectResponse.map(item &#x3D;&gt; {
            const newItem: Record&lt;string, any&gt; &#x3D; {};

            Object.entries(item).forEach(([itemEntryKey, itemEntryValue]) &#x3D;&gt; {
                // Map keys
                newItem[itemEntryKey] &#x3D; this._mapKeys(itemEntryValue, keyMap);

                // Set label
                const { value, type, datatype &#x3D; &#x27;&#x27; } &#x3D; newItem[itemEntryKey];
                newItem[itemEntryKey][&#x27;label&#x27;] &#x3D;
                    type &#x3D;&#x3D;&#x3D; &#x27;literal&#x27; &amp;&amp; (datatype &#x3D;&#x3D;&#x3D; xmlsInteger || datatype &#x3D;&#x3D;&#x3D; xmlsNonNegativeInteger)
                        ? +value
                        : this.prefixPipe.transform(value, PrefixForm.SHORT);
            });
            return newItem;
        });
    }

    /**
     * Private method: _prepareConstructResponse.
     *
     * It prepares the triples of the construct response.
     *
     * @param {RDFStoreConstructResponseTriple[]} storeTriples The given triples from the rdf construct response.
     * @param {string} namespaces The given namespaces.
     * @param {string} [mimeType] The given optional mimeType.
     *
     * @returns {Triple[]} The array of abbreviated triples.
     */
    private _prepareConstructResponse(
        storeTriples: RDFStoreConstructResponseTriple[],
        namespaces: Namespace,
        mimeType?: string
    ): Triple[] {
        const shouldAbbreviate &#x3D; !mimeType || mimeType &#x3D;&#x3D;&#x3D; &#x27;text/turtle&#x27;;

        return storeTriples.map((storeTriple: RDFStoreConstructResponseTriple) &#x3D;&gt; {
            let {
                subject: s,
                predicate: p,
                object: o,
            } &#x3D; {
                subject: storeTriple.subject.nominalValue,
                predicate: storeTriple.predicate.nominalValue,
                object: storeTriple.object.nominalValue,
            };

            if (shouldAbbreviate) {
                s &#x3D; this._abbreviate(s, namespaces);
                p &#x3D; this._abbreviate(p, namespaces);
                o &#x3D; this._abbreviate(o, namespaces);
            }
            return { subject: s, predicate: p, object: o };
        });
    }

    /**
     * Private method: _prepareSelectResponse.
     *
     * It prepares the data of the select response.
     *
     * @param {RDFStoreSelectResponse} selectResponse The given selectResponse.
     *
     * @returns  {status: number; data: QueryResult | string } An object with a status code, and the data as QueryResult or string.
     */
    private _prepareSelectResponse(selectResponse: RDFStoreSelectResponse): {
        status: number;
        data: QueryResult | string;
    } {
        if (!selectResponse) {
            return { status: 404, data: undefined };
        }

        if (selectResponse.length &#x3D;&#x3D;&#x3D; 0) {
            return { status: 400, data: &#x27;Query returned no results&#x27; };
        }

        // Get variable keys and bindings
        const selectResponseKeys &#x3D; Object.keys(selectResponse[0]);
        const selectResponseBindings &#x3D; this._prepareMappedBindings(selectResponse);

        // Re-format data
        const reformatted: QueryResult &#x3D; {
            head: { vars: selectResponseKeys },
            body: { bindings: selectResponseBindings },
        };

        return { status: 200, data: reformatted };
    }
}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'GraphVisualizerService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
