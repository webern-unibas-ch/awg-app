(self.webpackChunkawg_app=self.webpackChunkawg_app||[]).push([[707],{5707:(C,F,g)=>{"use strict";g.r(F),g.d(F,{EditionGraphModule:()=>ze});var R=g(1635),f=g(4438),N=g(9584),_t=g(467);var mt=g(2489),yt=g.n(mt),xt=g(6648),Qe=g(983),K=g(5756),vt=g(4515),wt=g.n(vt);const te="http://www.w3.org/1999/02/22-rdf-syntax-ns#",re="http://www.w3.org/2001/XMLSchema#",_e="http://www.w3.org/2000/10/swap/",G={xsd:{decimal:`${re}decimal`,boolean:`${re}boolean`,double:`${re}double`,integer:`${re}integer`,string:`${re}string`},rdf:{type:`${te}type`,nil:`${te}nil`,first:`${te}first`,rest:`${te}rest`,langString:`${te}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${_e}reify#forSome`,forAll:`${_e}reify#forAll`},log:{implies:`${_e}log#implies`}},{xsd:ae}=G,Rt=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,$e={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},St=/[\x00-\x20<>\\"\{\}\|\^\`]/,Tt={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},Ct=/$0^/;class Nt{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const t in this)!(t in Tt)&&this[t]instanceof RegExp&&(this[t]=Ct)}else this._n3Mode=!1!==e.n3;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let r=this._input,i=r.length;for(;;){let o,c;for(;o=this._newline.exec(r);)this._comments&&(c=this._comment.exec(o[0]))&&s("comment",c[1],"",this._line,o[0].length),r=r.substr(o[0].length,r.length),i=r.length,this._line++;if(!o&&(o=this._whitespace.exec(r))&&(r=r.substr(o[0].length,r.length)),this._endOfFile.test(r))return t&&(this._comments&&(c=this._comment.exec(r))&&s("comment",c[1],"",this._line,r.length),r=null,s("eof","","",this._line,0)),this._input=r;const l=this._line,x=r[0];let _="",p="",m="",b=null,h=0,d=!1;switch(x){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(h=1,_="^");break}if(this._previousMarker="^^",r=r.substr(2),"<"!==r[0]){d=!0;break}case"<":if(b=this._unescapedIri.exec(r))_="IRI",p=b[1];else if(b=this._iri.exec(r)){if(p=this._unescape(b[1]),null===p||St.test(p))return a(this);_="IRI"}else r.length>1&&"<"===r[1]?(_="<<",h=2):this._n3Mode&&r.length>1&&"="===r[1]&&(_="inverse",h=2,p=">");break;case">":r.length>1&&">"===r[1]&&(_=">>",h=2);break;case"_":((b=this._blank.exec(r))||t&&(b=this._blank.exec(`${r} `)))&&(_="blank",m="_",p=b[1]);break;case'"':if(b=this._simpleQuotedString.exec(r))p=b[1];else if(({value:p,matchLength:h}=this._parseLiteral(r)),null===p)return a(this);(null!==b||0!==h)&&(_="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(b=this._simpleApostropheString.exec(r))p=b[1];else if(({value:p,matchLength:h}=this._parseLiteral(r)),null===p)return a(this);(null!==b||0!==h)&&(_="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(b=this._variable.exec(r))&&(_="var",p=b[0]);break;case"@":"literal"===this._previousMarker&&(b=this._langcode.exec(r))?(_="langcode",p=b[1]):(b=this._keyword.exec(r))&&(_=b[0]);break;case".":if(1===r.length?t:r[1]<"0"||r[1]>"9"){_=".",h=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(b=this._number.exec(r)||t&&(b=this._number.exec(`${r} `)))&&(_="literal",p=b[0],m="string"==typeof b[1]?ae.double:"string"==typeof b[2]?ae.decimal:ae.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(b=this._sparqlKeyword.exec(r))?_=b[0].toUpperCase():d=!0;break;case"f":case"t":(b=this._boolean.exec(r))?(_="literal",p=b[0],m=ae.boolean):d=!0;break;case"a":(b=this._shortPredicates.exec(r))?(_="abbreviation",p="a"):d=!0;break;case"=":this._n3Mode&&r.length>1&&(_="abbreviation",">"!==r[1]?(h=1,p="="):(h=2,p=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(h=1,_=x);break;case"{":!this._lineMode&&r.length>=2&&("|"===r[1]?(_="{|",h=2):(_=x,h=1));break;case"|":r.length>=2&&"}"===r[1]&&(_="|}",h=2);break;default:d=!0}if(d&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(b=this._prefix.exec(r))?((b=this._prefixed.exec(r))||t&&(b=this._prefixed.exec(`${r} `)))&&(_="prefixed",m=b[1]||"",p=this._unescape(b[2])):(_="prefix",p=b[1]||"")),"^^"===this._previousMarker)switch(_){case"prefixed":_="type";break;case"IRI":_="typeIRI";break;default:_=""}if(!_)return t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?a(this):this._input=r;const y=h||b[0].length,v=s(_,p,m,l,y);this.previousToken=v,this._previousMarker=_,r=r.substr(y,r.length)}function s(o,c,l,x,_){const p=r?i-r.length:i,b={type:o,value:c,prefix:l,line:x,start:p,end:p+_};return e(null,b),b}function a(o){e(o._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let t=!1;const r=e.replace(Rt,(i,s,a,o)=>{if("string"==typeof s)return String.fromCharCode(Number.parseInt(s,16));if("string"==typeof a){let c=Number.parseInt(a,16);return c<=65535?String.fromCharCode(Number.parseInt(a,16)):String.fromCharCode(55296+((c-=65536)>>10),56320+(1023&c))}return o in $e?$e[o]:(t=!0,"")});return t?null:r}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],r=t.length;let i=Math.max(this._literalClosingPos,r);for(;(i=e.indexOf(t,i))>0;){let s=0;for(;"\\"===e[i-s-1];)s++;if(s%2==0){const a=e.substring(r,i),o=a.split(/\r\n|\r|\n/).length-1,c=i+r;if(1===r&&0!==o||3===r&&this._lineMode)break;return this._line+=o,{value:this._unescape(a),matchLength:c}}i++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const t=new Error(`Unexpected "${e}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}_readStartingBom(e){return e.startsWith("\ufeff")?e.substr(1):e}tokenize(e,t){if(this._line=1,"string"==typeof e){if(this._input=this._readStartingBom(e),"function"!=typeof t){const r=[];let i;if(this._tokenizeToEnd((s,a)=>s?i=s:r.push(a),!0),i)throw i;return r}wt()(()=>this._tokenizeToEnd(t,!0))}else this._pendingBuffer=null,"function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",r=>{null!==this._input&&0!==r.length&&(this._pendingBuffer&&(r=Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),128&r[r.length-1]?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom("string"==typeof r?r:r.toString()):this._input+=r,this._tokenizeToEnd(t,!1)))}),e.on("end",()=>{"string"==typeof this._input&&this._tokenizeToEnd(t,!0)}),e.on("error",t)}}const{rdf:Et,xsd:V}=G;let ne,At=0;const be={namedNode:function Ot(n){return new He(n)},blankNode:function qt(n){return new kt(n||"n3-"+At++)},variable:function jt(n){return new It(n)},literal:function Lt(n,e){if("string"==typeof e)return new J(`"${n}"@${e.toLowerCase()}`);let t=e?e.value:"";return""===t&&("boolean"==typeof n?t=V.boolean:"number"==typeof n&&(Number.isFinite(n)?t=Number.isInteger(n)?V.integer:V.double:(t=V.double,Number.isNaN(n)||(n=n>0?"INF":"-INF")))),""===t||t===V.string?new J(`"${n}"`):new J(`"${n}"^^${t}`)},defaultGraph:function zt(){return ne},quad:Ue,triple:Ue},Pt=be;class Q{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof Q?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class He extends Q{get termType(){return"NamedNode"}}class J extends Q{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new He(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,r=t<e.length?e[t]:"";return"^"===r?e.substr(t+2):"@"!==r?V.string:Et.langString}equals(e){return e instanceof J?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class kt extends Q{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class It extends Q{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}ne=new class Ft extends Q{constructor(){return super(""),ne||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};class Dt extends Q{constructor(e,t,r,i){super(""),this._subject=e,this._predicate=t,this._object=r,this._graph=i||ne}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function Ue(n,e,t,r){return new Dt(n,e,t,r)}let Ve=0;class me{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&Ze(this,e.factory);const t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(t),i=/trig/.test(t),s=/triple/.test(t),a=/quad/.test(t),o=this._n3Mode=/n3/.test(t),c=s||a;(this._supportsNamedGraphs=!(r||o))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||s||o),this._supportsRDFStar=""===t||/star|\*$/.test(t),c&&(this._resolveRelativeIRI=l=>null),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new Nt({lineMode:c,n3:o}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){Ve=0}_setBase(e){if(e){const t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}_saveContext(e,t,r,i,s){const a=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:i,object:s,graph:t,inverse:!!a&&this._inversePredicate,blankPrefix:a?this._prefixes._:"",quantified:a?this._quantified:null}),a&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,t){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${t.type}`,t);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let r;switch(e.type){case"IRI":case"typeIRI":const i=this._resolveIRI(e.value);if(null===i)return this._error("Invalid IRI",e);r=this._namedNode(i);break;case"type":case"prefixed":const s=this._prefixes[e.prefix];if(void 0===s)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._namedNode(s+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!t&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error(`Unexpected ${t}`,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return"{"!==e.type?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const t=null===this._predicate;return this._restoreContext("blank",e),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,r=null,i=this._readListItem;const s=this._subject,a=this._contextStack,o=a[a.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),0!==a.length&&"list"===a[a.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,i=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===r&&(this._subject=r=this._blankNode()),null===s?null===o.predicate?o.subject=r:o.object=r:this._emit(s,this.RDF_REST,r,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,t,this._graph)}return i}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(void 0===r)return;t=this._literal(this._literalValue,r),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const r=this._completeLiteral(e);if(r)return this._object=r.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===r.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,r=this._graph;const i=this._subject,s=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",e);const a=this._predicate,o=this._object;this._subject=this._quad(i,a,o,this.DEFAULTGRAPH),t=this._readPredicate;break;case"|}":if("Quad"!==this._subject.termType)return this._error("Unexpected asserted triple closing",e);this._subject=null,t=this._readPunctuation;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(null!==i){const a=this._predicate,o=this._object;s?this._emit(o,a,i,r):this._emit(i,a,o,r)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if("IRI"!==e.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){const t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const t=this._contextStack,r=t.length&&t[t.length-1];if(r&&"item"===r.type){const i=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,r;const i=this._blankNode();if(void 0!==(r=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=i):(t=this._object,this._object=i),this._emit(t,r,i,this._graph),this._readPath}_readBackwardPath(e){const t=this._blankNode();let r,i;if(void 0!==(r=this._readEntity(e)))return null===this._predicate?(i=this._subject,this._subject=t):(i=this._object,this._object=t),this._emit(t,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return">>"!==e.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(e))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(">>"!==e.type)return this._error(`Expected >> but got ${e.type}`,e);const t=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),null===this._subject?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,r,i){this._callback(null,this._quad(e,t,r,i||this.DEFAULTGRAPH))}_error(e,t){const r=new Error(`${e} on line ${t.line}.`);r.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=ye}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const t=e.length;let r="",i=-1,s=-1,a=0,o="/";for(;i<t;){switch(o){case":":if(s<0&&"/"===e[++i]&&"/"===e[++i])for(;(s=i+1)<t&&"/"!==e[s];)i=s;break;case"?":case"#":i=t;break;case"/":if("."===e[i+1])switch(o=e[1+ ++i],o){case"/":r+=e.substring(a,i-1),a=i+1;break;case void 0:case"?":case"#":return r+e.substring(a,i)+e.substr(i+1);case".":if(o=e[1+ ++i],void 0===o||"/"===o||"?"===o||"#"===o){if(r+=e.substring(a,i-2),(a=r.lastIndexOf("/"))>=s&&(r=r.substr(0,a)),"/"!==o)return`${r}/${e.substr(i+1)}`;a=i+1}}}o=e[++i]}return r+e.substring(a)}parse(e,t,r){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${Ve++}_`,this._prefixCallback=r||ye,this._inversePredicate=!1,this._quantified=Object.create(null),!t){const i=[];let s;if(this._callback=(a,o)=>{a?s=a:o&&i.push(o)},this._lexer.tokenize(e).every(a=>this._readCallback=this._readCallback(a)),s)throw s;return i}this._callback=t,this._lexer.tokenize(e,(i,s)=>{null!==i?(this._callback(i),this._callback=ye):this._readCallback&&(this._readCallback=this._readCallback(s))})}}function ye(){}function Ze(n,e){const t=e.namedNode;n._namedNode=t,n._blankNode=e.blankNode,n._literal=e.literal,n._variable=e.variable,n._quad=e.quad,n.DEFAULTGRAPH=e.defaultGraph(),n.RDF_FIRST=t(G.rdf.first),n.RDF_REST=t(G.rdf.rest),n.RDF_NIL=t(G.rdf.nil),n.N3_FORALL=t(G.r.forAll),n.N3_FORSOME=t(G.r.forSome),n.ABBREVIATIONS={a:t(G.rdf.type),"=":t(G.owl.sameAs),">":t(G.log.implies)},n.QUANTIFIERS_GRAPH=t("urn:n3:quantifiers")}Ze(me.prototype,Pt);class Mt{constructor(){this.nodes=[],this.links=[],this.nodeTriples=[]}}class Xe{constructor(e,t){this.source=e,this.target=t,this.predicate="",this.weight=1}}class Gt{constructor(e,t,r){this.nodeSubject=e,this.nodePredicate=t,this.nodeObject=r}}var Z,n,Y,j;(n=Z||(Z={})).link="link",n.node="node";class ve{constructor(e,t){this.id=e,this.label=e,this.weight=1,this.type=t,this.owlClass=!1,this.instance=!1}}!function(n){n.TURTLE="TURTLE",n.SPARQL="SPARQL"}(Y||(Y={})),function(n){n.SHORT="short",n.LONG="long"}(j||(j={}));class q{constructor(e,t){this.prefixName=e,this.prefixIri=t}}const Qt=[new q("awg","https://edition.anton-webern.ch/webern-onto#"),new q("dbo","http://dbpedia.org/ontology/"),new q("dbp","http://dbpedia.org/property/"),new q("dbpedia","http://dbpedia.org/resource/"),new q("dc","http://purl.org/dc/elements/1.1/"),new q("dcterms","http://purl.org/dc/terms/"),new q("foaf","http://xmlns.com/foaf/0.1/"),new q("mo","http://purl.org/ontology/mo/"),new q("owl","http://www.w3.org/2002/07/owl#"),new q("prov","http://www.w3.org/ns/prov#"),new q("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),new q("rdfs","http://www.w3.org/2000/01/rdf-schema#"),new q("skos","http://www.w3.org/2004/02/skos/core#"),new q("xsd","http://www.w3.org/2001/XMLSchema#")];let ee=class{constructor(){this.defaultPrefixes=Qt}transform(e,t){let r;switch(t){case j.SHORT:this.defaultPrefixes.forEach(i=>{-1!==e.indexOf(i.prefixIri)&&(r=e.replace(i.prefixIri,i.prefixName+":"))});break;case j.LONG:this.defaultPrefixes.forEach(i=>{-1!==e.indexOf(i.prefixName)&&(r=e.replace(i.prefixName+":",i.prefixIri))});break;default:{const i=t;throw new Error(`The prefixForm must be ${j.SHORT} or ${j.LONG}, but was: ${i}.`)}}return r||e}};ee=(0,R.Cg)([(0,f.nT_)({name:"prefix",pure:!1})],ee);let ie=class{constructor(e){this.prefixPipe=e}parseTripleString(e){const t=new me,r=[];return new Promise((i,s)=>{t.parse(e,(a,o,c)=>{o?r.push(o):i({triples:r,namespaces:c}),a&&s(a)})})}limitTriples(e,t){return e?e.length>t?e.slice(0,t):e:[]}abbreviateTriples(e,t,r){return r||(r="text/turtle"),e.map(i=>{let s=i.subject.nominalValue,a=i.predicate.nominalValue,o=i.object.nominalValue;return"text/turtle"===r&&(null!=this._abbreviate(s,t)&&(s=this._abbreviate(s,t)),null!=this._abbreviate(a,t)&&(a=this._abbreviate(a,t)),null!=this._abbreviate(o,t)&&(o=this._abbreviate(o,t))),{subject:s,predicate:a,object:o}})}checkNamespacesInQuery(e,t){if(!e||!t)return;const r=this._extractNamespacesFromString(Y.TURTLE,t),i=this._extractNamespacesFromString(Y.SPARQL,e),s=this._extractQNamesFromSPARQLWhereClause(e),a=Object.keys(r),o=Object.keys(i);let c="";return a.forEach(l=>{-1===o.indexOf(l)&&(c+=`PREFIX ${l} ${r[l]}\n`)}),s.length>0&&s.forEach(l=>{if(-1===o.indexOf(l)){console.warn(`Prefix '${l}' not declared in SPARQL and/or Turtle header. Searching in default namespaces...`);const x=this.prefixPipe.transform(l,j.LONG);if(x!==l){const _=`PREFIX ${l} <${x}>\n`;c+=_,console.warn(`Added '${_}' to SPARQL prefixes from list of default namespaces.`)}else console.warn(`'${l}' is unknown. Please provide a declaration.`)}}),""!==c&&(e=c+e),e}doQuery(e,t,r,i){return i||(i="text/turtle"),this._createStore().then(s=>(this._store=s,this._loadTriplesInStore(s,r,i))).then(s=>this._executeQuery(this._store,t)).then(s=>{if("select"===e){const a=s;return this._prepareSelectResponse(a).data}if("construct"===e){const a=s;return this._getNamespaces(r).then(o=>this.abbreviateTriples(a.triples,o,i))}})}getQuerytype(e){let t=[{queryType:"select",index:-1},{queryType:"construct",index:-1},{queryType:"ask",index:-1},{queryType:"count",index:-1},{queryType:"describe",index:-1},{queryType:"insert",index:-1},{queryType:"delete",index:-1}],r=!1,i=1/0;if(t=t.map(o=>(o.index=e.toLowerCase().indexOf(o.queryType),-1!==o.index&&(r=!0,o.index<i&&(i=o.index)),o)),!r)return null;let a=t.find(o=>o.index===i).queryType;return("insert"===a||"delete"===a)&&(a="update"),a}_abbreviate(e,t){let r=e;return-1!==e.indexOf("http")&&Object.entries(t).forEach(([i,s])=>{-1!==e.indexOf(s)&&(r=e.replace(s,i+":"))}),r}_createStore(){return new Promise((e,t)=>{rdfstore.create((r,i)=>{r&&t(r),e(i)})})}_executeQuery(e,t){return new Promise((r,i)=>{e.execute(t,(s,a)=>{s&&(console.error("_executeQuery# got ERROR",s),i(s)),r(a)})})}_extractNamespacesFromString(e,t){const r=t.toLowerCase().replace(/\s/g," ").split(" ").filter(o=>""!==o);let i;switch(e){case Y.TURTLE:i="@prefix".toLowerCase();break;case Y.SPARQL:i="PREFIX".toLowerCase();break;default:throw new Error(`The type must be TURTLE or SPARQL, but was: ${e}.`)}const s=r.reduce((o,c,l)=>(c===i&&o.push(l),o),[]),a={};return s.forEach(o=>{const c=r[o+1];let l=r[o+2];"."===l.at(-1)&&(l=l.slice(0,-1)),a[c]=l}),a}_extractQNamesFromSPARQLWhereClause(e){let t,r=e.toLowerCase(),i=0;const s=[],a=/\b[a-zA-Z]{2,15}:/g,o="WHERE {".toLowerCase();for(r.includes(o)&&(i=r.indexOf(o)+o.length),r=r.slice(i);null!==(t=a.exec(r));)t.index===a.lastIndex&&a.lastIndex++,t.forEach(c=>{-1===s.indexOf(c)&&s.push(c)});return s}_getNamespaces(e){const t=new me;return new Promise((r,i)=>{t.parse(e,(s,a,o)=>{a||r(o),s&&i(s)})})}_loadTriplesInStore(e,t,r){return r||(r="text/turtle"),new Promise((i,s)=>{e.load(r,t,(a,o)=>{a&&(console.error("_loadTriplesInStore# got error",a),s(a)),i(o)})})}_mapKeys(e,t){const r=Object.keys(e).map(i=>({[t[i]||i]:e[i]}));return Object.assign({},...r)}_prepareSelectResponse(e){if(!e)return{status:404,data:void 0};if(null==e[0])return{status:400,data:"Query returned no results"};const t=Object.keys(e[0]),r=e,i={token:"type",type:"datatype",lang:"xml:lang"};for(const a in r)if(r.hasOwnProperty(a))for(const o in t)if(t.hasOwnProperty(o)&&(r[a][t[o]]=this._mapKeys(r[a][t[o]],i),r[a][t[o]].label="",r[a][t[o]].value)){r[a][t[o]].label=this.prefixPipe.transform(r[a][t[o]].value,j.SHORT);const c="http://www.w3.org/2001/XMLSchema#integer",l="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",x=r[a][t[o]].type,_=r[a][t[o]].datatype||"";"literal"===x&&(_===c||_===l)&&(r[a][t[o]].label=+r[a][t[o]].value)}return{status:200,data:{head:{vars:t},body:{bindings:r}}}}static#e=this.ctorParameters=()=>[{type:ee}]};ie=(0,R.Cg)([(0,f._qm)()],ie);let se=class{constructor(e,t){this.graphVisualizerService=e,this.toastService=t,this.defaultForceGraphHeight=500}ngOnInit(){this.resetTriples(),this.resetQuery()}resetTriples(){this.graphRDFInputData.triples&&(this.triples=this.graphRDFInputData.triples)}resetQuery(e){if(!this.graphRDFInputData.queryList)return;this.queryList=JSON.parse(JSON.stringify(this.graphRDFInputData.queryList));const t=e?this.queryList.find(r=>e.queryLabel===r.queryLabel&&e.queryType===r.queryType)||e:this.queryList[0];this.query={...t},this.performQuery()}performQuery(){if(this.query.queryString=this.graphVisualizerService.checkNamespacesInQuery(this.query.queryString,this.triples),this.query.queryType=this.graphVisualizerService.getQuerytype(this.query.queryString),"construct"===this.query.queryType||"select"===this.query.queryType){const e=this._queryLocalStore(this.query.queryType,this.query.queryString,this.triples);this.queryResult$=(0,xt.H)(e)}else this.queryResult$=Qe.w}onGraphNodeClick(e){e&&console.info("GraphVisualizerComponent# graphClick on node",e)}onTableNodeClick(e){e&&console.info("GraphVisualizerComponent# tableClick on URI",e)}showErrorMessage(e){if(!e?.message)return;const t=new K.y8(e.message,{header:e.name,classname:"bg-danger text-light",delay:e.duration});this.toastService.add(t),console.error(e.name,":",e.message)}_queryLocalStore(e,t,r){var i=this;return(0,_t.A)(function*(){const s=Date.now();let a;try{a=yield i.graphVisualizerService.doQuery(e,t,r),i.queryTime=Date.now()-s}catch(o){console.error("#queryLocalstore got error:",o),o.message&&o.name&&(-1!==o.message.indexOf("undefined")&&i.showErrorMessage(new K.FH(o.name,"The query did not return any results.",5e3)),i.showErrorMessage(new K.FH(o.name,o.message,5e3))),i.queryTime=Date.now()-s,a=[]}return a})()}static#e=this.ctorParameters=()=>[{type:ie},{type:K.fw}];static#t=this.propDecorators={fs:[{type:f.Uct,args:["fs"]}],graphRDFInputData:[{type:f.pde}],isFullscreen:[{type:f.pde}]}};se=(0,R.Cg)([(0,f.uAl)({selector:"awg-graph-visualizer",template:'\x3c!-- Data: Triples, SPARQL query, result --\x3e\n@if (graphRDFInputData) {\n    <div #fs class="row awg-graph-visualizer" [class.is-fullscreen]="isFullscreen">\n        <div [ngClass]="isFullscreen ? \'col-4 col-lg-3 px-0 awg-fullscreen\' : \'col-12\'">\n            <div [ngClass]="{ row: !isFullscreen }">\n                <div [ngClass]="{ \'col-12 col-lg-6 py-0 pe-lg-0\': !isFullscreen }">\n                    \x3c!-- awg-graph-triples-editor --\x3e\n                    <awg-triples-editor\n                        [triples]="triples"\n                        [isFullscreen]="isFullscreen"\n                        (errorMessageRequest)="showErrorMessage($event)"\n                        (performQueryRequest)="performQuery()"\n                        (resetTriplesRequest)="resetTriples()"\n                        (updateTriplesRequest)="triples = $event"></awg-triples-editor>\n                </div>\n                <div [ngClass]="{ \'col-12 col-lg-6 py-0 ps-lg-0\': !isFullscreen }">\n                    \x3c!-- awg-graph-sparql-editor --\x3e\n                    <awg-sparql-editor\n                        [queryList]="queryList"\n                        [query]="query"\n                        [isFullscreen]="isFullscreen"\n                        (errorMessageRequest)="showErrorMessage($event)"\n                        (performQueryRequest)="performQuery()"\n                        (resetQueryRequest)="resetQuery($event)"\n                        (updateQueryStringRequest)="query.queryString = $event"></awg-sparql-editor>\n                </div>\n            </div>\n        </div>\n        \x3c!-- Results --\x3e\n        <div [ngClass]="isFullscreen ? \'col-8 col-lg-9 px-0 awg-fullscreen\' : \'col-12\'">\n            \x3c!-- CONSTRUCT --\x3e\n            \x3c!-- awg-graph-construct-result --\x3e\n            @if (query.queryType === \'construct\') {\n                <awg-construct-results\n                    #queryConstructResultAcc\n                    [queryResult$]="queryResult$"\n                    [defaultForceGraphHeight]="isFullscreen ? 1000 : defaultForceGraphHeight"\n                    [isFullscreen]="isFullscreen"\n                    (clickedNodeRequest)="onGraphNodeClick($event)"></awg-construct-results>\n            } @else {\n                @if (query.queryType === \'select\') {\n                    <awg-select-results\n                        [queryResult$]="queryResult$"\n                        [queryTime]="queryTime"\n                        [isFullscreen]="isFullscreen"\n                        (clickedTableRequest)="onTableNodeClick($event)"></awg-select-results>\n                } @else {\n                    <awg-unsupported-type-results\n                        [queryType]="query.queryType"\n                        [isFullscreen]="isFullscreen"></awg-unsupported-type-results>\n                }\n            }\n            \x3c!-- SELECT --\x3e\n            \x3c!-- awg-graph-select-result --\x3e\n            \x3c!-- OTHERS --\x3e\n            \x3c!-- awg-graph-unsupported-query-type-result --\x3e\n        </div>\n    </div>\n}\n\n<awg-toast aria-live="polite" aria-atomic="true"></awg-toast>\n',changeDetection:f.Ngq.Default,styles:[yt()]})],se);var Bt=g(3003),Ht=g.n(Bt);let we=class{constructor(){this.clickedNodeRequest=new f.bkB}isQueryResultNotEmpty(e){return 0!==e.length&&e.every(t=>{const{subject:r,predicate:i,object:s}=t;return!!r&&!!i&&!!s})}isAccordionItemDisabled(){return this.isFullscreen}onGraphNodeClick(e){e&&this.clickedNodeRequest.emit(e)}static#e=this.propDecorators={queryResult$:[{type:f.pde}],defaultForceGraphHeight:[{type:f.pde}],isFullscreen:[{type:f.pde}],clickedNodeRequest:[{type:f.k7i}]}};we=(0,R.Cg)([(0,f.uAl)({selector:"awg-construct-results",template:'<div ngbAccordion>\n    <div\n        ngbAccordionItem="awg-graph-visualizer-construct-results"\n        [collapsed]="false"\n        [disabled]="isAccordionItemDisabled()">\n        <div ngbAccordionHeader>\n            <button ngbAccordionButton class="p-3">Resultat</button>\n        </div>\n        <div ngbAccordionCollapse>\n            <div ngbAccordionBody>\n                <ng-template>\n                    @if (queryResult$ | async; as queryResult) {\n                        @if (isQueryResultNotEmpty(queryResult)) {\n                            \x3c!-- Force graph visualization --\x3e\n                            <awg-force-graph\n                                class="full-width"\n                                [currentQueryResultTriples]="queryResult"\n                                [height]="defaultForceGraphHeight"\n                                (clickedNodeRequest)="onGraphNodeClick($event)">\n                            </awg-force-graph>\n                        } @else {\n                            <awg-sparql-no-results></awg-sparql-no-results>\n                        }\n                    } @else {\n                        <awg-twelve-tone-spinner></awg-twelve-tone-spinner>\n                    }\n                </ng-template>\n            </div>\n        </div>\n    </div>\n</div>\n',changeDetection:f.Ngq.OnPush,styles:[Ht()]})],we);var Vt=g(1135),Zt=g.n(Vt),We=g(1413),Xt=g(152),Wt=g(6977),X=g(5383),Kt=g(6530),Ke=g(8542),Re=g(8690),Je=g(7690),Ye=g(7041),$=g(5219);const ue=n=>()=>n;function Se(n,{sourceEvent:e,subject:t,target:r,identifier:i,active:s,x:a,y:o,dx:c,dy:l,dispatch:x}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:x}})}function Jt(n){return!n.ctrlKey&&!n.button}function Yt(){return this.parentNode}function er(n,e){return e??{x:n.x,y:n.y}}function tr(){return navigator.maxTouchPoints||"ontouchstart"in this}Se.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};var nr=g(9462);const ir=1664525,sr=1013904223,et=4294967296;function or(n){return n.x}function lr(n){return n.y}var cr=Math.PI*(3-Math.sqrt(5));function hr(n){var e,t=1,r=.001,i=1-Math.pow(r,1/300),s=0,a=.6,o=new Map,c=(0,nr.O1)(_),l=(0,Ke.A)("tick","end"),x=function ar(){let n=1;return()=>(n=(ir*n+sr)%et)/et}();function _(){p(),l.call("tick",e),t<r&&(c.stop(),l.call("end",e))}function p(h){var d,v,y=n.length;void 0===h&&(h=1);for(var S=0;S<h;++S)for(t+=(s-t)*i,o.forEach(function(u){u(t)}),d=0;d<y;++d)null==(v=n[d]).fx?v.x+=v.vx*=a:(v.x=v.fx,v.vx=0),null==v.fy?v.y+=v.vy*=a:(v.y=v.fy,v.vy=0);return e}function m(){for(var y,h=0,d=n.length;h<d;++h){if((y=n[h]).index=h,null!=y.fx&&(y.x=y.fx),null!=y.fy&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var v=10*Math.sqrt(.5+h),S=h*cr;y.x=v*Math.cos(S),y.y=v*Math.sin(S)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function b(h){return h.initialize&&h.initialize(n,x),h}return null==n&&(n=[]),m(),e={tick:p,restart:function(){return c.restart(_),e},stop:function(){return c.stop(),e},nodes:function(h){return arguments.length?(n=h,m(),o.forEach(b),e):n},alpha:function(h){return arguments.length?(t=+h,e):t},alphaMin:function(h){return arguments.length?(r=+h,e):r},alphaDecay:function(h){return arguments.length?(i=+h,e):+i},alphaTarget:function(h){return arguments.length?(s=+h,e):s},velocityDecay:function(h){return arguments.length?(a=1-h,e):1-a},randomSource:function(h){return arguments.length?(x=h,o.forEach(b),e):x},force:function(h,d){return arguments.length>1?(null==d?o.delete(h):o.set(h,b(d)),e):o.get(h)},find:function(h,d,y){var u,w,T,A,E,v=0,S=n.length;for(null==y?y=1/0:y*=y,v=0;v<S;++v)(T=(u=h-(A=n[v]).x)*u+(w=d-A.y)*w)<y&&(E=A,y=T);return E},on:function(h,d){return arguments.length>1?(l.on(h,d),e):l.on(h)}}}function tt(n,e,t,r){if(isNaN(e)||isNaN(t))return n;var i,_,p,m,b,h,d,y,v,s=n._root,a={data:r},o=n._x0,c=n._y0,l=n._x1,x=n._y1;if(!s)return n._root=a,n;for(;s.length;)if((h=e>=(_=(o+l)/2))?o=_:l=_,(d=t>=(p=(c+x)/2))?c=p:x=p,i=s,!(s=s[y=d<<1|h]))return i[y]=a,n;if(m=+n._x.call(null,s.data),b=+n._y.call(null,s.data),e===m&&t===b)return a.next=s,i?i[y]=a:n._root=a,n;do{i=i?i[y]=new Array(4):n._root=new Array(4),(h=e>=(_=(o+l)/2))?o=_:l=_,(d=t>=(p=(c+x)/2))?c=p:x=p}while((y=d<<1|h)==(v=(b>=p)<<1|m>=_));return i[v]=s,i[y]=a,n}function D(n,e,t,r,i){this.node=n,this.x0=e,this.y0=t,this.x1=r,this.y1=i}function Sr(n){return n[0]}function Cr(n){return n[1]}function Te(n,e,t){var r=new Ce(e??Sr,t??Cr,NaN,NaN,NaN,NaN);return null==n?r:r.addAll(n)}function Ce(n,e,t,r,i,s){this._x=n,this._y=e,this._x0=t,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function rt(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var O=Te.prototype=Ce.prototype;function W(n){return function(){return n}}function H(n){return 1e-6*(n()-.5)}function Pr(n){return n.x+n.vx}function kr(n){return n.y+n.vy}function Fr(n){return n.index}function nt(n,e){var t=n.get(e);if(!t)throw new Error("node not found: "+e);return t}O.copy=function(){var t,r,n=new Ce(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root;if(!e)return n;if(!e.length)return n._root=rt(e),n;for(t=[{source:e,target:n._root=new Array(4)}];e=t.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?t.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=rt(r));return n},O.add=function dr(n){const e=+this._x.call(null,n),t=+this._y.call(null,n);return tt(this.cover(e,t),e,t,n)},O.addAll=function fr(n){var e,t,i,s,r=n.length,a=new Array(r),o=new Array(r),c=1/0,l=1/0,x=-1/0,_=-1/0;for(t=0;t<r;++t)isNaN(i=+this._x.call(null,e=n[t]))||isNaN(s=+this._y.call(null,e))||(a[t]=i,o[t]=s,i<c&&(c=i),i>x&&(x=i),s<l&&(l=s),s>_&&(_=s));if(c>x||l>_)return this;for(this.cover(c,l).cover(x,_),t=0;t<r;++t)tt(this,a[t],o[t],n[t]);return this},O.cover=function pr(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var t=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(t))i=(t=Math.floor(n))+1,s=(r=Math.floor(e))+1;else{for(var c,l,a=i-t||1,o=this._root;t>n||n>=i||r>e||e>=s;)switch(l=(e<r)<<1|n<t,c=new Array(4),c[l]=o,o=c,a*=2,l){case 0:i=t+a,s=r+a;break;case 1:t=i-a,s=r+a;break;case 2:i=t+a,r=s-a;break;case 3:t=i-a,r=s-a}this._root&&this._root.length&&(this._root=o)}return this._x0=t,this._y0=r,this._x1=i,this._y1=s,this},O.data=function gr(){var n=[];return this.visit(function(e){if(!e.length)do{n.push(e.data)}while(e=e.next)}),n},O.extent=function _r(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},O.find=function br(n,e,t){var r,a,o,c,l,b,h,i=this._x0,s=this._y0,x=this._x1,_=this._y1,p=[],m=this._root;for(m&&p.push(new D(m,i,s,x,_)),null==t?t=1/0:(i=n-t,s=e-t,x=n+t,_=e+t,t*=t);b=p.pop();)if(!(!(m=b.node)||(a=b.x0)>x||(o=b.y0)>_||(c=b.x1)<i||(l=b.y1)<s))if(m.length){var d=(a+c)/2,y=(o+l)/2;p.push(new D(m[3],d,y,c,l),new D(m[2],a,y,d,l),new D(m[1],d,o,c,y),new D(m[0],a,o,d,y)),(h=(e>=y)<<1|n>=d)&&(b=p[p.length-1],p[p.length-1]=p[p.length-1-h],p[p.length-1-h]=b)}else{var v=n-+this._x.call(null,m.data),S=e-+this._y.call(null,m.data),u=v*v+S*S;if(u<t){var w=Math.sqrt(t=u);i=n-w,s=e-w,x=n+w,_=e+w,r=m.data}}return r},O.remove=function mr(n){if(isNaN(x=+this._x.call(null,n))||isNaN(_=+this._y.call(null,n)))return this;var e,r,i,s,x,_,p,m,b,h,d,y,t=this._root,a=this._x0,o=this._y0,c=this._x1,l=this._y1;if(!t)return this;if(t.length)for(;;){if((b=x>=(p=(a+c)/2))?a=p:c=p,(h=_>=(m=(o+l)/2))?o=m:l=m,e=t,!(t=t[d=h<<1|b]))return this;if(!t.length)break;(e[d+1&3]||e[d+2&3]||e[d+3&3])&&(r=e,y=d)}for(;t.data!==n;)if(i=t,!(t=t.next))return this;return(s=t.next)&&delete t.next,i?(s?i.next=s:delete i.next,this):e?(s?e[d]=s:delete e[d],(t=e[0]||e[1]||e[2]||e[3])&&t===(e[3]||e[2]||e[1]||e[0])&&!t.length&&(r?r[y]=t:this._root=t),this):(this._root=s,this)},O.removeAll=function yr(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this},O.root=function xr(){return this._root},O.size=function vr(){var n=0;return this.visit(function(e){if(!e.length)do{++n}while(e=e.next)}),n},O.visit=function wr(n){var t,i,s,a,o,c,e=[],r=this._root;for(r&&e.push(new D(r,this._x0,this._y0,this._x1,this._y1));t=e.pop();)if(!n(r=t.node,s=t.x0,a=t.y0,o=t.x1,c=t.y1)&&r.length){var l=(s+o)/2,x=(a+c)/2;(i=r[3])&&e.push(new D(i,l,x,o,c)),(i=r[2])&&e.push(new D(i,s,x,l,c)),(i=r[1])&&e.push(new D(i,l,a,o,x)),(i=r[0])&&e.push(new D(i,s,a,l,x))}return this},O.visitAfter=function Rr(n){var r,e=[],t=[];for(this._root&&e.push(new D(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var s,a=r.x0,o=r.y0,c=r.x1,l=r.y1,x=(a+c)/2,_=(o+l)/2;(s=i[0])&&e.push(new D(s,a,o,x,_)),(s=i[1])&&e.push(new D(s,x,o,c,_)),(s=i[2])&&e.push(new D(s,a,_,x,l)),(s=i[3])&&e.push(new D(s,x,_,c,l))}t.push(r)}for(;r=t.pop();)n(r.node,r.x0,r.y0,r.x1,r.y1);return this},O.x=function Tr(n){return arguments.length?(this._x=n,this):this._x},O.y=function Nr(n){return arguments.length?(this._y=n,this):this._y};var Or=g(245),Ne=g(725);var Lr=g(5825);const ce_LINK_DISTANCE=10,ce_COLLISION_STRENGTH=1,ce_COLLISION_RADIUS=30,ce_CHARGE_STRENGTH=-10;let Ee=class{constructor(e,t){this.graphVisualizerService=e,this.prefixPipe=t,this.clickedNodeRequest=new f.bkB,this.faCompressArrowsAlt=X.l0h,this.limitValues=[5,10,25,50,100,250,500,1e3],this.limit=50,this.sliderConfig=new Kt.W(1,.1,3,.01,1),this._resize$=new We.B,this._destroyed$=new We.B}onResize(){!this._graphContainer||!this.currentQueryResultTriples||(this._divWidth=this._getContainerDimensions(this._graphContainer).width,this._divHeight=this._getContainerDimensions(this._graphContainer).height,this._resize$.next(!0))}ngOnInit(){this._resize$.pipe((0,Xt.B)(150),(0,Wt.Q)(this._destroyed$)).subscribe(e=>{this._redraw()}),this._redraw()}ngOnChanges(e){const{queryResultTriples:t}=e;t?.currentValue&&!t.isFirstChange()&&(this.currentQueryResultTriples=t.currentValue,this._redraw())}onLimitValueChange(e){this.limit=e,this._redraw()}onReCenter(){!this._svg||!this._divWidth||!this._divHeight||(this.onZoomChange(this.sliderConfig.initial),this._zoomBehaviour.translateTo(this._svg,this._divWidth/2,this._divHeight/2))}onZoomChange(e){this.sliderConfig.value=e,this._reScaleZoom()}log(e,t){const r=t&&JSON.parse(JSON.stringify(t));console.info(e,r)}ngOnDestroy(){this._destroyed$.next(!0),this._destroyed$.complete()}_redraw(){this.currentQueryResultTriples&&(this._cleanSVG(),this._createSVG(),this._attachData(),this._reScaleZoom())}_cleanSVG(){(function qr(n){return"string"==typeof n?new Ne.LN([document.querySelectorAll(n)],[document.documentElement]):new Ne.LN([(0,Or.A)(n)],Ne.zr)})("svg.force-graph > *").remove()}_createSVG(){if(!this._graphContainer)return;let e,t;e=this._divWidth?this._divWidth:this._getContainerDimensions(this._graphContainer).width?this._getContainerDimensions(this._graphContainer).width:400,t=this._divHeight?this._divHeight:this._getContainerDimensions(this._graphContainer).height?this._getContainerDimensions(this._graphContainer).height:500,this._divWidth=e,this._divHeight=t-45,this._svg||(this._svg=Re.A(this._graphContainer.nativeElement).append("svg").attr("class","force-graph")),this._svg.attr("width",this._divWidth).attr("height",this._divHeight),this._zoomGroup=this._svg.append("g").attr("class","zoom-container")}_attachData(){const e=this.graphVisualizerService.limitTriples(this.currentQueryResultTriples,this.limit);"string"==typeof e?this.graphVisualizerService.parseTripleString(e).then(t=>{const r=this.graphVisualizerService.abbreviateTriples(t.triples,t.namespaces);this._simulationData=this._triplesToD3GraphData(r),this._setupForceSimulation(),this._updateSVG()}):(this._simulationData=this._triplesToD3GraphData(e),this._setupForceSimulation(),this._updateSVG())}_setupForceSimulation(){this._forceSimulation=hr();const e=function Er(){var n,e,t,r,s,i=W(-30),a=1,o=1/0,c=.81;function l(m){var b,h=n.length,d=Te(n,or,lr).visitAfter(_);for(r=m,b=0;b<h;++b)e=n[b],d.visit(p)}function x(){if(n){var m,h,b=n.length;for(s=new Array(b),m=0;m<b;++m)h=n[m],s[h.index]=+i(h,m,n)}}function _(m){var h,d,v,S,u,b=0,y=0;if(m.length){for(v=S=u=0;u<4;++u)(h=m[u])&&(d=Math.abs(h.value))&&(b+=h.value,y+=d,v+=d*h.x,S+=d*h.y);m.x=v/y,m.y=S/y}else{(h=m).x=h.data.x,h.y=h.data.y;do{b+=s[h.data.index]}while(h=h.next)}m.value=b}function p(m,b,h,d){if(!m.value)return!0;var y=m.x-e.x,v=m.y-e.y,S=d-b,u=y*y+v*v;if(S*S/c<u)return u<o&&(0===y&&(u+=(y=H(t))*y),0===v&&(u+=(v=H(t))*v),u<a&&(u=Math.sqrt(a*u)),e.vx+=y*m.value*r/u,e.vy+=v*m.value*r/u),!0;if(!(m.length||u>=o)){(m.data!==e||m.next)&&(0===y&&(u+=(y=H(t))*y),0===v&&(u+=(v=H(t))*v),u<a&&(u=Math.sqrt(a*u)));do{m.data!==e&&(S=s[m.data.index]*r/u,e.vx+=y*S,e.vy+=v*S)}while(m=m.next)}}return l.initialize=function(m,b){n=m,t=b,x()},l.strength=function(m){return arguments.length?(i="function"==typeof m?m:W(+m),x(),l):i},l.distanceMin=function(m){return arguments.length?(a=m*m,l):Math.sqrt(a)},l.distanceMax=function(m){return arguments.length?(o=m*m,l):Math.sqrt(o)},l.theta=function(m){return arguments.length?(c=m*m,l):Math.sqrt(c)},l}().strength(s=>this._nodeRadius(s)*ce_CHARGE_STRENGTH),t=function Ar(n,e){var t,r=1;function i(){var s,o,a=t.length,c=0,l=0;for(s=0;s<a;++s)c+=(o=t[s]).x,l+=o.y;for(c=(c/a-n)*r,l=(l/a-e)*r,s=0;s<a;++s)(o=t[s]).x-=c,o.y-=l}return null==n&&(n=0),null==e&&(e=0),i.initialize=function(s){t=s},i.x=function(s){return arguments.length?(n=+s,i):n},i.y=function(s){return arguments.length?(e=+s,i):e},i.strength=function(s){return arguments.length?(r=+s,i):r},i}(this._divWidth/2,this._divHeight/2),r=function Ir(n){var e,t,r,i=1,s=1;function a(){for(var l,_,p,m,b,h,d,x=e.length,y=0;y<s;++y)for(_=Te(e,Pr,kr).visitAfter(o),l=0;l<x;++l)p=e[l],h=t[p.index],d=h*h,m=p.x+p.vx,b=p.y+p.vy,_.visit(v);function v(S,u,w,T,A){var E=S.data,k=S.r,P=h+k;if(!E)return u>m+P||T<m-P||w>b+P||A<b-P;if(E.index>p.index){var I=m-E.x-E.vx,M=b-E.y-E.vy,z=I*I+M*M;z<P*P&&(0===I&&(z+=(I=H(r))*I),0===M&&(z+=(M=H(r))*M),z=(P-(z=Math.sqrt(z)))/z*i,p.vx+=(I*=z)*(P=(k*=k)/(d+k)),p.vy+=(M*=z)*P,E.vx-=I*(P=1-P),E.vy-=M*P)}}}function o(l){if(l.data)return l.r=t[l.data.index];for(var x=l.r=0;x<4;++x)l[x]&&l[x].r>l.r&&(l.r=l[x].r)}function c(){if(e){var l,_,x=e.length;for(t=new Array(x),l=0;l<x;++l)_=e[l],t[_.index]=+n(_,l,e)}}return"function"!=typeof n&&(n=W(null==n?1:+n)),a.initialize=function(l,x){e=l,r=x,c()},a.iterations=function(l){return arguments.length?(s=+l,a):s},a.strength=function(l){return arguments.length?(i=+l,a):i},a.radius=function(l){return arguments.length?(n="function"==typeof l?l:W(+l),c(),a):n},a}().strength(ce_COLLISION_STRENGTH).radius(ce_COLLISION_RADIUS).iterations(2),i=function Dr(n){var r,s,a,o,c,l,e=Fr,t=function _(d){return 1/Math.min(o[d.source.index],o[d.target.index])},i=W(30),x=1;function p(d){for(var y=0,v=n.length;y<x;++y)for(var u,w,T,A,E,k,P,S=0;S<v;++S)w=(u=n[S]).source,A=(T=u.target).x+T.vx-w.x-w.vx||H(l),E=T.y+T.vy-w.y-w.vy||H(l),A*=k=((k=Math.sqrt(A*A+E*E))-s[S])/k*d*r[S],E*=k,T.vx-=A*(P=c[S]),T.vy-=E*P,w.vx+=A*(P=1-P),w.vy+=E*P}function m(){if(a){var d,u,y=a.length,v=n.length,S=new Map(a.map((w,T)=>[e(w,T,a),w]));for(d=0,o=new Array(y);d<v;++d)(u=n[d]).index=d,"object"!=typeof u.source&&(u.source=nt(S,u.source)),"object"!=typeof u.target&&(u.target=nt(S,u.target)),o[u.source.index]=(o[u.source.index]||0)+1,o[u.target.index]=(o[u.target.index]||0)+1;for(d=0,c=new Array(v);d<v;++d)u=n[d],c[d]=o[u.source.index]/(o[u.source.index]+o[u.target.index]);r=new Array(v),b(),s=new Array(v),h()}}function b(){if(a)for(var d=0,y=n.length;d<y;++d)r[d]=+t(n[d],d,n)}function h(){if(a)for(var d=0,y=n.length;d<y;++d)s[d]=+i(n[d],d,n)}return null==n&&(n=[]),p.initialize=function(d,y){a=d,l=y,m()},p.links=function(d){return arguments.length?(n=d,m(),p):n},p.id=function(d){return arguments.length?(e=d,p):e},p.iterations=function(d){return arguments.length?(x=+d,p):x},p.strength=function(d){return arguments.length?(t="function"==typeof d?d:W(+d),b(),p):t},p.distance=function(d){return arguments.length?(i="function"==typeof d?d:W(+d),h(),p):i},p}().links(this._simulationData.links).id(s=>s.predicate).distance(ce_LINK_DISTANCE);this._forceSimulation.force("charge_force",e).force("center_force",t).force("collide_force",r),this._forceSimulation.nodes(this._simulationData.nodes),this._forceSimulation.force("links",i),this._forceSimulation.alpha(1).restart()}_updateSVG(){if(!this._svg)return;this._zoomGroup.append("svg:defs").selectAll("marker").data(["end"]).enter().append("svg:marker").attr("id",String).attr("viewBox","0 -5 10 10").attr("refX",30).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("svg:polyline").attr("points","0,-5 10,0 0,5");const e=this._zoomGroup.append("g").attr("class","links").selectAll(".link").data(this._simulationData.nodeTriples).enter().append("path").attr("marker-end","url(#end)").attr("class","link"),t=this._zoomGroup.append("g").attr("class","link-texts").selectAll(".link-text").data(this._simulationData.nodeTriples).enter().append("text").attr("class","link-text").text(s=>s.nodePredicate.label),r=this._zoomGroup.append("g").attr("class","node-texts").selectAll(".node-text").data(this._filterNodesByType(this._simulationData.nodes,Z.node)).enter().append("text").attr("class","node-text").text(s=>s.label),i=this._zoomGroup.append("g").attr("class","nodes").selectAll(".node").data(this._filterNodesByType(this._simulationData.nodes,Z.node)).enter().append("circle").attr("class",s=>s.owlClass?"class":-1!==s.label.indexOf("_:")?"blank":s.instance||-1!==s.label.indexOf("inst:")?"instance":"node").attr("id",s=>s.label).attr("r",s=>-1!==s.label.indexOf("_:")?8:s.instance||-1!==s.label.indexOf("inst:")?11:s.owlClass||-1!==s.label.indexOf("inst:")?10:9).on("click",(s,a)=>{this._clickedOnNode(s,a)});this._forceSimulation.on("tick",()=>{this._updateNodePositions(i),this._updateNodeTextPositions(r),this._updateLinkPositions(e),this._updateLinkTextPositions(t)}),this._dragHandler(i,this._forceSimulation),this._zoomHandler(this._zoomGroup,this._svg)}_reScaleZoom(){!this._svg||!this.sliderConfig.value||this._zoomBehaviour.scaleTo(this._svg,this.sliderConfig.value)}_checkForRdfType(e){return"a"===e.label||"rdf:type"===e.label||e.label===this.prefixPipe.transform("rdf:type",j.LONG)}_clickedOnNode(e,t){e.defaultPrevented||this.clickedNodeRequest.emit(t)}_dragHandler(e,t){const a=function rr(){var o,c,l,x,n=Jt,e=Yt,t=er,r=tr,i={},s=(0,Ke.A)("start","drag","end"),a=0,_=0;function p(u){u.on("mousedown.drag",m).filter(r).on("touchstart.drag",d).on("touchmove.drag",y,$.vr).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(u,w){if(!x&&n.call(this,u,w)){var T=S(this,e.call(this,u,w),u,w,"mouse");T&&((0,Re.A)(u.view).on("mousemove.drag",b,$.Rw).on("mouseup.drag",h,$.Rw),(0,Ye.A)(u.view),(0,$.GK)(u),l=!1,o=u.clientX,c=u.clientY,T("start",u))}}function b(u){if((0,$.Ay)(u),!l){var w=u.clientX-o,T=u.clientY-c;l=w*w+T*T>_}i.mouse("drag",u)}function h(u){(0,Re.A)(u.view).on("mousemove.drag mouseup.drag",null),(0,Ye.y)(u.view,l),(0,$.Ay)(u),i.mouse("end",u)}function d(u,w){if(n.call(this,u,w)){var k,P,T=u.changedTouches,A=e.call(this,u,w),E=T.length;for(k=0;k<E;++k)(P=S(this,A,u,w,T[k].identifier,T[k]))&&((0,$.GK)(u),P("start",u,T[k]))}}function y(u){var A,E,w=u.changedTouches,T=w.length;for(A=0;A<T;++A)(E=i[w[A].identifier])&&((0,$.Ay)(u),E("drag",u,w[A]))}function v(u){var A,E,w=u.changedTouches,T=w.length;for(x&&clearTimeout(x),x=setTimeout(function(){x=null},500),A=0;A<T;++A)(E=i[w[A].identifier])&&((0,$.GK)(u),E("end",u,w[A]))}function S(u,w,T,A,E,k){var M,z,ge,P=s.copy(),I=(0,Je.A)(k||T,w);if(null!=(ge=t.call(u,new Se("beforestart",{sourceEvent:T,target:p,identifier:E,active:a,x:I[0],y:I[1],dx:0,dy:0,dispatch:P}),A)))return M=ge.x-I[0]||0,z=ge.y-I[1]||0,function Rn(Me,pt,Sn){var Ge,gt=I;switch(Me){case"start":i[E]=Rn,Ge=a++;break;case"end":delete i[E],--a;case"drag":I=(0,Je.A)(Sn||pt,w),Ge=a}P.call(Me,u,new Se(Me,{sourceEvent:pt,subject:ge,target:p,identifier:E,active:Ge,x:I[0]+M,y:I[1]+z,dx:I[0]-gt[0],dy:I[1]-gt[1],dispatch:P}),A)}}return p.filter=function(u){return arguments.length?(n="function"==typeof u?u:ue(!!u),p):n},p.container=function(u){return arguments.length?(e="function"==typeof u?u:ue(u),p):e},p.subject=function(u){return arguments.length?(t="function"==typeof u?u:ue(u),p):t},p.touchable=function(u){return arguments.length?(r="function"==typeof u?u:ue(!!u),p):r},p.on=function(){var u=s.on.apply(s,arguments);return u===s?p:u},p.clickDistance=function(u){return arguments.length?(_=(u=+u)*u,p):Math.sqrt(_)},p}().on("start",(o,c)=>{o.sourceEvent.stopPropagation(),o.active||t.alphaTarget(.3).restart(),c.fx=c.x,c.fy=c.y}).on("drag",(o,c)=>{c.fx=o.x,c.fy=o.y}).on("end",(o,c)=>{o.active||t.alphaTarget(0),c.fx=null,c.fy=null});e.call(a)}_zoomHandler(e,t){this._zoomBehaviour=Lr.s_().scaleExtent([this.sliderConfig.min,this.sliderConfig.max]).on("zoom",i=>{const s=i.transform,a=this._roundToNearestScaleStep(s.k);e.attr("transform",s),this._sliderInput.nativeElement.value=a,this._sliderInputLabel.nativeElement.innerText=a+"x",this.sliderConfig.value=a}),t.call(this._zoomBehaviour)}_filterNodesById(e,t){return e.filter(r=>r.id===t)[0]}_filterNodesByType(e,t){return e.filter(r=>r.type===t)}_getContainerDimensions(e){return e?.nativeElement?{width:e.nativeElement.clientWidth,height:e.nativeElement.clientHeight}:null}_nodeRadius(e){if(!e)return null;let t=8;return-1!==e.label.indexOf("_:")?t-=1:e.instance||-1!==e.label.indexOf("inst:")?t+=2:(e.owlClass||-1!==e.label.indexOf("inst:"))&&(t+=1),t}_roundToNearestScaleStep(e){const t=this.sliderConfig.stepSize;return((s,a)=>+(Math.round(+(s+"e"+a))+"e-"+a))(e,(s=t,Math.floor(s)===s?0:s.toString().split(".")[1].length||0));var s}_triplesToD3GraphData(e){if(!e)return;const t=new Mt;return e.forEach(r=>{const i=this.prefixPipe.transform(r.subject,j.SHORT),s=this.prefixPipe.transform(r.predicate,j.SHORT);let a=this.prefixPipe.transform(r.object,j.SHORT);isNaN(a)||(a=Number(a)%1==0?String(Number(a)):String(Number(a).toFixed(2)));const o=new ve(s,Z.link);t.nodes.push(o);let c=this._filterNodesById(t.nodes,i);null==c&&(c=new ve(i,Z.node),t.nodes.push(c));let l=this._filterNodesById(t.nodes,a);null==l&&(l=new ve(a,Z.node),t.nodes.push(l)),!1===c.instance&&(c.instance=this._checkForRdfType(o)),!1===l.owlClass&&(l.owlClass=this._checkForRdfType(o)),t.links.push(new Xe(c,o)),t.links.push(new Xe(o,l)),t.nodeTriples.push(new Gt(c,o,l))}),t}_updateNodePositions(e){e.attr("cx",t=>t.x).attr("cy",t=>t.y)}_updateNodeTextPositions(e){e.attr("x",t=>t.x+12).attr("y",t=>t.y+3)}_updateLinkPositions(e){e.attr("d",t=>{const r=t.nodeSubject.x,i=t.nodeSubject.y;let s=t.nodeObject.x,a=t.nodeObject.y;let c=0,l=0,x=0,_=0;return r===s&&i===a&&(x=-45,_=1,c=30,l=20,s+=1,a+=1),"M"+r+","+i+"A"+c+","+l+" "+x+","+_+",1 "+s+","+a})}_updateLinkTextPositions(e){e.attr("x",t=>t.nodeSubject.x===t.nodeObject.x&&t.nodeSubject.y===t.nodeObject.y?20+(t.nodeSubject.x+t.nodePredicate.x+t.nodeObject.x)/3:10+(t.nodeSubject.x+t.nodePredicate.x+t.nodeObject.x)/3).attr("y",t=>t.nodeSubject.x===t.nodeObject.x&&t.nodeSubject.y===t.nodeObject.y?(t.nodeSubject.y+t.nodePredicate.y+t.nodeObject.y)/3-40:4+(t.nodeSubject.y+t.nodePredicate.y+t.nodeObject.y)/3)}static#e=this.ctorParameters=()=>[{type:ie},{type:ee}];static#t=this.propDecorators={currentQueryResultTriples:[{type:f.pde}],height:[{type:f.pde}],clickedNodeRequest:[{type:f.k7i}],_graphContainer:[{type:f.Uct,args:["graphContainer",{static:!0}]}],_sliderInput:[{type:f.Uct,args:["sliderInput",{static:!0}]}],_sliderInputLabel:[{type:f.Uct,args:["sliderInputLabel",{static:!0}]}],onResize:[{type:f.Z$l,args:["window:resize"]}]}};Ee=(0,R.Cg)([(0,f.uAl)({selector:"awg-force-graph",template:'<div\n    #graphContainer\n    id="awg-force-graph-container"\n    class="awg-force-graph-panel-container"\n    [ngStyle]="{ \'height.px\': height }">\n    <div class="awg-force-graph-icon-bar">\n        \x3c!-- Slider --\x3e\n        <div class="input-group input-group-sm awg-force-graph-zoom-slider-container float-start mb-3">\n            <span #sliderInputLabel class="input-group-text" id="slider-label">{{ sliderConfig.value }}x</span>\n            <input\n                type="range"\n                #sliderInput\n                class="awg-force-graph-zoom-slider"\n                id="awg-force-graph-zoom-slider"\n                name="zoomSlider"\n                aria-label="Zoom slider"\n                aria-describedby="slider-label"\n                [min]="sliderConfig.min"\n                [max]="sliderConfig.max"\n                [step]="sliderConfig.stepSize"\n                [(ngModel)]="sliderConfig.value"\n                (ngModelChange)="onZoomChange($event)" />\n            <button class="btn btn-sm btn-outline-info" type="submit" title="Reset" (click)="onReCenter()">\n                <fa-icon [icon]="faCompressArrowsAlt"></fa-icon>\n            </button>\n        </div>\n\n        \x3c!-- Limit --\x3e\n        @if (currentQueryResultTriples) {\n            <div class="btn-group awg-force-graph-node-limit-container float-end my-auto">\n                <button type="button" class="btn btn-sm btn-outline-info" disabled aria-disabled="true">\n                    @if (limit < currentQueryResultTriples.length) {\n                        <span>{{ limit }} von </span>\n                    }\n                    {{ currentQueryResultTriples.length }} Triples\n                </button>\n                <div\n                    class="btn-group"\n                    ngbDropdown\n                    container="body"\n                    role="group"\n                    aria-label="Button group with nested dropdown for node limit">\n                    <button\n                        class="btn btn-sm btn-info dropdown-toggle"\n                        ngbDropdownToggle\n                        [disabled]="currentQueryResultTriples.length === 0"></button>\n                    <div class="dropdown-menu" ngbDropdownMenu>\n                        @for (limitValue of limitValues; track limitValue) {\n                            @if (currentQueryResultTriples.length > limitValue) {\n                                <button class="dropdown-item" (click)="onLimitValueChange(limitValue)">\n                                    <span>{{ limitValue }}</span>\n                                </button>\n                            }\n                        }\n                        <button class="dropdown-item" (click)="onLimitValueChange(currentQueryResultTriples.length)">\n                            <span>Kein Limit</span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        }\n\n        \x3c!-- <span *ngIf="message" class="message">{{message}}</span> --\x3e\n    </div>\n</div>\n',styles:[Zt()]})],Ee);var zr=g(2879),Mr=g.n(zr),Ae=g(444);let Pe=class{constructor(e){this.utils=e,this.clickedTableRequest=new f.bkB}isAccordionItemDisabled(){return this.isFullscreen}isQueryResultNotEmpty(e){const{head:t,body:r}=e;return this.utils.isNotEmptyArray(t?.vars)&&this.utils.isNotEmptyArray(r?.bindings)}onTableNodeClick(e){e&&this.clickedTableRequest.emit(e)}static#e=this.ctorParameters=()=>[{type:Ae.QY}];static#t=this.propDecorators={queryResult$:[{type:f.pde}],queryTime:[{type:f.pde}],isFullscreen:[{type:f.pde}],clickedTableRequest:[{type:f.k7i}]}};Pe=(0,R.Cg)([(0,f.uAl)({selector:"awg-select-results",template:'<div ngbAccordion>\n    <div\n        ngbAccordionItem="awg-graph-visualizer-select-results"\n        [collapsed]="false"\n        [disabled]="isAccordionItemDisabled()">\n        <div ngbAccordionHeader>\n            <button ngbAccordionButton class="p-3">Resultat</button>\n        </div>\n        <div ngbAccordionCollapse>\n            <div ngbAccordionBody>\n                <ng-template>\n                    @if (queryResult$ | async; as queryResult) {\n                        @if (isQueryResultNotEmpty(queryResult)) {\n                            \x3c!-- SPARQL table visualization --\x3e\n                            <awg-sparql-table\n                                [queryResult]="queryResult"\n                                [queryTime]="queryTime"\n                                (clickedTableRequest)="onTableNodeClick($event)">\n                            </awg-sparql-table>\n                        } @else {\n                            <awg-sparql-no-results></awg-sparql-no-results>\n                        }\n                    } @else {\n                        <awg-twelve-tone-spinner></awg-twelve-tone-spinner>\n                    }\n                </ng-template>\n            </div>\n        </div>\n    </div>\n</div>\n',changeDetection:f.Ngq.OnPush,styles:[Mr()]})],Pe);var B,Qr=g(7743),$r=g.n(Qr);function it(n){return new RegExp("^(?:"+n.join("|")+")$","i")}var Br=it(["str","lang","langmatches","datatype","bound","sameterm","isiri","isuri","iri","uri","bnode","count","sum","min","max","avg","sample","group_concat","rand","abs","ceil","floor","round","concat","substr","strlen","replace","ucase","lcase","encode_for_uri","contains","strstarts","strends","strbefore","strafter","year","month","day","hours","minutes","seconds","timezone","tz","now","uuid","struuid","md5","sha1","sha256","sha384","sha512","coalesce","if","strlang","strdt","isnumeric","regex","exists","isblank","isliteral","a","bind"]),Hr=it(["base","prefix","select","distinct","reduced","construct","describe","ask","from","named","where","order","limit","offset","filter","optional","graph","by","asc","desc","as","having","undef","values","group","minus","in","not","service","silent","using","insert","delete","union","true","false","with","data","copy","to","move","add","create","drop","clear","load","into"]),Ur=/[*+\-<>=&|\^\/!\?]/,st="[A-Za-z_\\-0-9]",Vr=new RegExp("[A-Za-z]"),Zr=new RegExp("(("+st+"|\\.)*("+st+"))?:");function at(n,e){var t=n.next();if(B=null,"$"==t||"?"==t)return"?"==t&&n.match(/\s/,!1)?"operator":(n.match(/^[A-Za-z0-9_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][A-Za-z0-9_\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]*/),"variableName.local");if("<"==t&&!n.match(/^[\s\u00a0=]/,!1))return n.match(/^[^\s\u00a0>]*>?/),"atom";if('"'==t||"'"==t)return e.tokenize=function Xr(n){return function(e,t){for(var i,r=!1;null!=(i=e.next());){if(i==n&&!r){t.tokenize=at;break}r=!r&&"\\"==i}return"string"}}(t),e.tokenize(n,e);if(/[{}\(\),\.;\[\]]/.test(t))return B=t,"bracket";if("#"==t)return n.skipToEnd(),"comment";if(Ur.test(t))return"operator";if(":"==t)return ot(n),"atom";if("@"==t)return n.eatWhile(/[a-z\d\-]/i),"meta";if(Vr.test(t)&&n.match(Zr))return ot(n),"atom";n.eatWhile(/[_\w\d]/);var r=n.current();return Br.test(r)?"builtin":Hr.test(r)?"keyword":"variable"}function ot(n){n.match(/(\.(?=[\w_\-\\%])|[:\w_-]|\\[-\\_~.!$&'()*+,;=/?#@%]|%[a-f\d][a-f\d])+/i)}function he(n,e,t){n.context={prev:n.context,indent:n.indent,col:t,type:e}}function de(n){n.indent=n.context.indent,n.context=n.context.prev}const Wr={name:"sparql",startState:function(){return{tokenize:at,context:null,indent:0,col:0}},token:function(n,e){if(n.sol()&&(e.context&&null==e.context.align&&(e.context.align=!1),e.indent=n.indentation()),n.eatSpace())return null;var t=e.tokenize(n,e);if("comment"!=t&&e.context&&null==e.context.align&&"pattern"!=e.context.type&&(e.context.align=!0),"("==B)he(e,")",n.column());else if("["==B)he(e,"]",n.column());else if("{"==B)he(e,"}",n.column());else if(/[\]\}\)]/.test(B)){for(;e.context&&"pattern"==e.context.type;)de(e);e.context&&B==e.context.type&&(de(e),"}"==B&&e.context&&"pattern"==e.context.type&&de(e))}else"."==B&&e.context&&"pattern"==e.context.type?de(e):/atom|string|variable/.test(t)&&e.context&&(/[\}\]]/.test(e.context.type)?he(e,"pattern",n.column()):"pattern"==e.context.type&&!e.context.align&&(e.context.align=!0,e.context.col=n.column()));return t},indent:function(n,e,t){var r=e&&e.charAt(0),i=n.context;if(/[\]\}]/.test(r))for(;i&&"pattern"==i.type;)i=i.prev;var s=i&&r==i.type;return i?"pattern"==i.type?i.col:i.align?i.col+(s?0:1):i.indent+(s?0:t.unit):0},languageData:{commentTokens:{line:"#"}}};var L=g(7778);let ke=class{constructor(){this.errorMessageRequest=new f.bkB,this.performQueryRequest=new f.bkB,this.resetQueryRequest=new f.bkB,this.updateQueryStringRequest=new f.bkB,this.cmSparqlMode=Wr,this.faDiagramProject=X.sOt,this.faTable=X.w97,this.selectedViewType=L.f.GRAPH,this.viewHandles=[new L.C("Graph view",L.f.GRAPH,X.sOt),new L.C("Table view",L.f.TABLE,X.w97)]}ngOnInit(){this.setViewType()}ngOnChanges(e){e.query&&!e.query.isFirstChange()&&this.setViewType()}setViewType(){const e={construct:L.f.GRAPH,select:L.f.TABLE};this.selectedViewType=e[this.query?.queryType]||L.f.GRAPH}onViewChange(e){this.switchQueryType(e),this.onEditorInputChange(this.query.queryString),this.performQuery()}switchQueryType(e){switch(e){case L.f.TABLE:"construct"===this.query.queryType&&this.query.queryString.includes("CONSTRUCT")&&(this.query.queryString=this.query.queryString.replace("CONSTRUCT","SELECT *"),this.query.queryType="select");break;case L.f.GRAPH:"select"===this.query.queryType&&this.query.queryString.includes("SELECT")&&(this.query.queryString=this.query.queryString.replace(/SELECT.*\n/,"CONSTRUCT\n"),this.query.queryType="construct");break;case L.f.GRID:break;default:{const t=e;throw new Error(`The view must be ${L.f.GRAPH} or ${L.f.TABLE}, but was: ${t}.`)}}}isExampleQueriesEnabled(){return!!(this.query?.queryType&&this.query?.queryLabel&&this.query?.queryString&&this.queryList)}onEditorInputChange(e){this.updateQueryStringRequest.emit(e)}onQueryListChange(e){e&&this.queryList&&(e=this.queryList.find(t=>e.queryLabel===t.queryLabel&&e.queryType===t.queryType)||this.queryList[0],this.resetQuery(e))}performQuery(){this.query.queryString?this.performQueryRequest.emit():this.errorMessageRequest.emit(new K.FH("Empty query","Please enter a SPARQL query."))}resetQuery(e){e&&this.resetQueryRequest.emit(e)}isAccordionItemCollapsed(){return!this.isFullscreen}isAccordionItemDisabled(){return this.isFullscreen}static#e=this.propDecorators={queryList:[{type:f.pde}],query:[{type:f.pde}],isFullscreen:[{type:f.pde}],errorMessageRequest:[{type:f.k7i}],performQueryRequest:[{type:f.k7i}],resetQueryRequest:[{type:f.k7i}],updateQueryStringRequest:[{type:f.k7i}]}};ke=(0,R.Cg)([(0,f.uAl)({selector:"awg-sparql-editor",template:'<div ngbAccordion>\n    <div\n        ngbAccordionItem="awg-graph-visualizer-sparql-query"\n        [collapsed]="isAccordionItemCollapsed()"\n        [disabled]="isAccordionItemDisabled()">\n        <div ngbAccordionHeader class="accordion-button custom-header justify-content-between">\n            <button ngbAccordionToggle class="btn btn-link m-0 p-0">SPARQL</button>\n            \x3c!-- View Handle --\x3e\n            @if (!isFullscreen) {\n                <awg-view-handle-button-group\n                    [viewHandles]="viewHandles"\n                    [selectedViewType]="selectedViewType"\n                    (viewChangeRequest)="onViewChange($event)"></awg-view-handle-button-group>\n            }\n\n            \x3c!-- Example Query Handle --\x3e\n            @if (isExampleQueriesEnabled()) {\n                <div class="p-0 btn-group awg-example-query-btn-group" style="padding: -3rem">\n                    <button type="button" class="btn btn-sm btn-outline-info" disabled aria-disabled="true">\n                        Beispielabfragen\n                    </button>\n                    <div\n                        class="btn-group"\n                        ngbDropdown\n                        container="body"\n                        placement="bottom-right"\n                        role="group"\n                        aria-label="Button group with nested dropdown for sample queries">\n                        <button class="btn btn-sm btn-info" ngbDropdownToggle></button>\n                        <div ngbDropdownMenu>\n                            <h6 class="dropdown-header">Graph-Ansicht (CONSTRUCT)</h6>\n                            @for (q of queryList; track q) {\n                                @if (q.queryType === \'construct\') {\n                                    <a ngbDropdownItem [class.disabled]="q === query" (click)="onQueryListChange(q)">\n                                        <span>{{ q.queryLabel }}</span>\n                                    </a>\n                                }\n                            }\n                            <div class="dropdown-divider"></div>\n                            <h6 class="dropdown-header">Tabellen-Ansicht (SELECT)</h6>\n                            @for (q of queryList; track q) {\n                                @if (q.queryType === \'select\') {\n                                    <a ngbDropdownItem [class.disabled]="q === query" (click)="onQueryListChange(q)">\n                                        <span>{{ q.queryLabel }}</span>\n                                    </a>\n                                }\n                            }\n                        </div>\n                    </div>\n                </div>\n            }\n        </div>\n        <div ngbAccordionCollapse [style.height]="isFullscreen ? \'50vh\' : \'auto\'">\n            <div ngbAccordionBody>\n                <ng-template>\n                    \x3c!-- CodeMirror editor instance --\x3e\n                    <awg-codemirror\n                        ngDefaultControl\n                        [mode]="cmSparqlMode"\n                        [(content)]="query.queryString"\n                        (contentChange)="onEditorInputChange($event)"></awg-codemirror>\n\n                    \x3c!-- Handle buttons --\x3e\n                    <div fxLayout="row" class="mt-2 awg-graph-visualizer-sparql-query-handle-buttons">\n                        <button class="btn btn-outline-info" (click)="performQuery()">Query</button>\n                        <button class="btn btn-warning" (click)="resetQuery(query)">Reset</button>\n                        <button class="btn btn-danger" (click)="onEditorInputChange(\'\')">Clear</button>\n                    </div>\n                </ng-template>\n            </div>\n        </div>\n    </div>\n</div>\n',changeDetection:f.Ngq.OnPush,styles:[$r()]})],ke);var Jr=g(9099),Yr=g.n(Jr);let Ie=class{constructor(e){this.coreService=e}ngOnInit(){this.provideMetaData()}provideMetaData(){this.logos=this.coreService.getLogos()}static#e=this.ctorParameters=()=>[{type:Ae.PX}]};Ie=(0,R.Cg)([(0,f.uAl)({selector:"awg-sparql-no-results",template:'<div class="text-center">\n    <p>Entschuldigung, Ihre SPARQL-Anfrage f\xfchrte leider zu keinem Ergebnis.</p>\n    <p>M\xf6glicherweise k\xf6nnen Sie Ihre Anfrage anpassen.</p>\n    <p>\n        Ausf\xfchrliche Informationen zu SPARQL finden Sie unter:\n        <a href="{{ logos.sparql.href }}">{{ logos.sparql.href }}</a\n        >.\n    </p>\n    <p>\n        <a href="{{ logos.sparql.href }}">\n            <img width="33%" src="{{ logos.sparql.src }}" alt="{{ logos.sparql.alt }}" />\n        </a>\n    </p>\n</div>\n',changeDetection:f.Ngq.OnPush,styles:[Yr()]})],Ie);var tn=g(9301),rn=g.n(tn);let Fe=class{constructor(){this.clickedTableRequest=new f.bkB}onTableNodeClick(e){e&&this.clickedTableRequest.emit(e)}static#e=this.propDecorators={queryResult:[{type:f.pde}],queryTime:[{type:f.pde}],clickedTableRequest:[{type:f.k7i}]}};Fe=(0,R.Cg)([(0,f.uAl)({selector:"awg-sparql-table",template:'@if (queryResult) {\n    <awg-table\n        [tableTitle]="\'SELECT Anfrage\'"\n        [headerInputData]="queryResult.head.vars"\n        [rowInputData]="queryResult.body.bindings"\n        (clickedTableValueRequest)="onTableNodeClick($event)"\n        (clickedTableRowRequest)="(undefined)"></awg-table>\n}\n',changeDetection:f.Ngq.OnPush,styles:[rn()]})],Fe);var U,sn=g(4727),an=g.n(sn);function lt(n){return new RegExp("^(?:"+n.join("|")+")$","i")}lt([]);var ut=lt(["@prefix","@base","a"]),ct=/[*+\-<>=&|]/;function ht(n,e){var t=n.next();if(U=null,"<"==t&&!n.match(/^[\s\u00a0=]/,!1))return n.match(/^[^\s\u00a0>]*>?/),"atom";if('"'==t||"'"==t)return e.tokenize=function ln(n){return function(e,t){for(var i,r=!1;null!=(i=e.next());){if(i==n&&!r){t.tokenize=ht;break}r=!r&&"\\"==i}return"string"}}(t),e.tokenize(n,e);if(/[{}\(\),\.;\[\]]/.test(t))return U=t,null;if("#"==t)return n.skipToEnd(),"comment";if(ct.test(t))return n.eatWhile(ct),null;if(":"==t)return"operator";if(n.eatWhile(/[_\w\d]/),":"==n.peek())return"variableName.special";var r=n.current();return ut.test(r)?"meta":t>="A"&&t<="Z"?"comment":"keyword"}function fe(n,e,t){n.context={prev:n.context,indent:n.indent,col:t,type:e}}function De(n){n.indent=n.context.indent,n.context=n.context.prev}const un={name:"turtle",startState:function(){return{tokenize:ht,context:null,indent:0,col:0}},token:function(n,e){if(n.sol()&&(e.context&&null==e.context.align&&(e.context.align=!1),e.indent=n.indentation()),n.eatSpace())return null;var t=e.tokenize(n,e);if("comment"!=t&&e.context&&null==e.context.align&&"pattern"!=e.context.type&&(e.context.align=!0),"("==U)fe(e,")",n.column());else if("["==U)fe(e,"]",n.column());else if("{"==U)fe(e,"}",n.column());else if(/[\]\}\)]/.test(U)){for(;e.context&&"pattern"==e.context.type;)De(e);e.context&&U==e.context.type&&De(e)}else"."==U&&e.context&&"pattern"==e.context.type?De(e):/atom|string|variable/.test(t)&&e.context&&(/[\}\]]/.test(e.context.type)?fe(e,"pattern",n.column()):"pattern"==e.context.type&&!e.context.align&&(e.context.align=!0,e.context.col=n.column()));return t},indent:function(n,e,t){var r=e&&e.charAt(0),i=n.context;if(/[\]\}]/.test(r))for(;i&&"pattern"==i.type;)i=i.prev;var s=i&&r==i.type;return i?"pattern"==i.type?i.col:i.align?i.col+(s?0:1):i.indent+(s?0:t.unit):0},languageData:{commentTokens:{line:"#"}}};let Oe=class{constructor(){this.errorMessageRequest=new f.bkB,this.performQueryRequest=new f.bkB,this.resetTriplesRequest=new f.bkB,this.updateTriplesRequest=new f.bkB,this.cmTurtleMode=un}onEditorInputChange(e){this.updateTriplesRequest.emit(e)}performQuery(){this.triples?this.performQueryRequest.emit():this.errorMessageRequest.emit(new K.FH("Empty triples","Please enter triple content."))}resetTriples(){this.resetTriplesRequest.emit()}isAccordionItemCollapsed(){return!this.isFullscreen}isAccordionItemDisabled(){return this.isFullscreen}static#e=this.propDecorators={triples:[{type:f.pde}],isFullscreen:[{type:f.pde}],errorMessageRequest:[{type:f.k7i}],performQueryRequest:[{type:f.k7i}],resetTriplesRequest:[{type:f.k7i}],updateTriplesRequest:[{type:f.k7i}]}};Oe=(0,R.Cg)([(0,f.uAl)({selector:"awg-triples-editor",template:'<div ngbAccordion>\n    <div\n        ngbAccordionItem="awg-graph-visualizer-triples"\n        [collapsed]="isAccordionItemCollapsed()"\n        [disabled]="isAccordionItemDisabled()">\n        <div ngbAccordionHeader>\n            <button ngbAccordionButton class="p-3">RDF Triples</button>\n        </div>\n        <div ngbAccordionCollapse [style.height]="isFullscreen ? \'50vh\' : \'auto\'">\n            <div ngbAccordionBody>\n                <ng-template>\n                    \x3c!-- CodeMirror editor instance --\x3e\n                    <awg-codemirror\n                        ngDefaultControl\n                        [mode]="cmTurtleMode"\n                        [(content)]="triples"\n                        (contentChange)="onEditorInputChange($event)"></awg-codemirror>\n\n                    \x3c!-- Handle buttons --\x3e\n                    <div fxLayout="row" class="awg-graph-visualizer-triples-handle-buttons mt-2">\n                        <button class="btn btn-outline-info" (click)="performQuery()">Query</button>\n                        <button class="btn btn-warning" (click)="resetTriples()">Reset</button>\n                        <button class="btn btn-danger" (click)="onEditorInputChange(\'\')">Clear</button>\n                    </div>\n                </ng-template>\n            </div>\n        </div>\n    </div>\n</div>\n',changeDetection:f.Ngq.OnPush,styles:[an()]})],Oe);var hn=g(4215),dn=g.n(hn);let qe=class{isAccordionItemDisabled(){return this.isFullscreen}static#e=this.propDecorators={queryType:[{type:f.pde}],isFullscreen:[{type:f.pde}]}};qe=(0,R.Cg)([(0,f.uAl)({selector:"awg-unsupported-type-results",template:'<div ngbAccordion>\n    <div\n        ngbAccordionItem="awg-graph-visualizer-unsupported-query-type-result"\n        [collapsed]="false"\n        [disabled]="isAccordionItemDisabled()">\n        <div ngbAccordionHeader>\n            <button ngbAccordionButton>Resultat</button>\n        </div>\n        <div ngbAccordionCollapse>\n            <div ngbAccordionBody>\n                <p class="text-center">\n                    Sorry, but the requested SPARQL query type <code>{{ queryType | uppercase }}</code> is not supported\n                    yet.\n                </p>\n                <p class="text-center">Please try a <code>CONSTRUCT</code> or <code>SELECT</code> query instead.</p>\n            </div>\n        </div>\n    </div>\n</div>\n',changeDetection:f.Ngq.OnPush,styles:[dn()]})],qe);let Le=class{};Le=(0,R.Cg)([(0,f.UQu)({imports:[N.G],declarations:[we,Ee,se,ee,Pe,ke,Ie,Fe,Oe,qe],exports:[se],providers:[ie,ee]})],Le);var dt=g(4308);var pn=g(745),gn=g.n(pn),_n=g(177),bn=g(5558),mn=g(9437),yn=g(5562),xn=g(5110),ft=g(7773);let pe=class{constructor(e,t,r,i){this.editionDataService=e,this.editionService=t,this.document=r,this.utils=i,this.isFullscreen=!1,this.faExpand=X.oZK,this.faCompress=X.gr3,this.GRAPH_IMAGES={OP12:"",OP25:yn.mr.GRAPH_IMAGE_OP25.route},this.errorObject=null,this.ref=this}get editionRouteConstants(){return xn.vD}onKeydownHandler(e){!this.document.fullscreenElement&&!this.document.mozFullScreenElement&&!this.document.webkitFullscreenElement&&(this.isFullscreen=!1)}ngOnInit(){this.getEditionGraphData()}getEditionGraphData(){this.editionGraphData$=this.editionService.getEditionComplex().pipe((0,bn.n)(e=>(this.editionComplex=e,this.editionDataService.getEditionGraphData(this.editionComplex))),(0,mn.W)(e=>(this.errorObject=e,Qe.w)))}openFullscreen(){const e=this.child.fs.nativeElement;this.isFullscreen=!0,!this.document.fullscreenElement&&!this.document.mozFullScreenElement&&!this.document.webkitFullscreenElement&&(e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())}closeFullscreen(){this.document.exitFullscreen?this.document.exitFullscreen():this.document.mozCancelFullScreen?this.document.mozCancelFullScreen():this.document.webkitExitFullscreen?this.document.webkitExitFullscreen():this.document.msExitFullscreen&&this.document.msExitFullscreen(),this.isFullscreen=!1}static#e=this.ctorParameters=()=>[{type:ft.U7},{type:ft.s9},{type:void 0,decorators:[{type:f.y_5,args:[_n.qQ]}]},{type:Ae.QY}];static#t=this.propDecorators={child:[{type:f.Uct,args:[se]}],isFullscreen:[{type:f.g$6,args:["class.is-fullscreen"]}],onKeydownHandler:[{type:f.Z$l,args:["document:fullscreenchange",["$event"]]}]}};pe=(0,R.Cg)([(0,f.uAl)({selector:"awg-edition-graph",template:'\x3c!-- content: edition graph --\x3e\n<div>\n    \x3c!-- modal --\x3e\n    <awg-modal #modal></awg-modal>\n\n    \x3c!-- graph --\x3e\n    @if (editionGraphData$ | async; as editionGraphData) {\n        <div class="awg-graph-view p-5 border rounded-3">\n            @for (graph of editionGraphData.graph; track graph) {\n                <div>\n                    \x3c!-- graph description --\x3e\n                    <div class="awg-graph-description">\n                        <p>\n                            So weit vorhanden, pr\xe4sentiert die vorliegende Ansicht Graph-Visualisierungen des\n                            ausgew\xe4hlten Editionsbereichs: Der <em>statische Graph</em> vermittelt dabei einen von den\n                            jeweiligen Editoren fixierten \xdcberblick editionsrelevanter Zusammenh\xe4nge und Abh\xe4ngigkeiten,\n                            der <em>dynamische Graph</em> bietet zus\xe4tzlich einen interaktiven Zugang zu dem\n                            zugrundeliegenden Datenbestand.\n                            <span class="text-danger"\n                                >Diese Funktionalit\xe4t ist noch nicht f\xfcr alle Skizzenbestandteile verf\xfcgbar, wird aber\n                                sukzessive erg\xe4nzt.</span\n                            >\n                        </p>\n                        @if (utils.isNotEmptyArray(graph.description) || graph.rdfData?.triples) {\n                            @for (description of graph.description; track description) {\n                                <p [compile-html]="description" [compile-html-ref]="ref"></p>\n                            }\n                        } @else {\n                            <p class="awg-graph-description-empty">\n                                <small class="text-muted"\n                                    >[Die Graph-Visualisierungen zum Editionskomplex\n                                    <span [innerHTML]="editionComplex.complexId.full"></span> erscheinen im Zusammenhang\n                                    der vollsta\u0308ndigen Edition von {{ editionComplex.complexId.short }} in\n                                    {{ editionRouteConstants.EDITION.short }} {{ editionComplex.series.short }}/{{\n                                        editionComplex.section.short\n                                    }}.]\n                                </small>\n                            </p>\n                        }\n                    </div>\n                    \x3c!-- dynamic graph --\x3e\n                    @if (graph.rdfData && graph.rdfData.triples && graph.rdfData.queryList) {\n                        <div class="awg-graph-dynamic">\n                            <h4>\n                                Dynamischer Graph\n                                <button\n                                    type="button"\n                                    class="btn btn-sm btn-outline-info ms-2"\n                                    (click)="modal.open(\'HINT_EDITION_GRAPH\')">\n                                    Hinweise zur Nutzung\n                                </button>\n                                @if (!isFullscreen) {\n                                    <button\n                                        type="button"\n                                        title="Open fullscreen"\n                                        class="btn btn-sm btn-outline-info ms-2"\n                                        (click)="openFullscreen()">\n                                        <fa-icon [icon]="faExpand"></fa-icon>\n                                    </button>\n                                }\n                                @if (isFullscreen) {\n                                    <button\n                                        type="button"\n                                        title="Close fullscreen"\n                                        class="btn btn-sm btn-info ms-2"\n                                        (click)="closeFullscreen()">\n                                        <fa-icon [icon]="faCompress"></fa-icon>\n                                    </button>\n                                }\n                            </h4>\n                            <p>\n                                Diese interaktive Visualisierung basiert auf Mads Holten\'s\n                                <a href="https://github.com/MadsHolten/sparql-visualizer">SPARQL Visualizer</a>. Sie\n                                modelliert den aktuellen Skizzenkomplex in Form eines\n                                <a href="https://www.w3.org/RDF/">RDF</a>-Graphen. Die zugrundeliegenden RDF-Daten sind\n                                unter dem Punkt <em>RDF Triples</em> einsehbar und lokal editierbar. Eine Filterung und\n                                Eingrenzung dieser RDF-Daten kann mithilfe der Abfragesprache\n                                <a href="https://www.w3.org/TR/sparql11-query/">SPARQL</a>\n                                unter dem Punkt <em>SPARQL Abfrage</em> vorgenommen werden; in der Voreinstellung werden\n                                hierbei alle vorhandenen Triples abgefragt.\n                            </p>\n                            <awg-graph-visualizer\n                                [graphRDFInputData]="graph.rdfData"\n                                [isFullscreen]="isFullscreen"></awg-graph-visualizer>\n                        </div>\n                    }\n                    \x3c!-- static image --\x3e\n                    @if (graph.staticImage && graph.staticImage !== \'\') {\n                        <div class="awg-graph-static mt-3">\n                            <h4>Statischer Graph</h4>\n                            <div [compile-html]="graph.staticImage" [compile-html-ref]="ref"></div>\n                        </div>\n                    }\n                </div>\n            }\n        </div>\n    } @else {\n        @if (errorObject) {\n            <div class="errorMessage">\n                <div class="col-12 text-center">\n                    <div class="alert alert-danger">{{ errorObject | json }}</div>\n                </div>\n            </div>\n        }\n    }\n\n    \x3c!-- error message --\x3e\n    <ng-template #error>\n        @if (errorObject) {\n            <div class="errorMessage">\n                <div class="col-12 text-center">\n                    <div class="alert alert-danger">{{ errorObject | json }}</div>\n                </div>\n            </div>\n        }\n    </ng-template>\n</div>\n',changeDetection:f.Ngq.OnPush,styles:[gn()]})],pe);const vn=[{path:"",component:pe,data:{title:"AWG Online Edition \u2013 Graph"}}],wn=[pe];let je=class{};je=(0,R.Cg)([(0,f.UQu)({imports:[dt.iI.forChild(vn)],exports:[dt.iI]})],je);let ze=class{};ze=(0,R.Cg)([(0,f.UQu)({imports:[N.G,Le,je],declarations:[wn]})],ze)},4515:C=>{let F;C.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:global):g=>(F||(F=Promise.resolve())).then(g).catch(R=>setTimeout(()=>{throw R},0))},745:(C,F,g)=>{var R=g(8564),N=g(8557)(R);N.push([C.id,"",""]),C.exports=N.toString()},3003:(C,F,g)=>{var R=g(8564),N=g(8557)(R);N.push([C.id,"",""]),C.exports=N.toString()},1135:(C,F,g)=>{var R=g(8564),N=g(8557)(R);N.push([C.id,'#awg-force-graph-container {\n  position: relative;\n  width: 100%;\n}\n#awg-force-graph-container > .awg-force-graph-icon-bar {\n  position: relative;\n  width: 100%;\n}\n\n.awg-force-graph-panel-container {\n  position: inherit;\n  height: 100%;\n}\n\n/* slider */\n.input-group.awg-force-graph-zoom-slider-container {\n  flex-wrap: nowrap;\n  width: auto;\n}\n.input-group.awg-force-graph-zoom-slider-container > :not(:first-child) {\n  margin-left: 0px !important;\n}\n\n#slider-label.input-group-text {\n  min-width: 50px;\n  color: #149b9e;\n}\n\n/* slider input */\ninput[type=range].awg-force-graph-zoom-slider {\n  width: 100%;\n  background-color: transparent;\n  -webkit-appearance: none;\n}\ninput[type=range].awg-force-graph-zoom-slider:focus {\n  outline: none;\n}\ninput[type=range].awg-force-graph-zoom-slider:focus::-ms-fill-lower {\n  background: rgba(221, 221, 221, 0.78);\n}\ninput[type=range].awg-force-graph-zoom-slider:focus::-ms-fill-upper {\n  background: #e5e5e5;\n}\ninput[type=range].awg-force-graph-zoom-slider:focus::-webkit-slider-runnable-track {\n  background: #e5e5e5;\n}\ninput[type=range].awg-force-graph-zoom-slider::-webkit-slider-runnable-track {\n  background: rgba(221, 221, 221, 0.78);\n  border: 0.2px solid #dddddd;\n  border-radius: 1.3px;\n  width: 100%;\n  height: 31px;\n  cursor: pointer;\n}\ninput[type=range].awg-force-graph-zoom-slider::-webkit-slider-thumb {\n  width: 15px;\n  height: 29px;\n  background: #149b9e;\n  border: 1.8px solid #149b9e;\n  border-radius: 10px;\n  cursor: pointer;\n  -webkit-appearance: none;\n}\ninput[type=range].awg-force-graph-zoom-slider::-moz-range-track {\n  background: rgba(221, 221, 221, 0.78);\n  border: 0.2px solid #dddddd;\n  border-radius: 1.3px;\n  width: 100%;\n  height: 29px;\n  cursor: pointer;\n  -moz-margin-start: fill;\n  margin-right: fill;\n}\ninput[type=range].awg-force-graph-zoom-slider::-moz-range-thumb {\n  width: 15px;\n  height: 27px;\n  background: #149b9e;\n  border: 1.8px solid #149b9e;\n  border-radius: 10px;\n  cursor: pointer;\n}\ninput[type=range].awg-force-graph-zoom-slider::-ms-track {\n  background: transparent;\n  border-color: transparent;\n  border-width: 7.4px 0;\n  color: transparent;\n  width: 100%;\n  height: 31px;\n  cursor: pointer;\n}\ninput[type=range].awg-force-graph-zoom-slider::-ms-fill-lower {\n  background: rgba(221, 221, 221, 0.78);\n  border: 0.2px solid #dddddd;\n  border-radius: 2.6px;\n}\ninput[type=range].awg-force-graph-zoom-slider::-ms-fill-upper {\n  background: rgba(221, 221, 221, 0.78);\n  border: 0.2px solid #dddddd;\n  border-radius: 2.6px;\n}\ninput[type=range].awg-force-graph-zoom-slider::-ms-thumb {\n  width: 15px;\n  height: 29px;\n  background: #149b9e;\n  border: 1.8px solid #149b9e;\n  border-radius: 10px;\n  cursor: pointer;\n  margin-top: 0px;\n  /*Needed to keep the Edge thumb centred*/\n}\n\n/* Simulation nodes */\n:host ::ng-deep .node {\n  stroke: #fff;\n  fill: #ddd;\n  stroke-width: 1.5px;\n}\n\n:host ::ng-deep .blank {\n  stroke: #fff;\n  fill: #000 !important;\n  stroke-width: 1.5px;\n}\n:host ::ng-deep .blank.instance {\n  stroke: #fff;\n  fill: #000;\n  stroke-width: 1.5px;\n}\n\n:host ::ng-deep .class {\n  stroke: #fff;\n  fill: rgb(158, 0, 0);\n  stroke-width: 1.5px;\n}\n\n:host ::ng-deep .instance {\n  stroke: #fff;\n  fill: rgb(32, 178, 170);\n  stroke-width: 1.5px;\n}\n\n:host ::ng-deep .instance-space {\n  stroke: #fff;\n  fill: rgb(0, 191, 255);\n  stroke-width: 1.5px;\n}\n\n:host ::ng-deep .instance-spaceType {\n  stroke: #fff;\n  fill: rgb(0, 0, 139);\n  stroke-width: 1.5px;\n}\n\n:host ::ng-deep .link {\n  fill: none;\n  stroke: #999;\n  stroke-opacity: 0.6;\n  stroke-width: 1px;\n}\n\n:host ::ng-deep marker {\n  stroke: #999;\n  fill: rgba(124, 240, 10, 0);\n}\n\n:host ::ng-deep .node-text {\n  font: 15px "Roboto", sans-serif;\n  fill: black;\n}\n\n:host ::ng-deep .link-text {\n  font: 13px "Roboto", sans-serif;\n  fill: grey;\n}',""]),C.exports=N.toString()},2489:(C,F,g)=>{var R=g(8564),N=g(8557)(R);N.push([C.id,":host::ng-deep .awg-fullscreen .collapse.show {\n  height: 100vh;\n}\n:host::ng-deep .awg-fullscreen #awg-graph-visualizer-triples.collapse.show {\n  height: 45vh;\n}\n:host::ng-deep .awg-fullscreen #awg-graph-visualizer-query.collapse.show {\n  height: 50vh;\n}",""]),C.exports=N.toString()},2879:(C,F,g)=>{var R=g(8564),N=g(8557)(R);N.push([C.id,"",""]),C.exports=N.toString()},7743:(C,F,g)=>{var R=g(8564),N=g(8557)(R);N.push([C.id,".custom-header::after {\n  content: none;\n}\n.custom-header.accordion-button {\n  padding: 0.8rem !important;\n}\n.custom-header.accordion-button > #awg-graph-visualizer-sparql-query-toggle {\n  text-decoration: none;\n}",""]),C.exports=N.toString()},9099:(C,F,g)=>{var R=g(8564),N=g(8557)(R);N.push([C.id,"",""]),C.exports=N.toString()},9301:(C,F,g)=>{var R=g(8564),N=g(8557)(R);N.push([C.id,"ngb-highlight ::ng-deep .ngb-highlight {\n  font-weight: 700;\n  background: yellow;\n}",""]),C.exports=N.toString()},4727:(C,F,g)=>{var R=g(8564),N=g(8557)(R);N.push([C.id,"",""]),C.exports=N.toString()},4215:(C,F,g)=>{var R=g(8564),N=g(8557)(R);N.push([C.id,"",""]),C.exports=N.toString()}}]);